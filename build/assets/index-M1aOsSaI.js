function Pk(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function x1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var b1={exports:{}},Yl={},w1={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xa=Symbol.for("react.element"),o3=Symbol.for("react.portal"),a3=Symbol.for("react.fragment"),s3=Symbol.for("react.strict_mode"),l3=Symbol.for("react.profiler"),c3=Symbol.for("react.provider"),d3=Symbol.for("react.context"),u3=Symbol.for("react.forward_ref"),f3=Symbol.for("react.suspense"),p3=Symbol.for("react.memo"),h3=Symbol.for("react.lazy"),_p=Symbol.iterator;function m3(n){return n===null||typeof n!="object"?null:(n=_p&&n[_p]||n["@@iterator"],typeof n=="function"?n:null)}var _1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S1=Object.assign,k1={};function Ro(n,e,t){this.props=n,this.context=e,this.refs=k1,this.updater=t||_1}Ro.prototype.isReactComponent={};Ro.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Ro.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function C1(){}C1.prototype=Ro.prototype;function Bu(n,e,t){this.props=n,this.context=e,this.refs=k1,this.updater=t||_1}var Du=Bu.prototype=new C1;Du.constructor=Bu;S1(Du,Ro.prototype);Du.isPureReactComponent=!0;var Sp=Array.isArray,E1=Object.prototype.hasOwnProperty,zu={current:null},I1={key:!0,ref:!0,__self:!0,__source:!0};function N1(n,e,t){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)E1.call(e,r)&&!I1.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=t;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in s=n.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Xa,type:n,key:o,ref:a,props:i,_owner:zu.current}}function g3(n,e){return{$$typeof:Xa,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function Fu(n){return typeof n=="object"&&n!==null&&n.$$typeof===Xa}function v3(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var kp=/\/+/g;function kc(n,e){return typeof n=="object"&&n!==null&&n.key!=null?v3(""+n.key):e.toString(36)}function Fs(n,e,t,r,i){var o=typeof n;(o==="undefined"||o==="boolean")&&(n=null);var a=!1;if(n===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(n.$$typeof){case Xa:case o3:a=!0}}if(a)return a=n,i=i(a),n=r===""?"."+kc(a,0):r,Sp(i)?(t="",n!=null&&(t=n.replace(kp,"$&/")+"/"),Fs(i,e,t,"",function(c){return c})):i!=null&&(Fu(i)&&(i=g3(i,t+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(kp,"$&/")+"/")+n)),e.push(i)),1;if(a=0,r=r===""?".":r+":",Sp(n))for(var s=0;s<n.length;s++){o=n[s];var l=r+kc(o,s);a+=Fs(o,e,t,l,i)}else if(l=m3(n),typeof l=="function")for(n=l.call(n),s=0;!(o=n.next()).done;)o=o.value,l=r+kc(o,s++),a+=Fs(o,e,t,l,i);else if(o==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function ds(n,e,t){if(n==null)return n;var r=[],i=0;return Fs(n,r,"","",function(o){return e.call(t,o,i++)}),r}function y3(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var tn={current:null},Hs={transition:null},x3={ReactCurrentDispatcher:tn,ReactCurrentBatchConfig:Hs,ReactCurrentOwner:zu};function M1(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:ds,forEach:function(n,e,t){ds(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return ds(n,function(){e++}),e},toArray:function(n){return ds(n,function(e){return e})||[]},only:function(n){if(!Fu(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};_e.Component=Ro;_e.Fragment=a3;_e.Profiler=l3;_e.PureComponent=Bu;_e.StrictMode=s3;_e.Suspense=f3;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x3;_e.act=M1;_e.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=S1({},n.props),i=n.key,o=n.ref,a=n._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=zu.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var s=n.type.defaultProps;for(l in e)E1.call(e,l)&&!I1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:Xa,type:n.type,key:i,ref:o,props:r,_owner:a}};_e.createContext=function(n){return n={$$typeof:d3,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:c3,_context:n},n.Consumer=n};_e.createElement=N1;_e.createFactory=function(n){var e=N1.bind(null,n);return e.type=n,e};_e.createRef=function(){return{current:null}};_e.forwardRef=function(n){return{$$typeof:u3,render:n}};_e.isValidElement=Fu;_e.lazy=function(n){return{$$typeof:h3,_payload:{_status:-1,_result:n},_init:y3}};_e.memo=function(n,e){return{$$typeof:p3,type:n,compare:e===void 0?null:e}};_e.startTransition=function(n){var e=Hs.transition;Hs.transition={};try{n()}finally{Hs.transition=e}};_e.unstable_act=M1;_e.useCallback=function(n,e){return tn.current.useCallback(n,e)};_e.useContext=function(n){return tn.current.useContext(n)};_e.useDebugValue=function(){};_e.useDeferredValue=function(n){return tn.current.useDeferredValue(n)};_e.useEffect=function(n,e){return tn.current.useEffect(n,e)};_e.useId=function(){return tn.current.useId()};_e.useImperativeHandle=function(n,e,t){return tn.current.useImperativeHandle(n,e,t)};_e.useInsertionEffect=function(n,e){return tn.current.useInsertionEffect(n,e)};_e.useLayoutEffect=function(n,e){return tn.current.useLayoutEffect(n,e)};_e.useMemo=function(n,e){return tn.current.useMemo(n,e)};_e.useReducer=function(n,e,t){return tn.current.useReducer(n,e,t)};_e.useRef=function(n){return tn.current.useRef(n)};_e.useState=function(n){return tn.current.useState(n)};_e.useSyncExternalStore=function(n,e,t){return tn.current.useSyncExternalStore(n,e,t)};_e.useTransition=function(){return tn.current.useTransition()};_e.version="18.3.1";w1.exports=_e;var k=w1.exports;const At=x1(k);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b3=k,w3=Symbol.for("react.element"),_3=Symbol.for("react.fragment"),S3=Object.prototype.hasOwnProperty,k3=b3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,C3={key:!0,ref:!0,__self:!0,__source:!0};function A1(n,e,t){var r,i={},o=null,a=null;t!==void 0&&(o=""+t),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)S3.call(e,r)&&!C3.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:w3,type:n,key:o,ref:a,props:i,_owner:k3.current}}Yl.Fragment=_3;Yl.jsx=A1;Yl.jsxs=A1;b1.exports=Yl;var h=b1.exports,P1={exports:{}},wn={},L1={exports:{}},T1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(M,L){var j=M.length;M.push(L);e:for(;0<j;){var F=j-1>>>1,q=M[F];if(0<i(q,L))M[F]=L,M[j]=q,j=F;else break e}}function t(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var L=M[0],j=M.pop();if(j!==L){M[0]=j;e:for(var F=0,q=M.length,Y=q>>>1;F<Y;){var K=2*(F+1)-1,U=M[K],X=K+1,Z=M[X];if(0>i(U,j))X<q&&0>i(Z,U)?(M[F]=Z,M[X]=j,F=X):(M[F]=U,M[K]=j,F=K);else if(X<q&&0>i(Z,j))M[F]=Z,M[X]=j,F=X;else break e}}return L}function i(M,L){var j=M.sortIndex-L.sortIndex;return j!==0?j:M.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();n.unstable_now=function(){return a.now()-s}}var l=[],c=[],d=1,f=null,u=3,p=!1,g=!1,m=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(M){for(var L=t(c);L!==null;){if(L.callback===null)r(c);else if(L.startTime<=M)r(c),L.sortIndex=L.expirationTime,e(l,L);else break;L=t(c)}}function S(M){if(m=!1,v(M),!g)if(t(l)!==null)g=!0,W(_);else{var L=t(c);L!==null&&H(S,L.startTime-M)}}function _(M,L){g=!1,m&&(m=!1,y(N),N=-1),p=!0;var j=u;try{for(v(L),f=t(l);f!==null&&(!(f.expirationTime>L)||M&&!A());){var F=f.callback;if(typeof F=="function"){f.callback=null,u=f.priorityLevel;var q=F(f.expirationTime<=L);L=n.unstable_now(),typeof q=="function"?f.callback=q:f===t(l)&&r(l),v(L)}else r(l);f=t(l)}if(f!==null)var Y=!0;else{var K=t(c);K!==null&&H(S,K.startTime-L),Y=!1}return Y}finally{f=null,u=j,p=!1}}var b=!1,C=null,N=-1,I=5,E=-1;function A(){return!(n.unstable_now()-E<I)}function T(){if(C!==null){var M=n.unstable_now();E=M;var L=!0;try{L=C(!0,M)}finally{L?P():(b=!1,C=null)}}else b=!1}var P;if(typeof x=="function")P=function(){x(T)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,D=O.port2;O.port1.onmessage=T,P=function(){D.postMessage(null)}}else P=function(){w(T,0)};function W(M){C=M,b||(b=!0,P())}function H(M,L){N=w(function(){M(n.unstable_now())},L)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(M){M.callback=null},n.unstable_continueExecution=function(){g||p||(g=!0,W(_))},n.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<M?Math.floor(1e3/M):5},n.unstable_getCurrentPriorityLevel=function(){return u},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(M){switch(u){case 1:case 2:case 3:var L=3;break;default:L=u}var j=u;u=L;try{return M()}finally{u=j}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(M,L){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var j=u;u=M;try{return L()}finally{u=j}},n.unstable_scheduleCallback=function(M,L,j){var F=n.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?F+j:F):j=F,M){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=j+q,M={id:d++,callback:L,priorityLevel:M,startTime:j,expirationTime:q,sortIndex:-1},j>F?(M.sortIndex=j,e(c,M),t(l)===null&&M===t(c)&&(m?(y(N),N=-1):m=!0,H(S,j-F))):(M.sortIndex=q,e(l,M),g||p||(g=!0,W(_))),M},n.unstable_shouldYield=A,n.unstable_wrapCallback=function(M){var L=u;return function(){var j=u;u=L;try{return M.apply(this,arguments)}finally{u=j}}}})(T1);L1.exports=T1;var E3=L1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I3=k,bn=E3;function te(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var R1=new Set,Ca={};function Fi(n,e){wo(n,e),wo(n+"Capture",e)}function wo(n,e){for(Ca[n]=e,n=0;n<e.length;n++)R1.add(e[n])}var _r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sd=Object.prototype.hasOwnProperty,N3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cp={},Ep={};function M3(n){return Sd.call(Ep,n)?!0:Sd.call(Cp,n)?!1:N3.test(n)?Ep[n]=!0:(Cp[n]=!0,!1)}function A3(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function P3(n,e,t,r){if(e===null||typeof e>"u"||A3(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function nn(n,e,t,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Vt[n]=new nn(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Vt[e]=new nn(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Vt[n]=new nn(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Vt[n]=new nn(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Vt[n]=new nn(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Vt[n]=new nn(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Vt[n]=new nn(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Vt[n]=new nn(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Vt[n]=new nn(n,5,!1,n.toLowerCase(),null,!1,!1)});var Hu=/[\-:]([a-z])/g;function Uu(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(Hu,Uu);Vt[e]=new nn(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(Hu,Uu);Vt[e]=new nn(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(Hu,Uu);Vt[e]=new nn(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Vt[n]=new nn(n,1,!1,n.toLowerCase(),null,!1,!1)});Vt.xlinkHref=new nn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Vt[n]=new nn(n,1,!1,n.toLowerCase(),null,!0,!0)});function Vu(n,e,t,r){var i=Vt.hasOwnProperty(e)?Vt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(P3(e,t,i,r)&&(t=null),r||i===null?M3(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Ir=I3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,us=Symbol.for("react.element"),qi=Symbol.for("react.portal"),Qi=Symbol.for("react.fragment"),$u=Symbol.for("react.strict_mode"),kd=Symbol.for("react.profiler"),O1=Symbol.for("react.provider"),j1=Symbol.for("react.context"),Wu=Symbol.for("react.forward_ref"),Cd=Symbol.for("react.suspense"),Ed=Symbol.for("react.suspense_list"),Yu=Symbol.for("react.memo"),Rr=Symbol.for("react.lazy"),B1=Symbol.for("react.offscreen"),Ip=Symbol.iterator;function Xo(n){return n===null||typeof n!="object"?null:(n=Ip&&n[Ip]||n["@@iterator"],typeof n=="function"?n:null)}var ht=Object.assign,Cc;function la(n){if(Cc===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Cc=e&&e[1]||""}return"\n"+Cc+n}var Ec=!1;function Ic(n,e){if(!n||Ec)return"";Ec=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=a&&0<=s);break}}}finally{Ec=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?la(n):""}function L3(n){switch(n.tag){case 5:return la(n.type);case 16:return la("Lazy");case 13:return la("Suspense");case 19:return la("SuspenseList");case 0:case 2:case 15:return n=Ic(n.type,!1),n;case 11:return n=Ic(n.type.render,!1),n;case 1:return n=Ic(n.type,!0),n;default:return""}}function Id(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Qi:return"Fragment";case qi:return"Portal";case kd:return"Profiler";case $u:return"StrictMode";case Cd:return"Suspense";case Ed:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case j1:return(n.displayName||"Context")+".Consumer";case O1:return(n._context.displayName||"Context")+".Provider";case Wu:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Yu:return e=n.displayName||null,e!==null?e:Id(n.type)||"Memo";case Rr:e=n._payload,n=n._init;try{return Id(n(e))}catch(t){}}return null}function T3(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Id(e);case 8:return e===$u?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Zr(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function D1(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function R3(n){var e=D1(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,o=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function fs(n){n._valueTracker||(n._valueTracker=R3(n))}function z1(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=D1(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function rl(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch(e){return n.body}}function Nd(n,e){var t=e.checked;return ht({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t!=null?t:n._wrapperState.initialChecked})}function Np(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Zr(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function F1(n,e){e=e.checked,e!=null&&Vu(n,"checked",e,!1)}function Md(n,e){F1(n,e);var t=Zr(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Ad(n,e.type,t):e.hasOwnProperty("defaultValue")&&Ad(n,e.type,Zr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function Mp(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Ad(n,e,t){(e!=="number"||rl(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var ca=Array.isArray;function fo(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Zr(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function Pd(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(te(91));return ht({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Ap(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(te(92));if(ca(t)){if(1<t.length)throw Error(te(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Zr(t)}}function H1(n,e){var t=Zr(e.value),r=Zr(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function Pp(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function U1(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ld(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?U1(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var ps,V1=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(ps=ps||document.createElement("div"),ps.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ps.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Ea(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var ha={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},O3=["Webkit","ms","Moz","O"];Object.keys(ha).forEach(function(n){O3.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),ha[e]=ha[n]})});function $1(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||ha.hasOwnProperty(n)&&ha[n]?(""+e).trim():e+"px"}function W1(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=$1(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var j3=ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Td(n,e){if(e){if(j3[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(te(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(te(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(te(61))}if(e.style!=null&&typeof e.style!="object")throw Error(te(62))}}function Rd(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Od=null;function Xu(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var jd=null,po=null,ho=null;function Lp(n){if(n=qa(n)){if(typeof jd!="function")throw Error(te(280));var e=n.stateNode;e&&(e=Ql(e),jd(n.stateNode,n.type,e))}}function Y1(n){po?ho?ho.push(n):ho=[n]:po=n}function X1(){if(po){var n=po,e=ho;if(ho=po=null,Lp(n),e)for(n=0;n<e.length;n++)Lp(e[n])}}function G1(n,e){return n(e)}function K1(){}var Nc=!1;function q1(n,e,t){if(Nc)return n(e,t);Nc=!0;try{return G1(n,e,t)}finally{Nc=!1,(po!==null||ho!==null)&&(K1(),X1())}}function Ia(n,e){var t=n.stateNode;if(t===null)return null;var r=Ql(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(te(231,e,typeof t));return t}var Bd=!1;if(_r)try{var Go={};Object.defineProperty(Go,"passive",{get:function(){Bd=!0}}),window.addEventListener("test",Go,Go),window.removeEventListener("test",Go,Go)}catch(n){Bd=!1}function B3(n,e,t,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(d){this.onError(d)}}var ma=!1,il=null,ol=!1,Dd=null,D3={onError:function(n){ma=!0,il=n}};function z3(n,e,t,r,i,o,a,s,l){ma=!1,il=null,B3.apply(D3,arguments)}function F3(n,e,t,r,i,o,a,s,l){if(z3.apply(this,arguments),ma){if(ma){var c=il;ma=!1,il=null}else throw Error(te(198));ol||(ol=!0,Dd=c)}}function Hi(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function Q1(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function Tp(n){if(Hi(n)!==n)throw Error(te(188))}function H3(n){var e=n.alternate;if(!e){if(e=Hi(n),e===null)throw Error(te(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===t)return Tp(i),n;if(o===r)return Tp(i),e;o=o.sibling}throw Error(te(188))}if(t.return!==r.return)t=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===t){a=!0,t=i,r=o;break}if(s===r){a=!0,r=i,t=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===t){a=!0,t=o,r=i;break}if(s===r){a=!0,r=o,t=i;break}s=s.sibling}if(!a)throw Error(te(189))}}if(t.alternate!==r)throw Error(te(190))}if(t.tag!==3)throw Error(te(188));return t.stateNode.current===t?n:e}function J1(n){return n=H3(n),n!==null?Z1(n):null}function Z1(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=Z1(n);if(e!==null)return e;n=n.sibling}return null}var em=bn.unstable_scheduleCallback,Rp=bn.unstable_cancelCallback,U3=bn.unstable_shouldYield,V3=bn.unstable_requestPaint,kt=bn.unstable_now,$3=bn.unstable_getCurrentPriorityLevel,Gu=bn.unstable_ImmediatePriority,tm=bn.unstable_UserBlockingPriority,al=bn.unstable_NormalPriority,W3=bn.unstable_LowPriority,nm=bn.unstable_IdlePriority,Xl=null,tr=null;function Y3(n){if(tr&&typeof tr.onCommitFiberRoot=="function")try{tr.onCommitFiberRoot(Xl,n,void 0,(n.current.flags&128)===128)}catch(e){}}var Fn=Math.clz32?Math.clz32:K3,X3=Math.log,G3=Math.LN2;function K3(n){return n>>>=0,n===0?32:31-(X3(n)/G3|0)|0}var hs=64,ms=4194304;function da(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function sl(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,o=n.pingedLanes,a=t&268435455;if(a!==0){var s=a&~i;s!==0?r=da(s):(o&=a,o!==0&&(r=da(o)))}else a=t&~i,a!==0?r=da(a):o!==0&&(r=da(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Fn(e),i=1<<t,r|=n[t],e&=~i;return r}function q3(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Q3(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,o=n.pendingLanes;0<o;){var a=31-Fn(o),s=1<<a,l=i[a];l===-1?(!(s&t)||s&r)&&(i[a]=q3(s,e)):l<=e&&(n.expiredLanes|=s),o&=~s}}function zd(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function rm(){var n=hs;return hs<<=1,!(hs&4194240)&&(hs=64),n}function Mc(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Ga(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Fn(e),n[e]=t}function J3(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-Fn(t),o=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~o}}function Ku(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Fn(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var Be=0;function im(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var om,qu,am,sm,lm,Fd=!1,gs=[],$r=null,Wr=null,Yr=null,Na=new Map,Ma=new Map,jr=[],Z3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Op(n,e){switch(n){case"focusin":case"focusout":$r=null;break;case"dragenter":case"dragleave":Wr=null;break;case"mouseover":case"mouseout":Yr=null;break;case"pointerover":case"pointerout":Na.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ma.delete(e.pointerId)}}function Ko(n,e,t,r,i,o){return n===null||n.nativeEvent!==o?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=qa(e),e!==null&&qu(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function e5(n,e,t,r,i){switch(e){case"focusin":return $r=Ko($r,n,e,t,r,i),!0;case"dragenter":return Wr=Ko(Wr,n,e,t,r,i),!0;case"mouseover":return Yr=Ko(Yr,n,e,t,r,i),!0;case"pointerover":var o=i.pointerId;return Na.set(o,Ko(Na.get(o)||null,n,e,t,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ma.set(o,Ko(Ma.get(o)||null,n,e,t,r,i)),!0}return!1}function cm(n){var e=wi(n.target);if(e!==null){var t=Hi(e);if(t!==null){if(e=t.tag,e===13){if(e=Q1(t),e!==null){n.blockedOn=e,lm(n.priority,function(){am(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Us(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=Hd(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);Od=r,t.target.dispatchEvent(r),Od=null}else return e=qa(t),e!==null&&qu(e),n.blockedOn=t,!1;e.shift()}return!0}function jp(n,e,t){Us(n)&&t.delete(e)}function t5(){Fd=!1,$r!==null&&Us($r)&&($r=null),Wr!==null&&Us(Wr)&&(Wr=null),Yr!==null&&Us(Yr)&&(Yr=null),Na.forEach(jp),Ma.forEach(jp)}function qo(n,e){n.blockedOn===e&&(n.blockedOn=null,Fd||(Fd=!0,bn.unstable_scheduleCallback(bn.unstable_NormalPriority,t5)))}function Aa(n){function e(i){return qo(i,n)}if(0<gs.length){qo(gs[0],n);for(var t=1;t<gs.length;t++){var r=gs[t];r.blockedOn===n&&(r.blockedOn=null)}}for($r!==null&&qo($r,n),Wr!==null&&qo(Wr,n),Yr!==null&&qo(Yr,n),Na.forEach(e),Ma.forEach(e),t=0;t<jr.length;t++)r=jr[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<jr.length&&(t=jr[0],t.blockedOn===null);)cm(t),t.blockedOn===null&&jr.shift()}var mo=Ir.ReactCurrentBatchConfig,ll=!0;function n5(n,e,t,r){var i=Be,o=mo.transition;mo.transition=null;try{Be=1,Qu(n,e,t,r)}finally{Be=i,mo.transition=o}}function r5(n,e,t,r){var i=Be,o=mo.transition;mo.transition=null;try{Be=4,Qu(n,e,t,r)}finally{Be=i,mo.transition=o}}function Qu(n,e,t,r){if(ll){var i=Hd(n,e,t,r);if(i===null)zc(n,e,r,cl,t),Op(n,r);else if(e5(i,n,e,t,r))r.stopPropagation();else if(Op(n,r),e&4&&-1<Z3.indexOf(n)){for(;i!==null;){var o=qa(i);if(o!==null&&om(o),o=Hd(n,e,t,r),o===null&&zc(n,e,r,cl,t),o===i)break;i=o}i!==null&&r.stopPropagation()}else zc(n,e,r,null,t)}}var cl=null;function Hd(n,e,t,r){if(cl=null,n=Xu(r),n=wi(n),n!==null)if(e=Hi(n),e===null)n=null;else if(t=e.tag,t===13){if(n=Q1(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return cl=n,null}function dm(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($3()){case Gu:return 1;case tm:return 4;case al:case W3:return 16;case nm:return 536870912;default:return 16}default:return 16}}var Dr=null,Ju=null,Vs=null;function um(){if(Vs)return Vs;var n,e=Ju,t=e.length,r,i="value"in Dr?Dr.value:Dr.textContent,o=i.length;for(n=0;n<t&&e[n]===i[n];n++);var a=t-n;for(r=1;r<=a&&e[t-r]===i[o-r];r++);return Vs=i.slice(n,1<r?1-r:void 0)}function $s(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function vs(){return!0}function Bp(){return!1}function _n(n){function e(t,r,i,o,a){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in n)n.hasOwnProperty(s)&&(t=n[s],this[s]=t?t(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?vs:Bp,this.isPropagationStopped=Bp,this}return ht(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=vs)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=vs)},persist:function(){},isPersistent:vs}),e}var Oo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zu=_n(Oo),Ka=ht({},Oo,{view:0,detail:0}),i5=_n(Ka),Ac,Pc,Qo,Gl=ht({},Ka,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ef,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Qo&&(Qo&&n.type==="mousemove"?(Ac=n.screenX-Qo.screenX,Pc=n.screenY-Qo.screenY):Pc=Ac=0,Qo=n),Ac)},movementY:function(n){return"movementY"in n?n.movementY:Pc}}),Dp=_n(Gl),o5=ht({},Gl,{dataTransfer:0}),a5=_n(o5),s5=ht({},Ka,{relatedTarget:0}),Lc=_n(s5),l5=ht({},Oo,{animationName:0,elapsedTime:0,pseudoElement:0}),c5=_n(l5),d5=ht({},Oo,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),u5=_n(d5),f5=ht({},Oo,{data:0}),zp=_n(f5),p5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},h5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},m5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function g5(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=m5[n])?!!e[n]:!1}function ef(){return g5}var v5=ht({},Ka,{key:function(n){if(n.key){var e=p5[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=$s(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?h5[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ef,charCode:function(n){return n.type==="keypress"?$s(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?$s(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),y5=_n(v5),x5=ht({},Gl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fp=_n(x5),b5=ht({},Ka,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ef}),w5=_n(b5),_5=ht({},Oo,{propertyName:0,elapsedTime:0,pseudoElement:0}),S5=_n(_5),k5=ht({},Gl,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),C5=_n(k5),E5=[9,13,27,32],tf=_r&&"CompositionEvent"in window,ga=null;_r&&"documentMode"in document&&(ga=document.documentMode);var I5=_r&&"TextEvent"in window&&!ga,fm=_r&&(!tf||ga&&8<ga&&11>=ga),Hp=" ",Up=!1;function pm(n,e){switch(n){case"keyup":return E5.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hm(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ji=!1;function N5(n,e){switch(n){case"compositionend":return hm(e);case"keypress":return e.which!==32?null:(Up=!0,Hp);case"textInput":return n=e.data,n===Hp&&Up?null:n;default:return null}}function M5(n,e){if(Ji)return n==="compositionend"||!tf&&pm(n,e)?(n=um(),Vs=Ju=Dr=null,Ji=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return fm&&e.locale!=="ko"?null:e.data;default:return null}}var A5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vp(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!A5[n.type]:e==="textarea"}function mm(n,e,t,r){Y1(r),e=dl(e,"onChange"),0<e.length&&(t=new Zu("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var va=null,Pa=null;function P5(n){Em(n,0)}function Kl(n){var e=to(n);if(z1(e))return n}function L5(n,e){if(n==="change")return e}var gm=!1;if(_r){var Tc;if(_r){var Rc="oninput"in document;if(!Rc){var $p=document.createElement("div");$p.setAttribute("oninput","return;"),Rc=typeof $p.oninput=="function"}Tc=Rc}else Tc=!1;gm=Tc&&(!document.documentMode||9<document.documentMode)}function Wp(){va&&(va.detachEvent("onpropertychange",vm),Pa=va=null)}function vm(n){if(n.propertyName==="value"&&Kl(Pa)){var e=[];mm(e,Pa,n,Xu(n)),q1(P5,e)}}function T5(n,e,t){n==="focusin"?(Wp(),va=e,Pa=t,va.attachEvent("onpropertychange",vm)):n==="focusout"&&Wp()}function R5(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Kl(Pa)}function O5(n,e){if(n==="click")return Kl(e)}function j5(n,e){if(n==="input"||n==="change")return Kl(e)}function B5(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Vn=typeof Object.is=="function"?Object.is:B5;function La(n,e){if(Vn(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!Sd.call(e,i)||!Vn(n[i],e[i]))return!1}return!0}function Yp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Xp(n,e){var t=Yp(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=Yp(t)}}function ym(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?ym(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function xm(){for(var n=window,e=rl();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch(r){t=!1}if(t)n=e.contentWindow;else break;e=rl(n.document)}return e}function nf(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function D5(n){var e=xm(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&ym(t.ownerDocument.documentElement,t)){if(r!==null&&nf(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!n.extend&&o>r&&(i=r,r=o,o=i),i=Xp(t,o);var a=Xp(t,r);i&&a&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),o>r?(n.addRange(e),n.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var z5=_r&&"documentMode"in document&&11>=document.documentMode,Zi=null,Ud=null,ya=null,Vd=!1;function Gp(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Vd||Zi==null||Zi!==rl(r)||(r=Zi,"selectionStart"in r&&nf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ya&&La(ya,r)||(ya=r,r=dl(Ud,"onSelect"),0<r.length&&(e=new Zu("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=Zi)))}function ys(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var eo={animationend:ys("Animation","AnimationEnd"),animationiteration:ys("Animation","AnimationIteration"),animationstart:ys("Animation","AnimationStart"),transitionend:ys("Transition","TransitionEnd")},Oc={},bm={};_r&&(bm=document.createElement("div").style,"AnimationEvent"in window||(delete eo.animationend.animation,delete eo.animationiteration.animation,delete eo.animationstart.animation),"TransitionEvent"in window||delete eo.transitionend.transition);function ql(n){if(Oc[n])return Oc[n];if(!eo[n])return n;var e=eo[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in bm)return Oc[n]=e[t];return n}var wm=ql("animationend"),_m=ql("animationiteration"),Sm=ql("animationstart"),km=ql("transitionend"),Cm=new Map,Kp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ai(n,e){Cm.set(n,e),Fi(e,[n])}for(var jc=0;jc<Kp.length;jc++){var Bc=Kp[jc],F5=Bc.toLowerCase(),H5=Bc[0].toUpperCase()+Bc.slice(1);ai(F5,"on"+H5)}ai(wm,"onAnimationEnd");ai(_m,"onAnimationIteration");ai(Sm,"onAnimationStart");ai("dblclick","onDoubleClick");ai("focusin","onFocus");ai("focusout","onBlur");ai(km,"onTransitionEnd");wo("onMouseEnter",["mouseout","mouseover"]);wo("onMouseLeave",["mouseout","mouseover"]);wo("onPointerEnter",["pointerout","pointerover"]);wo("onPointerLeave",["pointerout","pointerover"]);Fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ua="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),U5=new Set("cancel close invalid load scroll toggle".split(" ").concat(ua));function qp(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,F3(r,e,void 0,n),n.currentTarget=null}function Em(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;qp(i,s,c),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;qp(i,s,c),o=l}}}if(ol)throw n=Dd,ol=!1,Dd=null,n}function Ze(n,e){var t=e[Gd];t===void 0&&(t=e[Gd]=new Set);var r=n+"__bubble";t.has(r)||(Im(e,n,2,!1),t.add(r))}function Dc(n,e,t){var r=0;e&&(r|=4),Im(t,n,r,e)}var xs="_reactListening"+Math.random().toString(36).slice(2);function Ta(n){if(!n[xs]){n[xs]=!0,R1.forEach(function(t){t!=="selectionchange"&&(U5.has(t)||Dc(t,!1,n),Dc(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[xs]||(e[xs]=!0,Dc("selectionchange",!1,e))}}function Im(n,e,t,r){switch(dm(e)){case 1:var i=n5;break;case 4:i=r5;break;default:i=Qu}t=i.bind(null,e,t,n),i=void 0,!Bd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function zc(n,e,t,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=wi(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}q1(function(){var c=o,d=Xu(t),f=[];e:{var u=Cm.get(n);if(u!==void 0){var p=Zu,g=n;switch(n){case"keypress":if($s(t)===0)break e;case"keydown":case"keyup":p=y5;break;case"focusin":g="focus",p=Lc;break;case"focusout":g="blur",p=Lc;break;case"beforeblur":case"afterblur":p=Lc;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Dp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=a5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=w5;break;case wm:case _m:case Sm:p=c5;break;case km:p=S5;break;case"scroll":p=i5;break;case"wheel":p=C5;break;case"copy":case"cut":case"paste":p=u5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Fp}var m=(e&4)!==0,w=!m&&n==="scroll",y=m?u!==null?u+"Capture":null:u;m=[];for(var x=c,v;x!==null;){v=x;var S=v.stateNode;if(v.tag===5&&S!==null&&(v=S,y!==null&&(S=Ia(x,y),S!=null&&m.push(Ra(x,S,v)))),w)break;x=x.return}0<m.length&&(u=new p(u,g,null,t,d),f.push({event:u,listeners:m}))}}if(!(e&7)){e:{if(u=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",u&&t!==Od&&(g=t.relatedTarget||t.fromElement)&&(wi(g)||g[Sr]))break e;if((p||u)&&(u=d.window===d?d:(u=d.ownerDocument)?u.defaultView||u.parentWindow:window,p?(g=t.relatedTarget||t.toElement,p=c,g=g?wi(g):null,g!==null&&(w=Hi(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(m=Dp,S="onMouseLeave",y="onMouseEnter",x="mouse",(n==="pointerout"||n==="pointerover")&&(m=Fp,S="onPointerLeave",y="onPointerEnter",x="pointer"),w=p==null?u:to(p),v=g==null?u:to(g),u=new m(S,x+"leave",p,t,d),u.target=w,u.relatedTarget=v,S=null,wi(d)===c&&(m=new m(y,x+"enter",g,t,d),m.target=v,m.relatedTarget=w,S=m),w=S,p&&g)t:{for(m=p,y=g,x=0,v=m;v;v=Yi(v))x++;for(v=0,S=y;S;S=Yi(S))v++;for(;0<x-v;)m=Yi(m),x--;for(;0<v-x;)y=Yi(y),v--;for(;x--;){if(m===y||y!==null&&m===y.alternate)break t;m=Yi(m),y=Yi(y)}m=null}else m=null;p!==null&&Qp(f,u,p,m,!1),g!==null&&w!==null&&Qp(f,w,g,m,!0)}}e:{if(u=c?to(c):window,p=u.nodeName&&u.nodeName.toLowerCase(),p==="select"||p==="input"&&u.type==="file")var _=L5;else if(Vp(u))if(gm)_=j5;else{_=R5;var b=T5}else(p=u.nodeName)&&p.toLowerCase()==="input"&&(u.type==="checkbox"||u.type==="radio")&&(_=O5);if(_&&(_=_(n,c))){mm(f,_,t,d);break e}b&&b(n,u,c),n==="focusout"&&(b=u._wrapperState)&&b.controlled&&u.type==="number"&&Ad(u,"number",u.value)}switch(b=c?to(c):window,n){case"focusin":(Vp(b)||b.contentEditable==="true")&&(Zi=b,Ud=c,ya=null);break;case"focusout":ya=Ud=Zi=null;break;case"mousedown":Vd=!0;break;case"contextmenu":case"mouseup":case"dragend":Vd=!1,Gp(f,t,d);break;case"selectionchange":if(z5)break;case"keydown":case"keyup":Gp(f,t,d)}var C;if(tf)e:{switch(n){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Ji?pm(n,t)&&(N="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(N="onCompositionStart");N&&(fm&&t.locale!=="ko"&&(Ji||N!=="onCompositionStart"?N==="onCompositionEnd"&&Ji&&(C=um()):(Dr=d,Ju="value"in Dr?Dr.value:Dr.textContent,Ji=!0)),b=dl(c,N),0<b.length&&(N=new zp(N,n,null,t,d),f.push({event:N,listeners:b}),C?N.data=C:(C=hm(t),C!==null&&(N.data=C)))),(C=I5?N5(n,t):M5(n,t))&&(c=dl(c,"onBeforeInput"),0<c.length&&(d=new zp("onBeforeInput","beforeinput",null,t,d),f.push({event:d,listeners:c}),d.data=C))}Em(f,e)})}function Ra(n,e,t){return{instance:n,listener:e,currentTarget:t}}function dl(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Ia(n,t),o!=null&&r.unshift(Ra(n,o,i)),o=Ia(n,e),o!=null&&r.push(Ra(n,o,i))),n=n.return}return r}function Yi(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Qp(n,e,t,r,i){for(var o=e._reactName,a=[];t!==null&&t!==r;){var s=t,l=s.alternate,c=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&c!==null&&(s=c,i?(l=Ia(t,o),l!=null&&a.unshift(Ra(t,l,s))):i||(l=Ia(t,o),l!=null&&a.push(Ra(t,l,s)))),t=t.return}a.length!==0&&n.push({event:e,listeners:a})}var V5=/\r\n?/g,$5=/\u0000|\uFFFD/g;function Jp(n){return(typeof n=="string"?n:""+n).replace(V5,"\n").replace($5,"")}function bs(n,e,t){if(e=Jp(e),Jp(n)!==e&&t)throw Error(te(425))}function ul(){}var $d=null,Wd=null;function Yd(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Xd=typeof setTimeout=="function"?setTimeout:void 0,W5=typeof clearTimeout=="function"?clearTimeout:void 0,Zp=typeof Promise=="function"?Promise:void 0,Y5=typeof queueMicrotask=="function"?queueMicrotask:typeof Zp<"u"?function(n){return Zp.resolve(null).then(n).catch(X5)}:Xd;function X5(n){setTimeout(function(){throw n})}function Fc(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),Aa(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);Aa(e)}function Xr(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function eh(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var jo=Math.random().toString(36).slice(2),Zn="__reactFiber$"+jo,Oa="__reactProps$"+jo,Sr="__reactContainer$"+jo,Gd="__reactEvents$"+jo,G5="__reactListeners$"+jo,K5="__reactHandles$"+jo;function wi(n){var e=n[Zn];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Sr]||t[Zn]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=eh(n);n!==null;){if(t=n[Zn])return t;n=eh(n)}return e}n=t,t=n.parentNode}return null}function qa(n){return n=n[Zn]||n[Sr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function to(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(te(33))}function Ql(n){return n[Oa]||null}var Kd=[],no=-1;function si(n){return{current:n}}function it(n){0>no||(n.current=Kd[no],Kd[no]=null,no--)}function qe(n,e){no++,Kd[no]=n.current,n.current=e}var ei={},Kt=si(ei),ln=si(!1),Mi=ei;function _o(n,e){var t=n.type.contextTypes;if(!t)return ei;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in t)i[o]=e[o];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function cn(n){return n=n.childContextTypes,n!=null}function fl(){it(ln),it(Kt)}function th(n,e,t){if(Kt.current!==ei)throw Error(te(168));qe(Kt,e),qe(ln,t)}function Nm(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(te(108,T3(n)||"Unknown",i));return ht({},t,r)}function pl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||ei,Mi=Kt.current,qe(Kt,n),qe(ln,ln.current),!0}function nh(n,e,t){var r=n.stateNode;if(!r)throw Error(te(169));t?(n=Nm(n,e,Mi),r.__reactInternalMemoizedMergedChildContext=n,it(ln),it(Kt),qe(Kt,n)):it(ln),qe(ln,t)}var hr=null,Jl=!1,Hc=!1;function Mm(n){hr===null?hr=[n]:hr.push(n)}function q5(n){Jl=!0,Mm(n)}function li(){if(!Hc&&hr!==null){Hc=!0;var n=0,e=Be;try{var t=hr;for(Be=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}hr=null,Jl=!1}catch(i){throw hr!==null&&(hr=hr.slice(n+1)),em(Gu,li),i}finally{Be=e,Hc=!1}}return null}var ro=[],io=0,hl=null,ml=0,En=[],In=0,Ai=null,yr=1,xr="";function vi(n,e){ro[io++]=ml,ro[io++]=hl,hl=n,ml=e}function Am(n,e,t){En[In++]=yr,En[In++]=xr,En[In++]=Ai,Ai=n;var r=yr;n=xr;var i=32-Fn(r)-1;r&=~(1<<i),t+=1;var o=32-Fn(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,yr=1<<32-Fn(e)+i|t<<i|r,xr=o+n}else yr=1<<o|t<<i|r,xr=n}function rf(n){n.return!==null&&(vi(n,1),Am(n,1,0))}function of(n){for(;n===hl;)hl=ro[--io],ro[io]=null,ml=ro[--io],ro[io]=null;for(;n===Ai;)Ai=En[--In],En[In]=null,xr=En[--In],En[In]=null,yr=En[--In],En[In]=null}var yn=null,vn=null,st=!1,zn=null;function Pm(n,e){var t=Mn(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function rh(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,yn=n,vn=Xr(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,yn=n,vn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Ai!==null?{id:yr,overflow:xr}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Mn(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,yn=n,vn=null,!0):!1;default:return!1}}function qd(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Qd(n){if(st){var e=vn;if(e){var t=e;if(!rh(n,e)){if(qd(n))throw Error(te(418));e=Xr(t.nextSibling);var r=yn;e&&rh(n,e)?Pm(r,t):(n.flags=n.flags&-4097|2,st=!1,yn=n)}}else{if(qd(n))throw Error(te(418));n.flags=n.flags&-4097|2,st=!1,yn=n}}}function ih(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;yn=n}function ws(n){if(n!==yn)return!1;if(!st)return ih(n),st=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!Yd(n.type,n.memoizedProps)),e&&(e=vn)){if(qd(n))throw Lm(),Error(te(418));for(;e;)Pm(n,e),e=Xr(e.nextSibling)}if(ih(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(te(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){vn=Xr(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}vn=null}}else vn=yn?Xr(n.stateNode.nextSibling):null;return!0}function Lm(){for(var n=vn;n;)n=Xr(n.nextSibling)}function So(){vn=yn=null,st=!1}function af(n){zn===null?zn=[n]:zn.push(n)}var Q5=Ir.ReactCurrentBatchConfig;function Jo(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(te(309));var r=t.stateNode}if(!r)throw Error(te(147,n));var i=r,o=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof n!="string")throw Error(te(284));if(!t._owner)throw Error(te(290,n))}return n}function _s(n,e){throw n=Object.prototype.toString.call(e),Error(te(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function oh(n){var e=n._init;return e(n._payload)}function Tm(n){function e(y,x){if(n){var v=y.deletions;v===null?(y.deletions=[x],y.flags|=16):v.push(x)}}function t(y,x){if(!n)return null;for(;x!==null;)e(y,x),x=x.sibling;return null}function r(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function i(y,x){return y=Qr(y,x),y.index=0,y.sibling=null,y}function o(y,x,v){return y.index=v,n?(v=y.alternate,v!==null?(v=v.index,v<x?(y.flags|=2,x):v):(y.flags|=2,x)):(y.flags|=1048576,x)}function a(y){return n&&y.alternate===null&&(y.flags|=2),y}function s(y,x,v,S){return x===null||x.tag!==6?(x=Gc(v,y.mode,S),x.return=y,x):(x=i(x,v),x.return=y,x)}function l(y,x,v,S){var _=v.type;return _===Qi?d(y,x,v.props.children,S,v.key):x!==null&&(x.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Rr&&oh(_)===x.type)?(S=i(x,v.props),S.ref=Jo(y,x,v),S.return=y,S):(S=Qs(v.type,v.key,v.props,null,y.mode,S),S.ref=Jo(y,x,v),S.return=y,S)}function c(y,x,v,S){return x===null||x.tag!==4||x.stateNode.containerInfo!==v.containerInfo||x.stateNode.implementation!==v.implementation?(x=Kc(v,y.mode,S),x.return=y,x):(x=i(x,v.children||[]),x.return=y,x)}function d(y,x,v,S,_){return x===null||x.tag!==7?(x=Ii(v,y.mode,S,_),x.return=y,x):(x=i(x,v),x.return=y,x)}function f(y,x,v){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Gc(""+x,y.mode,v),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case us:return v=Qs(x.type,x.key,x.props,null,y.mode,v),v.ref=Jo(y,null,x),v.return=y,v;case qi:return x=Kc(x,y.mode,v),x.return=y,x;case Rr:var S=x._init;return f(y,S(x._payload),v)}if(ca(x)||Xo(x))return x=Ii(x,y.mode,v,null),x.return=y,x;_s(y,x)}return null}function u(y,x,v,S){var _=x!==null?x.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return _!==null?null:s(y,x,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case us:return v.key===_?l(y,x,v,S):null;case qi:return v.key===_?c(y,x,v,S):null;case Rr:return _=v._init,u(y,x,_(v._payload),S)}if(ca(v)||Xo(v))return _!==null?null:d(y,x,v,S,null);_s(y,v)}return null}function p(y,x,v,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(v)||null,s(x,y,""+S,_);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case us:return y=y.get(S.key===null?v:S.key)||null,l(x,y,S,_);case qi:return y=y.get(S.key===null?v:S.key)||null,c(x,y,S,_);case Rr:var b=S._init;return p(y,x,v,b(S._payload),_)}if(ca(S)||Xo(S))return y=y.get(v)||null,d(x,y,S,_,null);_s(x,S)}return null}function g(y,x,v,S){for(var _=null,b=null,C=x,N=x=0,I=null;C!==null&&N<v.length;N++){C.index>N?(I=C,C=null):I=C.sibling;var E=u(y,C,v[N],S);if(E===null){C===null&&(C=I);break}n&&C&&E.alternate===null&&e(y,C),x=o(E,x,N),b===null?_=E:b.sibling=E,b=E,C=I}if(N===v.length)return t(y,C),st&&vi(y,N),_;if(C===null){for(;N<v.length;N++)C=f(y,v[N],S),C!==null&&(x=o(C,x,N),b===null?_=C:b.sibling=C,b=C);return st&&vi(y,N),_}for(C=r(y,C);N<v.length;N++)I=p(C,y,N,v[N],S),I!==null&&(n&&I.alternate!==null&&C.delete(I.key===null?N:I.key),x=o(I,x,N),b===null?_=I:b.sibling=I,b=I);return n&&C.forEach(function(A){return e(y,A)}),st&&vi(y,N),_}function m(y,x,v,S){var _=Xo(v);if(typeof _!="function")throw Error(te(150));if(v=_.call(v),v==null)throw Error(te(151));for(var b=_=null,C=x,N=x=0,I=null,E=v.next();C!==null&&!E.done;N++,E=v.next()){C.index>N?(I=C,C=null):I=C.sibling;var A=u(y,C,E.value,S);if(A===null){C===null&&(C=I);break}n&&C&&A.alternate===null&&e(y,C),x=o(A,x,N),b===null?_=A:b.sibling=A,b=A,C=I}if(E.done)return t(y,C),st&&vi(y,N),_;if(C===null){for(;!E.done;N++,E=v.next())E=f(y,E.value,S),E!==null&&(x=o(E,x,N),b===null?_=E:b.sibling=E,b=E);return st&&vi(y,N),_}for(C=r(y,C);!E.done;N++,E=v.next())E=p(C,y,N,E.value,S),E!==null&&(n&&E.alternate!==null&&C.delete(E.key===null?N:E.key),x=o(E,x,N),b===null?_=E:b.sibling=E,b=E);return n&&C.forEach(function(T){return e(y,T)}),st&&vi(y,N),_}function w(y,x,v,S){if(typeof v=="object"&&v!==null&&v.type===Qi&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case us:e:{for(var _=v.key,b=x;b!==null;){if(b.key===_){if(_=v.type,_===Qi){if(b.tag===7){t(y,b.sibling),x=i(b,v.props.children),x.return=y,y=x;break e}}else if(b.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Rr&&oh(_)===b.type){t(y,b.sibling),x=i(b,v.props),x.ref=Jo(y,b,v),x.return=y,y=x;break e}t(y,b);break}else e(y,b);b=b.sibling}v.type===Qi?(x=Ii(v.props.children,y.mode,S,v.key),x.return=y,y=x):(S=Qs(v.type,v.key,v.props,null,y.mode,S),S.ref=Jo(y,x,v),S.return=y,y=S)}return a(y);case qi:e:{for(b=v.key;x!==null;){if(x.key===b)if(x.tag===4&&x.stateNode.containerInfo===v.containerInfo&&x.stateNode.implementation===v.implementation){t(y,x.sibling),x=i(x,v.children||[]),x.return=y,y=x;break e}else{t(y,x);break}else e(y,x);x=x.sibling}x=Kc(v,y.mode,S),x.return=y,y=x}return a(y);case Rr:return b=v._init,w(y,x,b(v._payload),S)}if(ca(v))return g(y,x,v,S);if(Xo(v))return m(y,x,v,S);_s(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,x!==null&&x.tag===6?(t(y,x.sibling),x=i(x,v),x.return=y,y=x):(t(y,x),x=Gc(v,y.mode,S),x.return=y,y=x),a(y)):t(y,x)}return w}var ko=Tm(!0),Rm=Tm(!1),gl=si(null),vl=null,oo=null,sf=null;function lf(){sf=oo=vl=null}function cf(n){var e=gl.current;it(gl),n._currentValue=e}function Jd(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function go(n,e){vl=n,sf=oo=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(sn=!0),n.firstContext=null)}function Pn(n){var e=n._currentValue;if(sf!==n)if(n={context:n,memoizedValue:e,next:null},oo===null){if(vl===null)throw Error(te(308));oo=n,vl.dependencies={lanes:0,firstContext:n}}else oo=oo.next=n;return e}var _i=null;function df(n){_i===null?_i=[n]:_i.push(n)}function Om(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,df(e)):(t.next=i.next,i.next=t),e.interleaved=t,kr(n,r)}function kr(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Or=!1;function uf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jm(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function wr(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Gr(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Ae&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,kr(n,t)}return i=r.interleaved,i===null?(e.next=e,df(r)):(e.next=i.next,i.next=e),r.interleaved=e,kr(n,t)}function Ws(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,Ku(n,t)}}function ah(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,o=null;if(t=t.firstBaseUpdate,t!==null){do{var a={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};o===null?i=o=a:o=o.next=a,t=t.next}while(t!==null);o===null?i=o=e:o=o.next=e}else i=o=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function yl(n,e,t,r){var i=n.updateQueue;Or=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,a===null?o=c:a.next=c,a=l;var d=n.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==a&&(s===null?d.firstBaseUpdate=c:s.next=c,d.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;a=0,d=c=l=null,s=o;do{var u=s.lane,p=s.eventTime;if((r&u)===u){d!==null&&(d=d.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=n,m=s;switch(u=e,p=t,m.tag){case 1:if(g=m.payload,typeof g=="function"){f=g.call(p,f,u);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,u=typeof g=="function"?g.call(p,f,u):g,u==null)break e;f=ht({},f,u);break e;case 2:Or=!0}}s.callback!==null&&s.lane!==0&&(n.flags|=64,u=i.effects,u===null?i.effects=[s]:u.push(s))}else p={eventTime:p,lane:u,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(c=d=p,l=f):d=d.next=p,a|=u;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;u=s,s=u.next,u.next=null,i.lastBaseUpdate=u,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Li|=a,n.lanes=a,n.memoizedState=f}}function sh(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(te(191,i));i.call(r)}}}var Qa={},nr=si(Qa),ja=si(Qa),Ba=si(Qa);function Si(n){if(n===Qa)throw Error(te(174));return n}function ff(n,e){switch(qe(Ba,e),qe(ja,n),qe(nr,Qa),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ld(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Ld(e,n)}it(nr),qe(nr,e)}function Co(){it(nr),it(ja),it(Ba)}function Bm(n){Si(Ba.current);var e=Si(nr.current),t=Ld(e,n.type);e!==t&&(qe(ja,n),qe(nr,t))}function pf(n){ja.current===n&&(it(nr),it(ja))}var ft=si(0);function xl(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Uc=[];function hf(){for(var n=0;n<Uc.length;n++)Uc[n]._workInProgressVersionPrimary=null;Uc.length=0}var Ys=Ir.ReactCurrentDispatcher,Vc=Ir.ReactCurrentBatchConfig,Pi=0,pt=null,Pt=null,Ot=null,bl=!1,xa=!1,Da=0,J5=0;function Wt(){throw Error(te(321))}function mf(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Vn(n[t],e[t]))return!1;return!0}function gf(n,e,t,r,i,o){if(Pi=o,pt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ys.current=n===null||n.memoizedState===null?ny:ry,n=t(r,i),xa){o=0;do{if(xa=!1,Da=0,25<=o)throw Error(te(301));o+=1,Ot=Pt=null,e.updateQueue=null,Ys.current=iy,n=t(r,i)}while(xa)}if(Ys.current=wl,e=Pt!==null&&Pt.next!==null,Pi=0,Ot=Pt=pt=null,bl=!1,e)throw Error(te(300));return n}function vf(){var n=Da!==0;return Da=0,n}function Jn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?pt.memoizedState=Ot=n:Ot=Ot.next=n,Ot}function Ln(){if(Pt===null){var n=pt.alternate;n=n!==null?n.memoizedState:null}else n=Pt.next;var e=Ot===null?pt.memoizedState:Ot.next;if(e!==null)Ot=e,Pt=n;else{if(n===null)throw Error(te(310));Pt=n,n={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},Ot===null?pt.memoizedState=Ot=n:Ot=Ot.next=n}return Ot}function za(n,e){return typeof e=="function"?e(n):e}function $c(n){var e=Ln(),t=e.queue;if(t===null)throw Error(te(311));t.lastRenderedReducer=n;var r=Pt,i=r.baseQueue,o=t.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,t.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,c=o;do{var d=c.lane;if((Pi&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=f,a=r):l=l.next=f,pt.lanes|=d,Li|=d}c=c.next}while(c!==null&&c!==o);l===null?a=r:l.next=s,Vn(r,e.memoizedState)||(sn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do o=i.lane,pt.lanes|=o,Li|=o,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Wc(n){var e=Ln(),t=e.queue;if(t===null)throw Error(te(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,o=e.memoizedState;if(i!==null){t.pending=null;var a=i=i.next;do o=n(o,a.action),a=a.next;while(a!==i);Vn(o,e.memoizedState)||(sn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),t.lastRenderedState=o}return[o,r]}function Dm(){}function zm(n,e){var t=pt,r=Ln(),i=e(),o=!Vn(r.memoizedState,i);if(o&&(r.memoizedState=i,sn=!0),r=r.queue,yf(Um.bind(null,t,r,n),[n]),r.getSnapshot!==e||o||Ot!==null&&Ot.memoizedState.tag&1){if(t.flags|=2048,Fa(9,Hm.bind(null,t,r,i,e),void 0,null),Bt===null)throw Error(te(349));Pi&30||Fm(t,e,i)}return i}function Fm(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=pt.updateQueue,e===null?(e={lastEffect:null,stores:null},pt.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function Hm(n,e,t,r){e.value=t,e.getSnapshot=r,Vm(e)&&$m(n)}function Um(n,e,t){return t(function(){Vm(e)&&$m(n)})}function Vm(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Vn(n,t)}catch(r){return!0}}function $m(n){var e=kr(n,1);e!==null&&Hn(e,n,1,-1)}function lh(n){var e=Jn();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:n},e.queue=n,n=n.dispatch=ty.bind(null,pt,n),[e.memoizedState,n]}function Fa(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=pt.updateQueue,e===null?(e={lastEffect:null,stores:null},pt.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function Wm(){return Ln().memoizedState}function Xs(n,e,t,r){var i=Jn();pt.flags|=n,i.memoizedState=Fa(1|e,t,void 0,r===void 0?null:r)}function Zl(n,e,t,r){var i=Ln();r=r===void 0?null:r;var o=void 0;if(Pt!==null){var a=Pt.memoizedState;if(o=a.destroy,r!==null&&mf(r,a.deps)){i.memoizedState=Fa(e,t,o,r);return}}pt.flags|=n,i.memoizedState=Fa(1|e,t,o,r)}function ch(n,e){return Xs(8390656,8,n,e)}function yf(n,e){return Zl(2048,8,n,e)}function Ym(n,e){return Zl(4,2,n,e)}function Xm(n,e){return Zl(4,4,n,e)}function Gm(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function Km(n,e,t){return t=t!=null?t.concat([n]):null,Zl(4,4,Gm.bind(null,e,n),t)}function xf(){}function qm(n,e){var t=Ln();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&mf(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function Qm(n,e){var t=Ln();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&mf(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function Jm(n,e,t){return Pi&21?(Vn(t,e)||(t=rm(),pt.lanes|=t,Li|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,sn=!0),n.memoizedState=t)}function Z5(n,e){var t=Be;Be=t!==0&&4>t?t:4,n(!0);var r=Vc.transition;Vc.transition={};try{n(!1),e()}finally{Be=t,Vc.transition=r}}function Zm(){return Ln().memoizedState}function ey(n,e,t){var r=qr(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},eg(n))tg(e,t);else if(t=Om(n,e,t,r),t!==null){var i=Zt();Hn(t,n,r,i),ng(t,e,r)}}function ty(n,e,t){var r=qr(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(eg(n))tg(e,i);else{var o=n.alternate;if(n.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,t);if(i.hasEagerState=!0,i.eagerState=s,Vn(s,a)){var l=e.interleaved;l===null?(i.next=i,df(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch(c){}finally{}t=Om(n,e,i,r),t!==null&&(i=Zt(),Hn(t,n,r,i),ng(t,e,r))}}function eg(n){var e=n.alternate;return n===pt||e!==null&&e===pt}function tg(n,e){xa=bl=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function ng(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,Ku(n,t)}}var wl={readContext:Pn,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},ny={readContext:Pn,useCallback:function(n,e){return Jn().memoizedState=[n,e===void 0?null:e],n},useContext:Pn,useEffect:ch,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Xs(4194308,4,Gm.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Xs(4194308,4,n,e)},useInsertionEffect:function(n,e){return Xs(4,2,n,e)},useMemo:function(n,e){var t=Jn();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=Jn();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=ey.bind(null,pt,n),[r.memoizedState,n]},useRef:function(n){var e=Jn();return n={current:n},e.memoizedState=n},useState:lh,useDebugValue:xf,useDeferredValue:function(n){return Jn().memoizedState=n},useTransition:function(){var n=lh(!1),e=n[0];return n=Z5.bind(null,n[1]),Jn().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=pt,i=Jn();if(st){if(t===void 0)throw Error(te(407));t=t()}else{if(t=e(),Bt===null)throw Error(te(349));Pi&30||Fm(r,e,t)}i.memoizedState=t;var o={value:t,getSnapshot:e};return i.queue=o,ch(Um.bind(null,r,o,n),[n]),r.flags|=2048,Fa(9,Hm.bind(null,r,o,t,e),void 0,null),t},useId:function(){var n=Jn(),e=Bt.identifierPrefix;if(st){var t=xr,r=yr;t=(r&~(1<<32-Fn(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=Da++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=J5++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},ry={readContext:Pn,useCallback:qm,useContext:Pn,useEffect:yf,useImperativeHandle:Km,useInsertionEffect:Ym,useLayoutEffect:Xm,useMemo:Qm,useReducer:$c,useRef:Wm,useState:function(){return $c(za)},useDebugValue:xf,useDeferredValue:function(n){var e=Ln();return Jm(e,Pt.memoizedState,n)},useTransition:function(){var n=$c(za)[0],e=Ln().memoizedState;return[n,e]},useMutableSource:Dm,useSyncExternalStore:zm,useId:Zm,unstable_isNewReconciler:!1},iy={readContext:Pn,useCallback:qm,useContext:Pn,useEffect:yf,useImperativeHandle:Km,useInsertionEffect:Ym,useLayoutEffect:Xm,useMemo:Qm,useReducer:Wc,useRef:Wm,useState:function(){return Wc(za)},useDebugValue:xf,useDeferredValue:function(n){var e=Ln();return Pt===null?e.memoizedState=n:Jm(e,Pt.memoizedState,n)},useTransition:function(){var n=Wc(za)[0],e=Ln().memoizedState;return[n,e]},useMutableSource:Dm,useSyncExternalStore:zm,useId:Zm,unstable_isNewReconciler:!1};function jn(n,e){if(n&&n.defaultProps){e=ht({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function Zd(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:ht({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var ec={isMounted:function(n){return(n=n._reactInternals)?Hi(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Zt(),i=qr(n),o=wr(r,i);o.payload=e,t!=null&&(o.callback=t),e=Gr(n,o,i),e!==null&&(Hn(e,n,i,r),Ws(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Zt(),i=qr(n),o=wr(r,i);o.tag=1,o.payload=e,t!=null&&(o.callback=t),e=Gr(n,o,i),e!==null&&(Hn(e,n,i,r),Ws(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Zt(),r=qr(n),i=wr(t,r);i.tag=2,e!=null&&(i.callback=e),e=Gr(n,i,r),e!==null&&(Hn(e,n,r,t),Ws(e,n,r))}};function dh(n,e,t,r,i,o,a){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!La(t,r)||!La(i,o):!0}function rg(n,e,t){var r=!1,i=ei,o=e.contextType;return typeof o=="object"&&o!==null?o=Pn(o):(i=cn(e)?Mi:Kt.current,r=e.contextTypes,o=(r=r!=null)?_o(n,i):ei),e=new e(t,o),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ec,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=o),e}function uh(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&ec.enqueueReplaceState(e,e.state,null)}function eu(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},uf(n);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Pn(o):(o=cn(e)?Mi:Kt.current,i.context=_o(n,o)),i.state=n.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Zd(n,e,o,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ec.enqueueReplaceState(i,i.state,null),yl(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function Eo(n,e){try{var t="",r=e;do t+=L3(r),r=r.return;while(r);var i=t}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:n,source:e,stack:i,digest:null}}function Yc(n,e,t){return{value:n,source:null,stack:t!=null?t:null,digest:e!=null?e:null}}function tu(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var oy=typeof WeakMap=="function"?WeakMap:Map;function ig(n,e,t){t=wr(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){Sl||(Sl=!0,uu=r),tu(n,e)},t}function og(n,e,t){t=wr(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){tu(n,e)}}var o=n.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(t.callback=function(){tu(n,e),typeof r!="function"&&(Kr===null?Kr=new Set([this]):Kr.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),t}function fh(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new oy;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=xy.bind(null,n,e,t),e.then(n,n))}function ph(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function hh(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=wr(-1,1),e.tag=2,Gr(t,e,1))),t.lanes|=1),n)}var ay=Ir.ReactCurrentOwner,sn=!1;function Jt(n,e,t,r){e.child=n===null?Rm(e,null,t,r):ko(e,n.child,t,r)}function mh(n,e,t,r,i){t=t.render;var o=e.ref;return go(e,i),r=gf(n,e,t,r,o,i),t=vf(),n!==null&&!sn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Cr(n,e,i)):(st&&t&&rf(e),e.flags|=1,Jt(n,e,r,i),e.child)}function gh(n,e,t,r,i){if(n===null){var o=t.type;return typeof o=="function"&&!If(o)&&o.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=o,ag(n,e,o,r,i)):(n=Qs(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(o=n.child,!(n.lanes&i)){var a=o.memoizedProps;if(t=t.compare,t=t!==null?t:La,t(a,r)&&n.ref===e.ref)return Cr(n,e,i)}return e.flags|=1,n=Qr(o,r),n.ref=e.ref,n.return=e,e.child=n}function ag(n,e,t,r,i){if(n!==null){var o=n.memoizedProps;if(La(o,r)&&n.ref===e.ref)if(sn=!1,e.pendingProps=r=o,(n.lanes&i)!==0)n.flags&131072&&(sn=!0);else return e.lanes=n.lanes,Cr(n,e,i)}return nu(n,e,t,r,i)}function sg(n,e,t){var r=e.pendingProps,i=r.children,o=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(so,pn),pn|=t;else{if(!(t&1073741824))return n=o!==null?o.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,qe(so,pn),pn|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:t,qe(so,pn),pn|=r}else o!==null?(r=o.baseLanes|t,e.memoizedState=null):r=t,qe(so,pn),pn|=r;return Jt(n,e,i,t),e.child}function lg(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function nu(n,e,t,r,i){var o=cn(t)?Mi:Kt.current;return o=_o(e,o),go(e,i),t=gf(n,e,t,r,o,i),r=vf(),n!==null&&!sn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Cr(n,e,i)):(st&&r&&rf(e),e.flags|=1,Jt(n,e,t,i),e.child)}function vh(n,e,t,r,i){if(cn(t)){var o=!0;pl(e)}else o=!1;if(go(e,i),e.stateNode===null)Gs(n,e),rg(e,t,r),eu(e,t,r,i),r=!0;else if(n===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,c=t.contextType;typeof c=="object"&&c!==null?c=Pn(c):(c=cn(t)?Mi:Kt.current,c=_o(e,c));var d=t.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==c)&&uh(e,a,r,c),Or=!1;var u=e.memoizedState;a.state=u,yl(e,r,a,i),l=e.memoizedState,s!==r||u!==l||ln.current||Or?(typeof d=="function"&&(Zd(e,t,d,r),l=e.memoizedState),(s=Or||dh(e,t,s,r,u,l,c))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,jm(n,e),s=e.memoizedProps,c=e.type===e.elementType?s:jn(e.type,s),a.props=c,f=e.pendingProps,u=a.context,l=t.contextType,typeof l=="object"&&l!==null?l=Pn(l):(l=cn(t)?Mi:Kt.current,l=_o(e,l));var p=t.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||u!==l)&&uh(e,a,r,l),Or=!1,u=e.memoizedState,a.state=u,yl(e,r,a,i);var g=e.memoizedState;s!==f||u!==g||ln.current||Or?(typeof p=="function"&&(Zd(e,t,p,r),g=e.memoizedState),(c=Or||dh(e,t,c,r,u,g,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===n.memoizedProps&&u===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===n.memoizedProps&&u===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),a.props=r,a.state=g,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||s===n.memoizedProps&&u===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===n.memoizedProps&&u===n.memoizedState||(e.flags|=1024),r=!1)}return ru(n,e,t,r,o,i)}function ru(n,e,t,r,i,o){lg(n,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&nh(e,t,!1),Cr(n,e,o);r=e.stateNode,ay.current=e;var s=a&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&a?(e.child=ko(e,n.child,null,o),e.child=ko(e,null,s,o)):Jt(n,e,s,o),e.memoizedState=r.state,i&&nh(e,t,!0),e.child}function cg(n){var e=n.stateNode;e.pendingContext?th(n,e.pendingContext,e.pendingContext!==e.context):e.context&&th(n,e.context,!1),ff(n,e.containerInfo)}function yh(n,e,t,r,i){return So(),af(i),e.flags|=256,Jt(n,e,t,r),e.child}var iu={dehydrated:null,treeContext:null,retryLane:0};function ou(n){return{baseLanes:n,cachePool:null,transitions:null}}function dg(n,e,t){var r=e.pendingProps,i=ft.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=n!==null&&n.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),qe(ft,i&1),n===null)return Qd(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,n=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=rc(a,r,0,null),n=Ii(n,r,t,null),o.return=e,n.return=e,o.sibling=n,e.child=o,e.child.memoizedState=ou(t),e.memoizedState=iu,n):bf(e,a));if(i=n.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return sy(n,e,a,r,s,i,t);if(o){o=r.fallback,a=e.mode,i=n.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Qr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Qr(s,o):(o=Ii(o,a,t,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=n.child.memoizedState,a=a===null?ou(t):{baseLanes:a.baseLanes|t,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=n.childLanes&~t,e.memoizedState=iu,r}return o=n.child,n=o.sibling,r=Qr(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function bf(n,e){return e=rc({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Ss(n,e,t,r){return r!==null&&af(r),ko(e,n.child,null,t),n=bf(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function sy(n,e,t,r,i,o,a){if(t)return e.flags&256?(e.flags&=-257,r=Yc(Error(te(422))),Ss(n,e,a,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=rc({mode:"visible",children:r.children},i,0,null),o=Ii(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&ko(e,n.child,null,a),e.child.memoizedState=ou(a),e.memoizedState=iu,o);if(!(e.mode&1))return Ss(n,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(te(419)),r=Yc(o,r,void 0),Ss(n,e,a,r)}if(s=(a&n.childLanes)!==0,sn||s){if(r=Bt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,kr(n,i),Hn(r,n,i,-1))}return Ef(),r=Yc(Error(te(421))),Ss(n,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=by.bind(null,n),i._reactRetry=e,null):(n=o.treeContext,vn=Xr(i.nextSibling),yn=e,st=!0,zn=null,n!==null&&(En[In++]=yr,En[In++]=xr,En[In++]=Ai,yr=n.id,xr=n.overflow,Ai=e),e=bf(e,r.children),e.flags|=4096,e)}function xh(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),Jd(n.return,e,t)}function Xc(n,e,t,r,i){var o=n.memoizedState;o===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=t,o.tailMode=i)}function ug(n,e,t){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Jt(n,e,r.children,t),r=ft.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&xh(n,t,e);else if(n.tag===19)xh(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(qe(ft,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&xl(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),Xc(e,!1,i,t,o);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&xl(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}Xc(e,!0,t,null,o);break;case"together":Xc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gs(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Cr(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Li|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(te(153));if(e.child!==null){for(n=e.child,t=Qr(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Qr(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function ly(n,e,t){switch(e.tag){case 3:cg(e),So();break;case 5:Bm(e);break;case 1:cn(e.type)&&pl(e);break;case 4:ff(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;qe(gl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(qe(ft,ft.current&1),e.flags|=128,null):t&e.child.childLanes?dg(n,e,t):(qe(ft,ft.current&1),n=Cr(n,e,t),n!==null?n.sibling:null);qe(ft,ft.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return ug(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),qe(ft,ft.current),r)break;return null;case 22:case 23:return e.lanes=0,sg(n,e,t)}return Cr(n,e,t)}var fg,au,pg,hg;fg=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};au=function(){};pg=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,Si(nr.current);var o=null;switch(t){case"input":i=Nd(n,i),r=Nd(n,r),o=[];break;case"select":i=ht({},i,{value:void 0}),r=ht({},r,{value:void 0}),o=[];break;case"textarea":i=Pd(n,i),r=Pd(n,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=ul)}Td(t,r);var a;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(a in s)s.hasOwnProperty(a)&&(t||(t={}),t[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ca.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(s=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(t||(t={}),t[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(t||(t={}),t[a]=l[a])}else t||(o||(o=[]),o.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ca.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ze("scroll",n),o||s===l||(o=[])):(o=o||[]).push(c,l))}t&&(o=o||[]).push("style",t);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};hg=function(n,e,t,r){t!==r&&(e.flags|=4)};function Zo(n,e){if(!st)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Yt(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function cy(n,e,t){var r=e.pendingProps;switch(of(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(e),null;case 1:return cn(e.type)&&fl(),Yt(e),null;case 3:return r=e.stateNode,Co(),it(ln),it(Kt),hf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(ws(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zn!==null&&(hu(zn),zn=null))),au(n,e),Yt(e),null;case 5:pf(e);var i=Si(Ba.current);if(t=e.type,n!==null&&e.stateNode!=null)pg(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(te(166));return Yt(e),null}if(n=Si(nr.current),ws(e)){r=e.stateNode,t=e.type;var o=e.memoizedProps;switch(r[Zn]=e,r[Oa]=o,n=(e.mode&1)!==0,t){case"dialog":Ze("cancel",r),Ze("close",r);break;case"iframe":case"object":case"embed":Ze("load",r);break;case"video":case"audio":for(i=0;i<ua.length;i++)Ze(ua[i],r);break;case"source":Ze("error",r);break;case"img":case"image":case"link":Ze("error",r),Ze("load",r);break;case"details":Ze("toggle",r);break;case"input":Np(r,o),Ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ze("invalid",r);break;case"textarea":Ap(r,o),Ze("invalid",r)}Td(t,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&bs(r.textContent,s,n),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&bs(r.textContent,s,n),i=["children",""+s]):Ca.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Ze("scroll",r)}switch(t){case"input":fs(r),Mp(r,o,!0);break;case"textarea":fs(r),Pp(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=ul)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=U1(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=a.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=a.createElement(t,{is:r.is}):(n=a.createElement(t),t==="select"&&(a=n,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):n=a.createElementNS(n,t),n[Zn]=e,n[Oa]=r,fg(n,e,!1,!1),e.stateNode=n;e:{switch(a=Rd(t,r),t){case"dialog":Ze("cancel",n),Ze("close",n),i=r;break;case"iframe":case"object":case"embed":Ze("load",n),i=r;break;case"video":case"audio":for(i=0;i<ua.length;i++)Ze(ua[i],n);i=r;break;case"source":Ze("error",n),i=r;break;case"img":case"image":case"link":Ze("error",n),Ze("load",n),i=r;break;case"details":Ze("toggle",n),i=r;break;case"input":Np(n,r),i=Nd(n,r),Ze("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=ht({},r,{value:void 0}),Ze("invalid",n);break;case"textarea":Ap(n,r),i=Pd(n,r),Ze("invalid",n);break;default:i=r}Td(t,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?W1(n,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&V1(n,l)):o==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Ea(n,l):typeof l=="number"&&Ea(n,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ca.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ze("scroll",n):l!=null&&Vu(n,o,l,a))}switch(t){case"input":fs(n),Mp(n,r,!1);break;case"textarea":fs(n),Pp(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Zr(r.value));break;case"select":n.multiple=!!r.multiple,o=r.value,o!=null?fo(n,!!r.multiple,o,!1):r.defaultValue!=null&&fo(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=ul)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Yt(e),null;case 6:if(n&&e.stateNode!=null)hg(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(te(166));if(t=Si(Ba.current),Si(nr.current),ws(e)){if(r=e.stateNode,t=e.memoizedProps,r[Zn]=e,(o=r.nodeValue!==t)&&(n=yn,n!==null))switch(n.tag){case 3:bs(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&bs(r.nodeValue,t,(n.mode&1)!==0)}o&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Zn]=e,e.stateNode=r}return Yt(e),null;case 13:if(it(ft),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(st&&vn!==null&&e.mode&1&&!(e.flags&128))Lm(),So(),e.flags|=98560,o=!1;else if(o=ws(e),r!==null&&r.dehydrated!==null){if(n===null){if(!o)throw Error(te(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(te(317));o[Zn]=e}else So(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Yt(e),o=!1}else zn!==null&&(hu(zn),zn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||ft.current&1?Lt===0&&(Lt=3):Ef())),e.updateQueue!==null&&(e.flags|=4),Yt(e),null);case 4:return Co(),au(n,e),n===null&&Ta(e.stateNode.containerInfo),Yt(e),null;case 10:return cf(e.type._context),Yt(e),null;case 17:return cn(e.type)&&fl(),Yt(e),null;case 19:if(it(ft),o=e.memoizedState,o===null)return Yt(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)Zo(o,!1);else{if(Lt!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(a=xl(n),a!==null){for(e.flags|=128,Zo(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)o=t,n=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=n,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,n=a.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return qe(ft,ft.current&1|2),e.child}n=n.sibling}o.tail!==null&&kt()>Io&&(e.flags|=128,r=!0,Zo(o,!1),e.lanes=4194304)}else{if(!r)if(n=xl(a),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Zo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!st)return Yt(e),null}else 2*kt()-o.renderingStartTime>Io&&t!==1073741824&&(e.flags|=128,r=!0,Zo(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(t=o.last,t!==null?t.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=kt(),e.sibling=null,t=ft.current,qe(ft,r?t&1|2:t&1),e):(Yt(e),null);case 22:case 23:return Cf(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?pn&1073741824&&(Yt(e),e.subtreeFlags&6&&(e.flags|=8192)):Yt(e),null;case 24:return null;case 25:return null}throw Error(te(156,e.tag))}function dy(n,e){switch(of(e),e.tag){case 1:return cn(e.type)&&fl(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Co(),it(ln),it(Kt),hf(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return pf(e),null;case 13:if(it(ft),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(te(340));So()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return it(ft),null;case 4:return Co(),null;case 10:return cf(e.type._context),null;case 22:case 23:return Cf(),null;case 24:return null;default:return null}}var ks=!1,Gt=!1,uy=typeof WeakSet=="function"?WeakSet:Set,de=null;function ao(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){vt(n,e,r)}else t.current=null}function su(n,e,t){try{t()}catch(r){vt(n,e,r)}}var bh=!1;function fy(n,e){if($d=ll,n=xm(),nf(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{t.nodeType,o.nodeType}catch(S){t=null;break e}var a=0,s=-1,l=-1,c=0,d=0,f=n,u=null;t:for(;;){for(var p;f!==t||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)u=f,f=p;for(;;){if(f===n)break t;if(u===t&&++c===i&&(s=a),u===o&&++d===r&&(l=a),(p=f.nextSibling)!==null)break;f=u,u=f.parentNode}f=p}t=s===-1||l===-1?null:{start:s,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(Wd={focusedElem:n,selectionRange:t},ll=!1,de=e;de!==null;)if(e=de,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,de=n;else for(;de!==null;){e=de;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,w=g.memoizedState,y=e.stateNode,x=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:jn(e.type,m),w);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(S){vt(e,e.return,S)}if(n=e.sibling,n!==null){n.return=e.return,de=n;break}de=e.return}return g=bh,bh=!1,g}function ba(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var o=i.destroy;i.destroy=void 0,o!==void 0&&su(e,t,o)}i=i.next}while(i!==r)}}function tc(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function lu(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function mg(n){var e=n.alternate;e!==null&&(n.alternate=null,mg(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Zn],delete e[Oa],delete e[Gd],delete e[G5],delete e[K5])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function gg(n){return n.tag===5||n.tag===3||n.tag===4}function wh(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||gg(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function cu(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=ul));else if(r!==4&&(n=n.child,n!==null))for(cu(n,e,t),n=n.sibling;n!==null;)cu(n,e,t),n=n.sibling}function du(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(du(n,e,t),n=n.sibling;n!==null;)du(n,e,t),n=n.sibling}var Ft=null,Bn=!1;function Lr(n,e,t){for(t=t.child;t!==null;)vg(n,e,t),t=t.sibling}function vg(n,e,t){if(tr&&typeof tr.onCommitFiberUnmount=="function")try{tr.onCommitFiberUnmount(Xl,t)}catch(s){}switch(t.tag){case 5:Gt||ao(t,e);case 6:var r=Ft,i=Bn;Ft=null,Lr(n,e,t),Ft=r,Bn=i,Ft!==null&&(Bn?(n=Ft,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Ft.removeChild(t.stateNode));break;case 18:Ft!==null&&(Bn?(n=Ft,t=t.stateNode,n.nodeType===8?Fc(n.parentNode,t):n.nodeType===1&&Fc(n,t),Aa(n)):Fc(Ft,t.stateNode));break;case 4:r=Ft,i=Bn,Ft=t.stateNode.containerInfo,Bn=!0,Lr(n,e,t),Ft=r,Bn=i;break;case 0:case 11:case 14:case 15:if(!Gt&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&su(t,e,a),i=i.next}while(i!==r)}Lr(n,e,t);break;case 1:if(!Gt&&(ao(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(s){vt(t,e,s)}Lr(n,e,t);break;case 21:Lr(n,e,t);break;case 22:t.mode&1?(Gt=(r=Gt)||t.memoizedState!==null,Lr(n,e,t),Gt=r):Lr(n,e,t);break;default:Lr(n,e,t)}}function _h(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new uy),e.forEach(function(r){var i=wy.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function On(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var o=n,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:Ft=s.stateNode,Bn=!1;break e;case 3:Ft=s.stateNode.containerInfo,Bn=!0;break e;case 4:Ft=s.stateNode.containerInfo,Bn=!0;break e}s=s.return}if(Ft===null)throw Error(te(160));vg(o,a,i),Ft=null,Bn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){vt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)yg(e,n),e=e.sibling}function yg(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(On(e,n),Kn(n),r&4){try{ba(3,n,n.return),tc(3,n)}catch(m){vt(n,n.return,m)}try{ba(5,n,n.return)}catch(m){vt(n,n.return,m)}}break;case 1:On(e,n),Kn(n),r&512&&t!==null&&ao(t,t.return);break;case 5:if(On(e,n),Kn(n),r&512&&t!==null&&ao(t,t.return),n.flags&32){var i=n.stateNode;try{Ea(i,"")}catch(m){vt(n,n.return,m)}}if(r&4&&(i=n.stateNode,i!=null)){var o=n.memoizedProps,a=t!==null?t.memoizedProps:o,s=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&F1(i,o),Rd(s,a);var c=Rd(s,o);for(a=0;a<l.length;a+=2){var d=l[a],f=l[a+1];d==="style"?W1(i,f):d==="dangerouslySetInnerHTML"?V1(i,f):d==="children"?Ea(i,f):Vu(i,d,f,c)}switch(s){case"input":Md(i,o);break;case"textarea":H1(i,o);break;case"select":var u=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?fo(i,!!o.multiple,p,!1):u!==!!o.multiple&&(o.defaultValue!=null?fo(i,!!o.multiple,o.defaultValue,!0):fo(i,!!o.multiple,o.multiple?[]:"",!1))}i[Oa]=o}catch(m){vt(n,n.return,m)}}break;case 6:if(On(e,n),Kn(n),r&4){if(n.stateNode===null)throw Error(te(162));i=n.stateNode,o=n.memoizedProps;try{i.nodeValue=o}catch(m){vt(n,n.return,m)}}break;case 3:if(On(e,n),Kn(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{Aa(e.containerInfo)}catch(m){vt(n,n.return,m)}break;case 4:On(e,n),Kn(n);break;case 13:On(e,n),Kn(n),i=n.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Sf=kt())),r&4&&_h(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(Gt=(c=Gt)||d,On(e,n),Gt=c):On(e,n),Kn(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!d&&n.mode&1)for(de=n,d=n.child;d!==null;){for(f=de=d;de!==null;){switch(u=de,p=u.child,u.tag){case 0:case 11:case 14:case 15:ba(4,u,u.return);break;case 1:ao(u,u.return);var g=u.stateNode;if(typeof g.componentWillUnmount=="function"){r=u,t=u.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){vt(r,t,m)}}break;case 5:ao(u,u.return);break;case 22:if(u.memoizedState!==null){kh(f);continue}}p!==null?(p.return=u,de=p):kh(f)}d=d.sibling}e:for(d=null,f=n;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=$1("display",a))}catch(m){vt(n,n.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(m){vt(n,n.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===n)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break e;for(;f.sibling===null;){if(f.return===null||f.return===n)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:On(e,n),Kn(n),r&4&&_h(n);break;case 21:break;default:On(e,n),Kn(n)}}function Kn(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(gg(t)){var r=t;break e}t=t.return}throw Error(te(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ea(i,""),r.flags&=-33);var o=wh(n);du(n,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=wh(n);cu(n,s,a);break;default:throw Error(te(161))}}catch(l){vt(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function py(n,e,t){de=n,xg(n)}function xg(n,e,t){for(var r=(n.mode&1)!==0;de!==null;){var i=de,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||ks;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Gt;s=ks;var c=Gt;if(ks=a,(Gt=l)&&!c)for(de=i;de!==null;)a=de,l=a.child,a.tag===22&&a.memoizedState!==null?Ch(i):l!==null?(l.return=a,de=l):Ch(i);for(;o!==null;)de=o,xg(o),o=o.sibling;de=i,ks=s,Gt=c}Sh(n)}else i.subtreeFlags&8772&&o!==null?(o.return=i,de=o):Sh(n)}}function Sh(n){for(;de!==null;){var e=de;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Gt||tc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Gt)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:jn(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&sh(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}sh(e,a,t)}break;case 5:var s=e.stateNode;if(t===null&&e.flags&4){t=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Aa(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}Gt||e.flags&512&&lu(e)}catch(u){vt(e,e.return,u)}}if(e===n){de=null;break}if(t=e.sibling,t!==null){t.return=e.return,de=t;break}de=e.return}}function kh(n){for(;de!==null;){var e=de;if(e===n){de=null;break}var t=e.sibling;if(t!==null){t.return=e.return,de=t;break}de=e.return}}function Ch(n){for(;de!==null;){var e=de;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{tc(4,e)}catch(l){vt(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){vt(e,i,l)}}var o=e.return;try{lu(e)}catch(l){vt(e,o,l)}break;case 5:var a=e.return;try{lu(e)}catch(l){vt(e,a,l)}}}catch(l){vt(e,e.return,l)}if(e===n){de=null;break}var s=e.sibling;if(s!==null){s.return=e.return,de=s;break}de=e.return}}var hy=Math.ceil,_l=Ir.ReactCurrentDispatcher,wf=Ir.ReactCurrentOwner,An=Ir.ReactCurrentBatchConfig,Ae=0,Bt=null,Nt=null,Ht=0,pn=0,so=si(0),Lt=0,Ha=null,Li=0,nc=0,_f=0,wa=null,an=null,Sf=0,Io=1/0,fr=null,Sl=!1,uu=null,Kr=null,Cs=!1,zr=null,kl=0,_a=0,fu=null,Ks=-1,qs=0;function Zt(){return Ae&6?kt():Ks!==-1?Ks:Ks=kt()}function qr(n){return n.mode&1?Ae&2&&Ht!==0?Ht&-Ht:Q5.transition!==null?(qs===0&&(qs=rm()),qs):(n=Be,n!==0||(n=window.event,n=n===void 0?16:dm(n.type)),n):1}function Hn(n,e,t,r){if(50<_a)throw _a=0,fu=null,Error(te(185));Ga(n,t,r),(!(Ae&2)||n!==Bt)&&(n===Bt&&(!(Ae&2)&&(nc|=t),Lt===4&&Br(n,Ht)),dn(n,r),t===1&&Ae===0&&!(e.mode&1)&&(Io=kt()+500,Jl&&li()))}function dn(n,e){var t=n.callbackNode;Q3(n,e);var r=sl(n,n===Bt?Ht:0);if(r===0)t!==null&&Rp(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&Rp(t),e===1)n.tag===0?q5(Eh.bind(null,n)):Mm(Eh.bind(null,n)),Y5(function(){!(Ae&6)&&li()}),t=null;else{switch(im(r)){case 1:t=Gu;break;case 4:t=tm;break;case 16:t=al;break;case 536870912:t=nm;break;default:t=al}t=Ig(t,bg.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function bg(n,e){if(Ks=-1,qs=0,Ae&6)throw Error(te(327));var t=n.callbackNode;if(vo()&&n.callbackNode!==t)return null;var r=sl(n,n===Bt?Ht:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=Cl(n,r);else{e=r;var i=Ae;Ae|=2;var o=_g();(Bt!==n||Ht!==e)&&(fr=null,Io=kt()+500,Ei(n,e));do try{vy();break}catch(s){wg(n,s)}while(!0);lf(),_l.current=o,Ae=i,Nt!==null?e=0:(Bt=null,Ht=0,e=Lt)}if(e!==0){if(e===2&&(i=zd(n),i!==0&&(r=i,e=pu(n,i))),e===1)throw t=Ha,Ei(n,0),Br(n,r),dn(n,kt()),t;if(e===6)Br(n,r);else{if(i=n.current.alternate,!(r&30)&&!my(i)&&(e=Cl(n,r),e===2&&(o=zd(n),o!==0&&(r=o,e=pu(n,o))),e===1))throw t=Ha,Ei(n,0),Br(n,r),dn(n,kt()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(te(345));case 2:yi(n,an,fr);break;case 3:if(Br(n,r),(r&130023424)===r&&(e=Sf+500-kt(),10<e)){if(sl(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){Zt(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=Xd(yi.bind(null,n,an,fr),e);break}yi(n,an,fr);break;case 4:if(Br(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var a=31-Fn(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=kt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*hy(r/1960))-r,10<r){n.timeoutHandle=Xd(yi.bind(null,n,an,fr),r);break}yi(n,an,fr);break;case 5:yi(n,an,fr);break;default:throw Error(te(329))}}}return dn(n,kt()),n.callbackNode===t?bg.bind(null,n):null}function pu(n,e){var t=wa;return n.current.memoizedState.isDehydrated&&(Ei(n,e).flags|=256),n=Cl(n,e),n!==2&&(e=an,an=t,e!==null&&hu(e)),n}function hu(n){an===null?an=n:an.push.apply(an,n)}function my(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],o=i.getSnapshot;i=i.value;try{if(!Vn(o(),i))return!1}catch(a){return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Br(n,e){for(e&=~_f,e&=~nc,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Fn(e),r=1<<t;n[t]=-1,e&=~r}}function Eh(n){if(Ae&6)throw Error(te(327));vo();var e=sl(n,0);if(!(e&1))return dn(n,kt()),null;var t=Cl(n,e);if(n.tag!==0&&t===2){var r=zd(n);r!==0&&(e=r,t=pu(n,r))}if(t===1)throw t=Ha,Ei(n,0),Br(n,e),dn(n,kt()),t;if(t===6)throw Error(te(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,yi(n,an,fr),dn(n,kt()),null}function kf(n,e){var t=Ae;Ae|=1;try{return n(e)}finally{Ae=t,Ae===0&&(Io=kt()+500,Jl&&li())}}function Ti(n){zr!==null&&zr.tag===0&&!(Ae&6)&&vo();var e=Ae;Ae|=1;var t=An.transition,r=Be;try{if(An.transition=null,Be=1,n)return n()}finally{Be=r,An.transition=t,Ae=e,!(Ae&6)&&li()}}function Cf(){pn=so.current,it(so)}function Ei(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,W5(t)),Nt!==null)for(t=Nt.return;t!==null;){var r=t;switch(of(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&fl();break;case 3:Co(),it(ln),it(Kt),hf();break;case 5:pf(r);break;case 4:Co();break;case 13:it(ft);break;case 19:it(ft);break;case 10:cf(r.type._context);break;case 22:case 23:Cf()}t=t.return}if(Bt=n,Nt=n=Qr(n.current,null),Ht=pn=e,Lt=0,Ha=null,_f=nc=Li=0,an=wa=null,_i!==null){for(e=0;e<_i.length;e++)if(t=_i[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,o=t.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}t.pending=r}_i=null}return n}function wg(n,e){do{var t=Nt;try{if(lf(),Ys.current=wl,bl){for(var r=pt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}bl=!1}if(Pi=0,Ot=Pt=pt=null,xa=!1,Da=0,wf.current=null,t===null||t.return===null){Lt=1,Ha=e,Nt=null;break}e:{var o=n,a=t.return,s=t,l=e;if(e=Ht,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var u=d.alternate;u?(d.updateQueue=u.updateQueue,d.memoizedState=u.memoizedState,d.lanes=u.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ph(a);if(p!==null){p.flags&=-257,hh(p,a,s,o,e),p.mode&1&&fh(o,c,e),e=p,l=c;var g=e.updateQueue;if(g===null){var m=new Set;m.add(l),e.updateQueue=m}else g.add(l);break e}else{if(!(e&1)){fh(o,c,e),Ef();break e}l=Error(te(426))}}else if(st&&s.mode&1){var w=ph(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),hh(w,a,s,o,e),af(Eo(l,s));break e}}o=l=Eo(l,s),Lt!==4&&(Lt=2),wa===null?wa=[o]:wa.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var y=ig(o,l,e);ah(o,y);break e;case 1:s=l;var x=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Kr===null||!Kr.has(v)))){o.flags|=65536,e&=-e,o.lanes|=e;var S=og(o,s,e);ah(o,S);break e}}o=o.return}while(o!==null)}kg(t)}catch(_){e=_,Nt===t&&t!==null&&(Nt=t=t.return);continue}break}while(!0)}function _g(){var n=_l.current;return _l.current=wl,n===null?wl:n}function Ef(){(Lt===0||Lt===3||Lt===2)&&(Lt=4),Bt===null||!(Li&268435455)&&!(nc&268435455)||Br(Bt,Ht)}function Cl(n,e){var t=Ae;Ae|=2;var r=_g();(Bt!==n||Ht!==e)&&(fr=null,Ei(n,e));do try{gy();break}catch(i){wg(n,i)}while(!0);if(lf(),Ae=t,_l.current=r,Nt!==null)throw Error(te(261));return Bt=null,Ht=0,Lt}function gy(){for(;Nt!==null;)Sg(Nt)}function vy(){for(;Nt!==null&&!U3();)Sg(Nt)}function Sg(n){var e=Eg(n.alternate,n,pn);n.memoizedProps=n.pendingProps,e===null?kg(n):Nt=e,wf.current=null}function kg(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=dy(t,e),t!==null){t.flags&=32767,Nt=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Lt=6,Nt=null;return}}else if(t=cy(t,e,pn),t!==null){Nt=t;return}if(e=e.sibling,e!==null){Nt=e;return}Nt=e=n}while(e!==null);Lt===0&&(Lt=5)}function yi(n,e,t){var r=Be,i=An.transition;try{An.transition=null,Be=1,yy(n,e,t,r)}finally{An.transition=i,Be=r}return null}function yy(n,e,t,r){do vo();while(zr!==null);if(Ae&6)throw Error(te(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(te(177));n.callbackNode=null,n.callbackPriority=0;var o=t.lanes|t.childLanes;if(J3(n,o),n===Bt&&(Nt=Bt=null,Ht=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Cs||(Cs=!0,Ig(al,function(){return vo(),null})),o=(t.flags&15990)!==0,t.subtreeFlags&15990||o){o=An.transition,An.transition=null;var a=Be;Be=1;var s=Ae;Ae|=4,wf.current=null,fy(n,t),yg(t,n),D5(Wd),ll=!!$d,Wd=$d=null,n.current=t,py(t),V3(),Ae=s,Be=a,An.transition=o}else n.current=t;if(Cs&&(Cs=!1,zr=n,kl=i),o=n.pendingLanes,o===0&&(Kr=null),Y3(t.stateNode),dn(n,kt()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(Sl)throw Sl=!1,n=uu,uu=null,n;return kl&1&&n.tag!==0&&vo(),o=n.pendingLanes,o&1?n===fu?_a++:(_a=0,fu=n):_a=0,li(),null}function vo(){if(zr!==null){var n=im(kl),e=An.transition,t=Be;try{if(An.transition=null,Be=16>n?16:n,zr===null)var r=!1;else{if(n=zr,zr=null,kl=0,Ae&6)throw Error(te(331));var i=Ae;for(Ae|=4,de=n.current;de!==null;){var o=de,a=o.child;if(de.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(de=c;de!==null;){var d=de;switch(d.tag){case 0:case 11:case 15:ba(8,d,o)}var f=d.child;if(f!==null)f.return=d,de=f;else for(;de!==null;){d=de;var u=d.sibling,p=d.return;if(mg(d),d===c){de=null;break}if(u!==null){u.return=p,de=u;break}de=p}}}var g=o.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var w=m.sibling;m.sibling=null,m=w}while(m!==null)}}de=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,de=a;else e:for(;de!==null;){if(o=de,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ba(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,de=y;break e}de=o.return}}var x=n.current;for(de=x;de!==null;){a=de;var v=a.child;if(a.subtreeFlags&2064&&v!==null)v.return=a,de=v;else e:for(a=x;de!==null;){if(s=de,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:tc(9,s)}}catch(_){vt(s,s.return,_)}if(s===a){de=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,de=S;break e}de=s.return}}if(Ae=i,li(),tr&&typeof tr.onPostCommitFiberRoot=="function")try{tr.onPostCommitFiberRoot(Xl,n)}catch(_){}r=!0}return r}finally{Be=t,An.transition=e}}return!1}function Ih(n,e,t){e=Eo(t,e),e=ig(n,e,1),n=Gr(n,e,1),e=Zt(),n!==null&&(Ga(n,1,e),dn(n,e))}function vt(n,e,t){if(n.tag===3)Ih(n,n,t);else for(;e!==null;){if(e.tag===3){Ih(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Kr===null||!Kr.has(r))){n=Eo(t,n),n=og(e,n,1),e=Gr(e,n,1),n=Zt(),e!==null&&(Ga(e,1,n),dn(e,n));break}}e=e.return}}function xy(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Zt(),n.pingedLanes|=n.suspendedLanes&t,Bt===n&&(Ht&t)===t&&(Lt===4||Lt===3&&(Ht&130023424)===Ht&&500>kt()-Sf?Ei(n,0):_f|=t),dn(n,e)}function Cg(n,e){e===0&&(n.mode&1?(e=ms,ms<<=1,!(ms&130023424)&&(ms=4194304)):e=1);var t=Zt();n=kr(n,e),n!==null&&(Ga(n,e,t),dn(n,t))}function by(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),Cg(n,t)}function wy(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(te(314))}r!==null&&r.delete(e),Cg(n,t)}var Eg;Eg=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||ln.current)sn=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return sn=!1,ly(n,e,t);sn=!!(n.flags&131072)}else sn=!1,st&&e.flags&1048576&&Am(e,ml,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Gs(n,e),n=e.pendingProps;var i=_o(e,Kt.current);go(e,t),i=gf(null,e,r,n,i,t);var o=vf();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,cn(r)?(o=!0,pl(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,uf(e),i.updater=ec,e.stateNode=i,i._reactInternals=e,eu(e,r,n,t),e=ru(null,e,r,!0,o,t)):(e.tag=0,st&&o&&rf(e),Jt(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(Gs(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Sy(r),n=jn(r,n),i){case 0:e=nu(null,e,r,n,t);break e;case 1:e=vh(null,e,r,n,t);break e;case 11:e=mh(null,e,r,n,t);break e;case 14:e=gh(null,e,r,jn(r.type,n),t);break e}throw Error(te(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:jn(r,i),nu(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:jn(r,i),vh(n,e,r,i,t);case 3:e:{if(cg(e),n===null)throw Error(te(387));r=e.pendingProps,o=e.memoizedState,i=o.element,jm(n,e),yl(e,r,null,t);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Eo(Error(te(423)),e),e=yh(n,e,r,t,i);break e}else if(r!==i){i=Eo(Error(te(424)),e),e=yh(n,e,r,t,i);break e}else for(vn=Xr(e.stateNode.containerInfo.firstChild),yn=e,st=!0,zn=null,t=Rm(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(So(),r===i){e=Cr(n,e,t);break e}Jt(n,e,r,t)}e=e.child}return e;case 5:return Bm(e),n===null&&Qd(e),r=e.type,i=e.pendingProps,o=n!==null?n.memoizedProps:null,a=i.children,Yd(r,i)?a=null:o!==null&&Yd(r,o)&&(e.flags|=32),lg(n,e),Jt(n,e,a,t),e.child;case 6:return n===null&&Qd(e),null;case 13:return dg(n,e,t);case 4:return ff(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=ko(e,null,r,t):Jt(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:jn(r,i),mh(n,e,r,i,t);case 7:return Jt(n,e,e.pendingProps,t),e.child;case 8:return Jt(n,e,e.pendingProps.children,t),e.child;case 12:return Jt(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,qe(gl,r._currentValue),r._currentValue=a,o!==null)if(Vn(o.value,a)){if(o.children===i.children&&!ln.current){e=Cr(n,e,t);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=wr(-1,t&-t),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}o.lanes|=t,l=o.alternate,l!==null&&(l.lanes|=t),Jd(o.return,t,e),s.lanes|=t;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(te(341));a.lanes|=t,s=a.alternate,s!==null&&(s.lanes|=t),Jd(a,t,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Jt(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,go(e,t),i=Pn(i),r=r(i),e.flags|=1,Jt(n,e,r,t),e.child;case 14:return r=e.type,i=jn(r,e.pendingProps),i=jn(r.type,i),gh(n,e,r,i,t);case 15:return ag(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:jn(r,i),Gs(n,e),e.tag=1,cn(r)?(n=!0,pl(e)):n=!1,go(e,t),rg(e,r,i),eu(e,r,i,t),ru(null,e,r,!0,n,t);case 19:return ug(n,e,t);case 22:return sg(n,e,t)}throw Error(te(156,e.tag))};function Ig(n,e){return em(n,e)}function _y(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(n,e,t,r){return new _y(n,e,t,r)}function If(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Sy(n){if(typeof n=="function")return If(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Wu)return 11;if(n===Yu)return 14}return 2}function Qr(n,e){var t=n.alternate;return t===null?(t=Mn(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Qs(n,e,t,r,i,o){var a=2;if(r=n,typeof n=="function")If(n)&&(a=1);else if(typeof n=="string")a=5;else e:switch(n){case Qi:return Ii(t.children,i,o,e);case $u:a=8,i|=8;break;case kd:return n=Mn(12,t,e,i|2),n.elementType=kd,n.lanes=o,n;case Cd:return n=Mn(13,t,e,i),n.elementType=Cd,n.lanes=o,n;case Ed:return n=Mn(19,t,e,i),n.elementType=Ed,n.lanes=o,n;case B1:return rc(t,i,o,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case O1:a=10;break e;case j1:a=9;break e;case Wu:a=11;break e;case Yu:a=14;break e;case Rr:a=16,r=null;break e}throw Error(te(130,n==null?n:typeof n,""))}return e=Mn(a,t,e,i),e.elementType=n,e.type=r,e.lanes=o,e}function Ii(n,e,t,r){return n=Mn(7,n,r,e),n.lanes=t,n}function rc(n,e,t,r){return n=Mn(22,n,r,e),n.elementType=B1,n.lanes=t,n.stateNode={isHidden:!1},n}function Gc(n,e,t){return n=Mn(6,n,null,e),n.lanes=t,n}function Kc(n,e,t){return e=Mn(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function ky(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mc(0),this.expirationTimes=Mc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Nf(n,e,t,r,i,o,a,s,l){return n=new ky(n,e,t,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Mn(3,null,null,e),n.current=o,o.stateNode=n,o.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},uf(o),n}function Cy(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qi,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function Ng(n){if(!n)return ei;n=n._reactInternals;e:{if(Hi(n)!==n||n.tag!==1)throw Error(te(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(cn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(te(171))}if(n.tag===1){var t=n.type;if(cn(t))return Nm(n,t,e)}return e}function Mg(n,e,t,r,i,o,a,s,l){return n=Nf(t,r,!0,n,i,o,a,s,l),n.context=Ng(null),t=n.current,r=Zt(),i=qr(t),o=wr(r,i),o.callback=e!=null?e:null,Gr(t,o,i),n.current.lanes=i,Ga(n,i,r),dn(n,r),n}function ic(n,e,t,r){var i=e.current,o=Zt(),a=qr(i);return t=Ng(t),e.context===null?e.context=t:e.pendingContext=t,e=wr(o,a),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Gr(i,e,a),n!==null&&(Hn(n,i,a,o),Ws(n,i,a)),a}function El(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Nh(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function Mf(n,e){Nh(n,e),(n=n.alternate)&&Nh(n,e)}var Ag=typeof reportError=="function"?reportError:function(n){console.error(n)};function Af(n){this._internalRoot=n}oc.prototype.render=Af.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(te(409));ic(n,e,null,null)};oc.prototype.unmount=Af.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Ti(function(){ic(null,n,null,null)}),e[Sr]=null}};function oc(n){this._internalRoot=n}oc.prototype.unstable_scheduleHydration=function(n){if(n){var e=sm();n={blockedOn:null,target:n,priority:e};for(var t=0;t<jr.length&&e!==0&&e<jr[t].priority;t++);jr.splice(t,0,n),t===0&&cm(n)}};function Pf(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function ac(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Mh(){}function Ey(n,e,t,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=El(a);o.call(c)}}var a=Mg(e,r,n,0,null,!1,!1,"",Mh);return n._reactRootContainer=a,n[Sr]=a.current,Ta(n.nodeType===8?n.parentNode:n),Ti(),a}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var c=El(l);s.call(c)}}var l=Nf(n,0,!1,null,null,!1,!1,"",Mh);return n._reactRootContainer=l,n[Sr]=l.current,Ta(n.nodeType===8?n.parentNode:n),Ti(function(){ic(e,l,t,r)}),l}function sc(n,e,t,r,i){var o=t._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=El(a);s.call(l)}}ic(e,a,n,i)}else a=Ey(t,e,n,i,r);return El(a)}om=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=da(e.pendingLanes);t!==0&&(Ku(e,t|1),dn(e,kt()),!(Ae&6)&&(Io=kt()+500,li()))}break;case 13:Ti(function(){var r=kr(n,1);if(r!==null){var i=Zt();Hn(r,n,1,i)}}),Mf(n,1)}};qu=function(n){if(n.tag===13){var e=kr(n,134217728);if(e!==null){var t=Zt();Hn(e,n,134217728,t)}Mf(n,134217728)}};am=function(n){if(n.tag===13){var e=qr(n),t=kr(n,e);if(t!==null){var r=Zt();Hn(t,n,e,r)}Mf(n,e)}};sm=function(){return Be};lm=function(n,e){var t=Be;try{return Be=n,e()}finally{Be=t}};jd=function(n,e,t){switch(e){case"input":if(Md(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=Ql(r);if(!i)throw Error(te(90));z1(r),Md(r,i)}}}break;case"textarea":H1(n,t);break;case"select":e=t.value,e!=null&&fo(n,!!t.multiple,e,!1)}};G1=kf;K1=Ti;var Iy={usingClientEntryPoint:!1,Events:[qa,to,Ql,Y1,X1,kf]},ea={findFiberByHostInstance:wi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ny={bundleType:ea.bundleType,version:ea.version,rendererPackageName:ea.rendererPackageName,rendererConfig:ea.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ir.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=J1(n),n===null?null:n.stateNode},findFiberByHostInstance:ea.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Es=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Es.isDisabled&&Es.supportsFiber)try{Xl=Es.inject(Ny),tr=Es}catch(n){}}wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Iy;wn.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pf(e))throw Error(te(200));return Cy(n,e,null,t)};wn.createRoot=function(n,e){if(!Pf(n))throw Error(te(299));var t=!1,r="",i=Ag;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Nf(n,1,!1,null,null,t,!1,r,i),n[Sr]=e.current,Ta(n.nodeType===8?n.parentNode:n),new Af(e)};wn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(te(188)):(n=Object.keys(n).join(","),Error(te(268,n)));return n=J1(e),n=n===null?null:n.stateNode,n};wn.flushSync=function(n){return Ti(n)};wn.hydrate=function(n,e,t){if(!ac(e))throw Error(te(200));return sc(null,n,e,!0,t)};wn.hydrateRoot=function(n,e,t){if(!Pf(n))throw Error(te(405));var r=t!=null&&t.hydratedSources||null,i=!1,o="",a=Ag;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),e=Mg(e,null,n,1,t!=null?t:null,i,!1,o,a),n[Sr]=e.current,Ta(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new oc(e)};wn.render=function(n,e,t){if(!ac(e))throw Error(te(200));return sc(null,n,e,!1,t)};wn.unmountComponentAtNode=function(n){if(!ac(n))throw Error(te(40));return n._reactRootContainer?(Ti(function(){sc(null,null,n,!1,function(){n._reactRootContainer=null,n[Sr]=null})}),!0):!1};wn.unstable_batchedUpdates=kf;wn.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!ac(t))throw Error(te(200));if(n==null||n._reactInternals===void 0)throw Error(te(38));return sc(n,e,t,!1,r)};wn.version="18.3.1-next-f1338f8080-20240426";function Pg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Pg)}catch(n){console.error(n)}}Pg(),P1.exports=wn;var Lf=P1.exports,Lg,Ah=Lf;Lg=Ah.createRoot,Ah.hydrateRoot;var Il=function(){return Il=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Il.apply(this,arguments)};function My(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Ay(n,e,t,r){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(d){try{c(r.next(d))}catch(f){a(f)}}function l(d){try{c(r.throw(d))}catch(f){a(f)}}function c(d){d.done?o(d.value):i(d.value).then(s,l)}c((r=r.apply(n,[])).next())})}function Py(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(d){return l([c,d])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(t=0)),t;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){t.label=c[1];break}if(c[0]===6&&t.label<o[1]){t.label=o[1],o=c;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(c);break}o[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(n,t)}catch(d){c=[6,d],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function mu(n,e,t){for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}function Ly(){return{current:0,next:function(){return++this.current}}}function Ty(n){var e=Ly(),t={};return{add:function(r,i){var o=i!=null?i:"".concat(e.next(),"_").concat(n);return t[o]=r,o},resolve:function(r,i,o){var a=t[r];a&&(o(i)?a.resolve(i):a.reject(i),t[r]=null)}}}function Ry(n,e,t){var r=Ty(t);return e(function(i){if(!(!i.detail||!i.detail.data||typeof i.detail.data!="object")&&"request_id"in i.detail.data){var o=i.detail.data,a=o.request_id,s=My(o,["request_id"]);a&&r.resolve(a,s,function(l){return!("error_type"in l)})}}),function(o,a){return a===void 0&&(a={}),new Promise(function(s,l){var c=r.add({resolve:s,reject:l},a.request_id);n(o,Il(Il({},a),{request_id:c}))})}}function Oy(){var n=36,e=2,t=3;return Math.random().toString(n).substring(e,e+t)}var Ja=typeof window<"u",fa=!!(Ja&&window.AndroidBridge),lo=!!(Ja&&window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.VKWebAppClose),qc=!!(Ja&&window.ReactNativeWebView&&typeof window.ReactNativeWebView.postMessage=="function"),Ni=Ja&&!fa&&!lo,jy=Ni&&/(^\?|&)vk_platform=mobile_web(&|$)/.test(location.search),By=Ni&&!jy,Ph=Ni?"message":"VKWebAppEvent",Dy=mu(["VKWebAppInit","VKWebAppGetCommunityAuthToken","VKWebAppAddToCommunity","VKWebAppAddToHomeScreenInfo","VKWebAppClose","VKWebAppCopyText","VKWebAppCreateHash","VKWebAppGetUserInfo","VKWebAppSetLocation","VKWebAppSendToClient","VKWebAppGetClientVersion","VKWebAppGetPhoneNumber","VKWebAppGetEmail","VKWebAppGetGroupInfo","VKWebAppGetGeodata","VKWebAppGetCommunityToken","VKWebAppGetConfig","VKWebAppGetLaunchParams","VKWebAppSetTitle","VKWebAppGetAuthToken","VKWebAppCallAPIMethod","VKWebAppJoinGroup","VKWebAppLeaveGroup","VKWebAppAllowMessagesFromGroup","VKWebAppDenyNotifications","VKWebAppAllowNotifications","VKWebAppOpenPayForm","VKWebAppOpenApp","VKWebAppShare","VKWebAppShowWallPostBox","VKWebAppScroll","VKWebAppShowOrderBox","VKWebAppShowLeaderBoardBox","VKWebAppShowInviteBox","VKWebAppShowRequestBox","VKWebAppAddToFavorites","VKWebAppShowStoryBox","VKWebAppStorageGet","VKWebAppStorageGetKeys","VKWebAppStorageSet","VKWebAppFlashGetInfo","VKWebAppSubscribeStoryApp","VKWebAppOpenWallPost","VKWebAppCheckAllowedScopes","VKWebAppCheckBannerAd","VKWebAppHideBannerAd","VKWebAppShowBannerAd","VKWebAppCheckNativeAds","VKWebAppShowNativeAds","VKWebAppRetargetingPixel","VKWebAppConversionHit","VKWebAppShowSubscriptionBox","VKWebAppCheckSurvey","VKWebAppShowSurvey","VKWebAppScrollTop","VKWebAppScrollTopStart","VKWebAppScrollTopStop","VKWebAppShowSlidesSheet","VKWebAppTranslate","VKWebAppRecommend","VKWebAppAddToProfile","VKWebAppGetFriends"],By?["VKWebAppResizeWindow","VKWebAppAddToMenu","VKWebAppShowInstallPushBox","VKWebAppShowCommunityWidgetPreviewBox","VKWebAppCallStart","VKWebAppCallJoin","VKWebAppCallGetStatus"]:["VKWebAppShowImages"]),hi,ta=Ja?window.AndroidBridge:void 0,mi=lo?window.webkit.messageHandlers:void 0,Qc=Ni?parent:void 0;function zy(n){var e=void 0,t=[],r=Oy();function i(m,w){ta&&ta[m]?ta[m](JSON.stringify(w)):mi&&mi[m]&&typeof mi[m].postMessage=="function"?mi[m].postMessage(w):qc?window.ReactNativeWebView.postMessage(JSON.stringify({handler:m,params:w})):Qc&&typeof Qc.postMessage=="function"&&Qc.postMessage({handler:m,params:w,type:"vk-connect",webFrameId:e,connectVersion:n},"*")}function o(m){t.push(m)}function a(m){var w=t.indexOf(m);w>-1&&t.splice(w,1)}function s(m){return console.warn("This method is deprecated. Use supportsAsync instead."),fa?!!(ta&&typeof ta[m]=="function"):lo?!!(mi&&mi[m]&&typeof mi[m].postMessage=="function"):Ni?Dy.includes(m):!1}function l(){return lo||fa}function c(){return Ni&&window.parent!==window}function d(){return l()||c()}function f(){return!d()}function u(m){if(lo||fa)return mu([],t).map(function(S){return S.call(null,m)});var w=m==null?void 0:m.data;if(!(!Ni||!w)){if(qc&&typeof w=="string")try{w=JSON.parse(w)}catch(S){}var y=w.type,x=w.data,v=w.frameId;if(y){if(y==="VKWebAppSettings"){e=v;return}mu([],t).map(function(S){return S({detail:{type:y,data:x}})})}}}qc&&/(android)/i.test(navigator.userAgent)?document.addEventListener(Ph,u):typeof window<"u"&&"addEventListener"in window&&window.addEventListener(Ph,u);var p=Ry(i,o,r);function g(m){return Ay(this,void 0,void 0,function(){var w;return Py(this,function(y){switch(y.label){case 0:if(fa||lo)return[2,s(m)];if(hi)return[2,hi.includes(m)];y.label=1;case 1:return y.trys.push([1,3,,4]),[4,p("SetSupportedHandlers")];case 2:return w=y.sent(),hi=w.supportedHandlers,[2,hi.includes(m)];case 3:return y.sent(),hi=["VKWebAppInit"],[2,hi.includes(m)];case 4:return[2]}})})}return o(function(m){if(m.detail)switch(m.detail.type){case"SetSupportedHandlers":hi=m.detail.data.supportedHandlers}}),{send:p,sendPromise:p,subscribe:o,unsubscribe:a,supports:s,supportsAsync:g,isWebView:l,isIframe:c,isEmbedded:d,isStandalone:f}}var Fy="2.15.3",Lh;(function(n){n.REWARD="reward",n.INTERSTITIAL="interstitial"})(Lh||(Lh={}));var Th;(function(n){n.RESIZE="resize",n.OVERLAY="overlay"})(Th||(Th={}));var Rh;(function(n){n.TOP="top",n.BOTTOM="bottom"})(Rh||(Rh={}));var Oh;(function(n){n.LEFT="left",n.RIGHT="right",n.CENTER="center"})(Oh||(Oh={}));var jh;(function(n){n.COMPACT="compact",n.REGULAR="regular"})(jh||(jh={}));var Bh;(function(n){n.HORIZONTAL="horizontal",n.VERTICAL="vertical"})(Bh||(Bh={}));var Dh;(function(n){n.CAMERA="camera",n.LOCATION="location",n.PHOTO="photo"})(Dh||(Dh={}));var gu;(function(n){n.RU="ru",n.UK="uk",n.UA="ua",n.EN="en",n.BE="be",n.KZ="kz",n.PT="pt",n.ES="es"})(gu||(gu={}));var vu;(function(n){n.ADMIN="admin",n.EDITOR="editor",n.MEMBER="member",n.MODER="moder",n.NONE="none"})(vu||(vu={}));var yu;(function(n){n.DESKTOP_WEB="desktop_web",n.DESKTOP_WEB_MESSENGER="desktop_web_messenger",n.DESKTOP_APP_MESSENGER="desktop_app_messenger",n.MOBILE_WEB="mobile_web",n.MOBILE_ANDROID="mobile_android",n.MOBILE_ANDROID_MESSENGER="mobile_android_messenger",n.MOBILE_IPHONE="mobile_iphone",n.MOBILE_IPHONE_MESSENGER="mobile_iphone_messenger",n.MOBILE_IPAD="mobile_ipad"})(yu||(yu={}));var Hy=function(n){var e={};try{var t=new URLSearchParams(n),r=function(i){switch(i){case"0":return 0;case"1":return 1;default:return}};t.forEach(function(i,o){switch(o){case"vk_ts":case"vk_is_recommended":case"vk_profile_id":case"vk_has_profile_button":case"vk_testing_group_id":case"vk_user_id":case"vk_app_id":case"vk_group_id":e[o]=Number(i);break;case"sign":case"vk_chat_id":case"vk_ref":case"vk_access_token_settings":e[o]=i;break;case"odr_enabled":e.odr_enabled=i==="1"?1:void 0;break;case"vk_is_app_user":case"vk_are_notifications_enabled":case"vk_is_favorite":{e[o]=r(i);break}case"vk_language":{var a=function(c){return Object.values(gu).some(function(d){return d===c})};e.vk_language=a(i)?i:void 0;break}case"vk_viewer_group_role":{var s=function(c){return Object.values(vu).some(function(d){return d===c})};e.vk_viewer_group_role=s(i)?i:void 0;break}case"vk_platform":{var l=function(c){return Object.values(yu).some(function(d){return d===c})};e.vk_platform=l(i)?i:void 0;break}}})}catch(i){console.warn(i)}return e},jt=zy(Fy),Tf=typeof window<"u"?k.useLayoutEffect:k.useEffect,Uy={type:null,viewportWidth:0,viewportHeight:0},Vy=function(){var n=k.useState(Uy),e=n[0],t=n[1];return Tf(function(){var r=function(o){if(!(!("viewport_width"in o)||!("viewport_height"in o))){var a=$y(o);a&&t(a)}},i=function(o){var a=o.detail,s=a.type,l=a.data;s==="VKWebAppUpdateConfig"&&r(l)};return jt.subscribe(i),jt.send("VKWebAppGetConfig").then(r).catch(console.error),function(){jt.unsubscribe(i)}},[]),e};function $y(n){var e=n.adaptivity,t=n.viewport_width,r=n.viewport_height,i={type:null,viewportWidth:isFinite(t)?Number(t):0,viewportHeight:isFinite(r)?Number(r):0};switch(e){case"force_mobile":case"force_mobile_compact":case"adaptive":i.type=e}return i}var Wy=function(){var n=k.useState(null),e=n[0],t=n[1];return Tf(function(){if(jt.isEmbedded()){var r=function(o){var a=Yy(o);a&&t(a)},i=function(o){var a=o.detail,s=a.type,l=a.data;s!=="VKWebAppUpdateConfig"||!("appearance"in l)||!("scheme"in l)||r(l)};return jt.subscribe(i),jt.send("VKWebAppGetConfig").then(r).catch(console.error),function(){return jt.unsubscribe(i)}}},[]),e};function Yy(n){var e=n.scheme,t=n.appearance;return t||(e==="space_gray"||e==="vkcom_dark"?"dark":"light")}var Nl=function(){return Nl=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Nl.apply(this,arguments)},Xy=150,Gy=0,Ky=function(){var n=k.useState(null),e=n[0],t=n[1];return Tf(function(){var r=function(i){var o=qy(i);o&&t(o)};return jt.subscribe(r),function(){jt.unsubscribe(r)}},[]),e};function qy(n){var e=n.detail,t=e.type,r=e.data;switch(t){case"VKWebAppUpdateInsets":case"VKWebAppUpdateConfig":if(!("insets"in r))return null;var i=r.insets;if(i)return Nl(Nl({},i),{bottom:i.bottom>Xy?Gy:i.bottom})}return null}function nt(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function B(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),r.forEach(function(i){nt(n,i,t[i])})}return n}function Qy(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t.push.apply(t,r)}return t}function Q(n,e){return e=e!=null?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Qy(Object(e)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}),n}function Jy(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function J(n,e){if(n==null)return{};var t=Jy(n,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}var Tn=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}();function zh(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Zy(n,e){if(n){if(typeof n=="string")return zh(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(t);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return zh(n,e)}}function Js(n){"@swc/helpers - typeof";return n&&typeof Symbol<"u"&&n.constructor===Symbol?"symbol":typeof n}function e4(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:typeof window<"u"?window:void 0,r,i,o=function(){return n.apply(t,i)},a=function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];i=l,clearTimeout(r),r=setTimeout(o,e)};return a.cancel=function(){clearTimeout(r)},a}function Tg(n){n||(n=Tn?navigator.userAgent:""),n=n.toLowerCase();var e=i4(n),t=e||n.includes("ipad"),r=!t&&n.search(/iphone|ipod/)!==-1,i=r||t,o=i&&n.match(/os ([\d_]+) like mac os x/i),a=0,s=0;e?(a=13,s=0):o&&(o=o[1].split("_"),a=+o[0],s=+o[1]),o=null;var l=a<13&&!(a===11&&s<3),c=i&&r4(n),d=!1;Tn&&(d=i&&screen.width===375&&screen.height===812&&window.devicePixelRatio===3);var f=n.search(/crios/i)!==-1;return{isIPad:t,isIPhone:r,isIOS:i,isIPadOS:e,iosMajor:a,iosMinor:s,isWKWebView:c,isScrollBasedViewport:l,isIPhoneX:d,isIOSChrome:f}}var Rg=Tg(),t4=function(){return Rg.isIOS}(),n4=function(){return Rg.isIPadOS}();function r4(n){if(!Tn)return!1;var e=window.webkit;if(e&&e.messageHandlers)return!0;var t=/constructor/i.test(String(window.HTMLElement)),r=!!window.indexedDB;if(!(n.includes("safari")&&n.includes("version")&&!navigator.standalone)){if(!(!r&&t||!(window.statusbar&&window.statusbar.visible))){if(!t||r)return!0}}return!1}function i4(n){if(!Tn)return!1;var e=!/ipPad|iPhone|iPod/i.test(n),t=/Mac OS/i.test(n);return e&&t&&"ontouchend"in document}var Og=function(){var n={hasMouse:!1,hasTouchEvents:!1,hasHover:!1,hasTouch:!1};if(!Tn)return n;if(t4&&!n4)n.hasMouse=!1,n.hasHover=!1,n.hasTouchEvents=!0,n.hasTouch=!0;else if(n.hasTouchEvents="ontouchstart"in document,n.hasTouch=n.hasTouchEvents||"maxTouchPoints"in navigator&&navigator.maxTouchPoints>0,n.hasTouch){var e=!/android|mobile|tablet/i.test(navigator.userAgent);n.hasMouse=typeof window.matchMedia=="function"&&window.matchMedia("(pointer)").matches?matchMedia("(pointer: fine)").matches:e,n.hasHover=n.hasMouse&&(typeof window.matchMedia=="function"&&window.matchMedia("(hover)").matches?matchMedia("(hover: hover)").matches:e)}else n.hasMouse=!0,n.hasHover=!0;return n}(),Rf=function(){return Og.hasMouse}(),o4=function(){return Og.hasHover}();function jg(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Fh(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Bg(n,e,t){return e&&Fh(n.prototype,e),t&&Fh(n,t),n}function Dg(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=Dg(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function $(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=Dg(n))&&(r&&(r+=" "),r+=e);return r}var ke=function(){};function Is(n){return(typeof n>"u"?"undefined":Js(n))==="object"&&n!==null}function dr(n){return typeof n=="function"}function zg(n,e){if(n===e)return!0;if(n==null||e==null||!Is(n)&&!Is(e))return n!==n&&e!==e;if(Is(n)&&Is(e)){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(var t in n)if(n.hasOwnProperty(t)&&e.hasOwnProperty(t)){if(!zg(n[t],e[t]))return!1}else return!1;return!0}return!1}function ti(n,e){return e!=null&&typeof Symbol<"u"&&e[Symbol.hasInstance]?!!e[Symbol.hasInstance](n):n instanceof e}function Pe(n){return n!==void 0&&n!==!1&&n!==null&&n!==""}function xu(n){return typeof n=="string"||typeof n=="number"}const Bo=k.createContext({}),$e=()=>k.useContext(Bo),Hh=n=>typeof n>"u"||n===null||typeof n=="boolean"||JSON.stringify(n)==="{}"?"":n.toString(),Of=n=>!(n instanceof Array)&&!k.isValidElement(n)?Hh(n):k.Children.toArray(n).reduce((e,t)=>{let r="";const i=k.isValidElement(t),o=i&&"children"in t.props;return i&&o?r=Of(t.props.children):i&&!o?r="":r=Hh(t),e.concat(r)},""),a4=["a[href]","area[href]",'input:not([disabled]):not([hidden]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([hidden]):not([aria-hidden])","textarea:not([disabled])","button:not([disabled])","iframe","audio","video","[contenteditable]",'[tabindex]:not([tabindex="-1"])'],et={ENTER:"Enter",SPACE:"Space",TAB:"Tab",ESCAPE:"Escape",HOME:"Home",END:"End",DELETE:"Delete",BACKSPACE:"Backspace",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",ARROW_DOWN:"ArrowDown",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown"},s4=new Map([["Enter",et.ENTER],["Space",et.SPACE],["Spacebar",et.SPACE],[" ",et.SPACE],["Tab",et.TAB],["Escape",et.ESCAPE],["Home",et.HOME],["End",et.END],["ArrowLeft",et.ARROW_LEFT],["ArrowRight",et.ARROW_RIGHT],["ArrowUp",et.ARROW_UP],["ArrowDown",et.ARROW_DOWN],["PageUp",et.PAGE_UP],["PageDown",et.PAGE_DOWN]]);function Fg(n){const e=s4.get(n.key);return e||null}const l4=new Set([et.TAB,et.ARROW_LEFT,et.ARROW_RIGHT,et.ARROW_UP,et.ARROW_DOWN,et.BACKSPACE,et.DELETE]);function c4(n){return l4.has(n.key)}function d4(n){const e=n.target,{tagName:t}=e,r=e.getAttribute("role"),i=e.isContentEditable!==!0&&t!=="INPUT"&&t!=="TEXTAREA"&&(r==="button"||r==="link"||r==="menuitem"),o=t==="A"&&e.hasAttribute("href"),a=Fg(n);return i&&(a===et.SPACE&&r==="button"||a===et.ENTER&&!o)}const Hg=["top","right","bottom","left"],Uh=["start","end"],Vh=Hg.reduce((n,e)=>n.concat(e,e+"-"+Uh[0],e+"-"+Uh[1]),[]),ni=Math.min,gn=Math.max,Ml=Math.round,Ns=Math.floor,rr=n=>({x:n,y:n}),u4={left:"right",right:"left",bottom:"top",top:"bottom"},f4={start:"end",end:"start"};function bu(n,e,t){return gn(n,ni(e,t))}function ci(n,e){return typeof n=="function"?n(e):n}function ir(n){return n.split("-")[0]}function Un(n){return n.split("-")[1]}function Ug(n){return n==="x"?"y":"x"}function jf(n){return n==="y"?"height":"width"}function Ri(n){return["top","bottom"].includes(ir(n))?"y":"x"}function Bf(n){return Ug(Ri(n))}function Vg(n,e,t){t===void 0&&(t=!1);const r=Un(n),i=Bf(n),o=jf(i);let a=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(a=Pl(a)),[a,Pl(a)]}function p4(n){const e=Pl(n);return[Al(n),e,Al(e)]}function Al(n){return n.replace(/start|end/g,e=>f4[e])}function h4(n,e,t){const r=["left","right"],i=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(n){case"top":case"bottom":return t?e?i:r:e?r:i;case"left":case"right":return e?o:a;default:return[]}}function m4(n,e,t,r){const i=Un(n);let o=h4(ir(n),t==="start",r);return i&&(o=o.map(a=>a+"-"+i),e&&(o=o.concat(o.map(Al)))),o}function Pl(n){return n.replace(/left|right|bottom|top/g,e=>u4[e])}function g4(n){return{top:0,right:0,bottom:0,left:0,...n}}function $g(n){return typeof n!="number"?g4(n):{top:n,right:n,bottom:n,left:n}}function Ua(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function Wg(n){return Yg(n)?(n.nodeName||"").toLowerCase():"#document"}function ar(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function v4(n){var e;return(e=(Yg(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function Yg(n){return ti(n,Node)||ti(n,ar(n).Node)}function Xg(n){return ti(n,Element)||ti(n,ar(n).Element)}function ri(n){return ti(n,HTMLElement)||ti(n,ar(n).HTMLElement)}function $h(n){return typeof ShadowRoot>"u"?!1:ti(n,ShadowRoot)||ti(n,ar(n).ShadowRoot)}function y4(n){var e=b4(n),t=e.overflow,r=e.overflowX,i=e.overflowY,o=e.display;return/auto|scroll|overlay|hidden|clip/.test(t+i+r)&&!["inline","contents"].includes(o)}function x4(n){return["html","body","#document"].includes(Wg(n))}function b4(n){return ar(n).getComputedStyle(n)}function wu(n){return Xg(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function w4(n){if(Wg(n)==="html")return n;var e=n.assignedSlot||n.parentNode||$h(n)&&n.host||v4(n);return $h(e)?e.host:e}function Gg(n){var e=w4(n);return x4(e)?n.ownerDocument?n.ownerDocument.body:n.body:ri(e)&&y4(e)?e:Gg(e)}const _4=()=>({window:Tn?window:void 0,document:Tn?document:void 0}),S4=k.createContext(_4()),Tt=()=>k.useContext(S4),Kg=n=>n!=null&&"navigator"in n,k4=n=>n!=null&&"tagName"in n&&n.tagName==="BODY",C4=n=>n!=null&&"tagName"in n&&n.tagName==="HTML";function E4(n){return t=>{const r=Tt();return h.jsx(n,B({},t,r))}}function Wh(n){n&&n.activeElement&&n.activeElement.blur()}const I4=["none","initial","inherit","unset"],N4=["auto","initial","inherit","unset"];function M4(n){let e=n.parentNode;for(;e!==null;){if(ri(e)){const{transform:t,willChange:r}=getComputedStyle(e);if(!I4.includes(t)||!N4.includes(r)){const{x:i,y:o}=e.getBoundingClientRect();return{x:i,y:o}}}e=e.parentNode}return{x:0,y:0}}const _u=(n,e=!1)=>{const t=Kg(n)?n.document.documentElement:n,r=t.getBoundingClientRect();C4(t)&&(r.height=t.clientHeight);let i=0,o=0;if(e){const{x:a,y:s}=M4(t);i=a,o=s}return Ua({x:r.left-i,y:r.top-o,width:r.width,height:r.height})},A4=n=>{const e=Gg(n);return k4(e)?ar(e):ri(n)?e:null},P4=n=>Kg(n)?n.document.documentElement.scrollHeight:n.scrollHeight,L4=n=>{const e=Xg(n)?ar(n):n,t=_u(n),r=e.scrollY+t.top,i=r+t.height;return{relative:t,edges:{y:[r,i]}}},Su=n=>ar(n).document.body,ku=n=>n?n.ownerDocument.activeElement:null,T4=(n,e)=>n&&e?n.contains(e):!1,je=Tn?k.useLayoutEffect:k.useEffect,Yh="enableKeyboardInput",Xh="disableKeyboardInput",qn={passive:!0,capture:!0};function R4(){const{document:n}=Tt(),e=k.useRef(!1);return je(()=>{if(!n)return;const t=o=>{c4(o)&&(e.current=!0)},r=()=>{e.current=!0},i=()=>{e.current=!1};return n.addEventListener("keydown",t,qn),n.addEventListener(Yh,r,qn),n.addEventListener(Xh,i,qn),n.addEventListener("mousedown",i,qn),n.addEventListener("touchstart",i,qn),()=>{n.removeEventListener("keydown",t,qn),n.removeEventListener(Yh,r,qn),n.removeEventListener(Xh,i,qn),n.removeEventListener("mousedown",i,qn),n.removeEventListener("touchstart",i,qn)}},[n]),e}function Ui(n){const e=k.useRef(n);return zg(e.current,n)||(e.current=n),e.current}const qg={android:{light:"vkui--vkBase--light",dark:"vkui--vkBase--dark"},ios:{light:"vkui--vkIOS--light",dark:"vkui--vkIOS--dark"},vkcom:{light:"vkui--vkCom--light",dark:"vkui--vkCom--dark"}},Jc={};function O4(n=""){if(Jc[n])return Jc[n];const e={userAgent:n,system:"",systemVersion:null},{isIOS:t,iosMajor:r,iosMinor:i}=Tg(n);return t&&(e.system="ios",e.systemVersion={major:r,minor:i}),Jc[n]=e,e}function j4(n){return{matches:!1,media:n,onchange:ke,addListener:ke,removeListener:ke,addEventListener:ke,removeEventListener:ke,dispatchEvent(){return!1}}}const Zc={ANDROID:"android",IOS:"ios",VKCOM:"vkcom"};function B4(n){return n||(n=O4()),n.system==="ios"?"ios":"android"}const Za=k.createContext({hasCustomPanelHeaderAfter:!1,customPanelHeaderAfterMinWidth:90,isWebView:!1,transitionMotionEnabled:!0,platform:B4(),appearance:void 0,tokensClassNames:qg,locale:"ru"}),Nr=()=>k.useContext(Za),Qg="light",ed={DARK:"dark",LIGHT:"light"},D4=n=>Zc.ANDROID in n||Zc.IOS in n||Zc.VKCOM in n,z4=(n,e)=>e?e[n]:void 0,F4=(n,e)=>e?e[n]:void 0,Jg=()=>{const{platform:n,appearance:e=Qg,tokensClassNames:t}=k.useContext(Za),r=D4(t)?F4(n,t):t,i=z4(e,r);return i||qg[n][e]},H4=({children:n})=>{const e=Jg();return k.cloneElement(n,{className:$(e,"vkuiTokensClassProvider--default-color",n.props.className)})},Zg=({children:n})=>k.Children.map(n,e=>k.isValidElement(e)?h.jsx(H4,{children:e}):e),U4={appRoot:k.createRef(),mode:"full",portalRoot:k.createRef(),embedded:!1,keyboardInput:!1,disablePortal:!1},es=k.createContext(U4),Oi=(n,e,t)=>Math.max(e,Math.min(n,t)),ev=n=>{Object.assign(n.style,{position:"",top:"",left:"",right:"",overflowY:"",overflowX:""})},V4=n=>{const e=n.document.documentElement.clientHeight-n.innerHeight;return n.pageYOffset-e},Df=k.createContext({getScroll:()=>({x:0,y:0}),scrollTo:ke,isScrollLock:!1,enableScrollLock:ke,disableScrollLock:ke}),tv=()=>k.useContext(Df),$4=({children:n})=>{const{window:e,document:t}=Tt(),[r,i]=k.useState(!1),o=k.useRef(new Set),a=k.useCallback((f={compensateKeyboardHeight:!0})=>({x:e.pageXOffset,y:f.compensateKeyboardHeight?V4(e):e.pageYOffset}),[e]),s=k.useCallback((f=0,u=0)=>{e.scrollTo(f?Oi(f,0,t.body.scrollWidth-e.innerWidth):0,u?Oi(u,0,t.body.scrollHeight-e.innerHeight):0)},[t,e]),l=k.useCallback(()=>{o.current.forEach(m=>{m()});const f=e.pageYOffset,u=e.pageXOffset,p=e.innerWidth>t.documentElement.clientWidth?"scroll":"",g=e.innerHeight>t.documentElement.clientHeight?"scroll":"";Object.assign(t.body.style,{position:"fixed",top:"-".concat(f,"px"),left:"-".concat(u,"px"),right:"0",overflowY:p,overflowX:g}),i(!0)},[t,e]),c=k.useCallback(()=>{const f=t.body.style.top,u=t.body.style.left;ev(t.body),e.scrollTo(-parseInt(u||"0"),-parseInt(f||"0")),i(!1)},[t,e]),d=k.useMemo(()=>({getScroll:a,scrollTo:s,isScrollLock:r,disableScrollLock:c,enableScrollLock:l,beforeScrollLockFnSetRef:o}),[a,s,r,c,l]);return h.jsx(Df.Provider,{value:d,children:n})},W4=({elRef:n,children:e})=>{const[t,r]=k.useState(!1),i=k.useRef(new Set),o=k.useCallback(()=>{var d,f,u,p;return{x:(u=(d=n.current)===null||d===void 0?void 0:d.scrollLeft)!==null&&u!==void 0?u:0,y:(p=(f=n.current)===null||f===void 0?void 0:f.scrollTop)!==null&&p!==void 0?p:0}},[n]),a=k.useCallback((d=0,f=0)=>{const u=n.current;u==null||u.scrollTo(d?Oi(d,0,u.scrollWidth-u.clientWidth):0,f?Oi(f,0,u.scrollHeight-u.clientHeight):0)},[n]),s=k.useCallback(()=>{const d=n.current;if(!d)return;i.current.forEach(m=>{m()});const f=d.scrollTop,u=d.scrollLeft,p=d.scrollWidth>d.clientWidth?"scroll":"",g=d.scrollHeight>d.clientHeight?"scroll":"";Object.assign(d.style,{position:"absolute",top:"-".concat(f,"px"),left:"-".concat(u,"px"),right:"0",overflowY:p,overflowX:g}),r(!0)},[n]),l=k.useCallback(()=>{const d=n.current;if(!d)return;const f=d.style.top,u=d.style.left;ev(d),d.scrollTo(-parseInt(u||"0"),-parseInt(f||"0")),r(!1)},[n]),c=k.useMemo(()=>({getScroll:o,scrollTo:a,isScrollLock:t,disableScrollLock:l,enableScrollLock:s,beforeScrollLockFnSetRef:i}),[o,a,t,l,s]);return h.jsx(Df.Provider,{value:c,children:e})},nv=(n=!0)=>{const{enableScrollLock:e,disableScrollLock:t,isScrollLock:r}=tv();je(()=>n&&!r?(e(),t):ke,[e,t,n])},rv=n=>typeof n=="object"&&n!==null&&n.hasOwnProperty("current");function Y4({mode:n,layout:e,tokensClassName:t,sizeX:r,sizeY:i}){const o=["vkui__root"],a=[t];if(n==="full"||n==="embedded"){if(e){const s={card:"vkui--layout-card",plain:"vkui--layout-plain"};a.push(s[e])}if(r!=="compact"){const s={none:"vkui--sizeX-none",regular:"vkui--sizeX-regular"};a.push(s[r])}if(i!=="regular"){const s={none:"vkui--sizeY-none",compact:"vkui--sizeY-compact"};a.push(s[i])}n==="embedded"&&o.push("vkui__root--embedded")}return[o,a]}const X4=n=>n?n.parentElement:null,G4=n=>rv(n)?n.current:n,Gh="--vkui_internal--safe_area_inset_",Kh=(n,e,t)=>{if(!n)return()=>{};for(const r in n)if(n.hasOwnProperty(r)&&typeof n[r]=="number"){const i="".concat(Gh).concat(r),o=n[r];e.style.setProperty(i,"".concat(o,"px")),t&&t.style.setProperty(i,"".concat(o,"px"))}return function(){for(const i in n)if(n.hasOwnProperty(i)){const o="".concat(Gh).concat(i);e.style.removeProperty(o),t&&t.style.removeProperty(o)}}};function K4({userSelectMode:n,isWebView:e,hasPointer:t}){switch(n){case"enabled-with-pointer":return t?null:t===void 0?"vkuiAppRoot--pointer-none":"vkuiAppRoot--user-select-none";case"disabled":return"vkuiAppRoot--user-select-none";case"enabled":return null;default:return e?"vkuiAppRoot--user-select-none":null}}const iv=n=>{var{children:e,mode:t="full",scroll:r="global",portalRoot:i=null,disablePortal:o=!1,disableParentTransformForPositionFixedElements:a,className:s,safeAreaInsets:l,layout:c,userSelectMode:d}=n,f=J(n,["children","mode","scroll","portalRoot","disablePortal","disableParentTransformForPositionFixedElements","className","safeAreaInsets","layout","userSelectMode"]);const{hasPointer:u,sizeX:p="none",sizeY:g="none"}=$e(),m=Jg(),w=Ui(l),y=R4(),x=k.useRef(null),v=k.useRef(null);je(function(){const E=i?G4(i):null;if(E)return v.current=E,function(){v.current=null};const A=Su(x.current),T=A.ownerDocument.createElement("div");return A.appendChild(T),v.current=T,function(){A.removeChild(T),v.current=null}},[i]),je(function(){if(!x.current||!v.current)return;const E=X4(x.current),T=Su(x.current).ownerDocument.documentElement,[P,O]=Y4({mode:t,layout:c,tokensClassName:m,sizeX:p,sizeY:g});switch(t){case"full":{E&&E.classList.add(...P),T.classList.add(...O,"vkui");const D=Kh(w,T);return function(){E&&E.classList.remove(...P),T.classList.remove(...O,"vkui"),D()}}case"embedded":{if(E){E.classList.add(...P,...O),a||E.style.setProperty("transform","translate3d(0, 0, 0)");const D=Kh(w,E,v.current);return function(){E.classList.remove(...P,...O),a||E.style.removeProperty("transform"),D()}}return}case"partial":return}},[t,c,a,m,p,g,w]);const S=k.useMemo(()=>r==="contain"?W4:$4,[r]),_=k.useMemo(()=>({appRoot:x,portalRoot:v,embedded:t==="embedded",mode:t,disablePortal:o,layout:c,get keyboardInput(){return y.current}}),[o,y,c,t]),b=h.jsx(es.Provider,{value:_,children:h.jsx(S,{elRef:x,children:e})}),{isWebView:C}=Nr(),N=K4({userSelectMode:d,isWebView:C,hasPointer:u});return t==="partial"?b:h.jsx("div",Q(B({ref:x,className:$("vkuiAppRoot",N,s)},f),{children:b}))},Ce=n=>{var{Component:e="div",baseClassName:t,className:r,getRootRef:i}=n,o=J(n,["Component","baseClassName","className","getRootRef"]);return h.jsx(e,B({ref:i,className:$(r,t,"vkuiRootComponent",o.hidden===!0&&"vkuiRootComponent--hidden")},o))},q4={1:"vkuiTypography--weight-1",2:"vkuiTypography--weight-2",3:"vkuiTypography--weight-3"},Do=n=>{var{weight:e,useAccentWeight:t=!0,Component:r="span",normalize:i,inline:o}=n,a=J(n,["weight","useAccentWeight","Component","normalize","inline"]);return h.jsx(Ce,B({Component:r,baseClassName:$("vkuiTypography",i&&"vkuiTypography--normalize",o&&"vkuiTypography--inline",e&&q4[e],e&&t&&"vkuiTypography--accent")},a))},Q4={1:"vkuiTitle--level-1",2:"vkuiTitle--level-2",3:"vkuiTitle--level-3"},J4={none:"vkuiTitle--sizeY-none",compact:"vkuiTitle--sizeY-compact"},ki=n=>{var{className:e,level:t="1",Component:r="span",normalize:i=!0,inline:o=!1}=n,a=J(n,["className","level","Component","normalize","inline"]);const{sizeY:s="none"}=$e();return h.jsx(Do,B({Component:r,normalize:i,inline:o,className:$(e,s!=="regular"&&J4[s],Q4[t])},a))},Z4={1:"vkuiHeadline--level-1",2:"vkuiHeadline--level-2"},ex={none:"vkuiHeadline--sizeY-none",compact:"vkuiHeadline--sizeY-compact"},Va=n=>{var{className:e,level:t="1",Component:r="span",normalize:i=!0,inline:o=!1}=n,a=J(n,["className","level","Component","normalize","inline"]);const{sizeY:s="none"}=$e();return h.jsx(Do,B({Component:r,normalize:i,inline:o,className:$(e,s!=="regular"&&ex[s],Z4[t])},a))},tx={none:"vkuiText--sizeY-none",compact:"vkuiText--sizeY-compact"},zo=n=>{var{className:e,Component:t="span",normalize:r=!0,inline:i=!1}=n,o=J(n,["className","Component","normalize","inline"]);const{sizeY:a="none"}=$e();return h.jsx(Do,B({Component:t,normalize:r,inline:i,className:$(e,"vkuiText",a!=="regular"&&tx[a])},o))},nx={none:"vkuiParagraph--sizeY-none",compact:"vkuiParagraph--sizeY-compact"},ov=n=>{var{className:e,Component:t="span",normalize:r=!1,inline:i=!1}=n,o=J(n,["className","Component","normalize","inline"]);const{sizeY:a="none"}=$e();return h.jsx(Do,B({Component:t,normalize:r,inline:i,className:$(e,"vkuiParagraph",a!=="regular"&&nx[a])},o))},rx={none:"vkuiSubhead--sizeY-none",compact:"vkuiSubhead--sizeY-compact"},ts=n=>{var{className:e,Component:t="span",normalize:r=!0,inline:i=!1}=n,o=J(n,["className","Component","normalize","inline"]);const{sizeY:a="none"}=$e();return h.jsx(Do,B({Component:t,normalize:r,inline:i,className:$(e,"vkuiSubhead",a!=="regular"&&rx[a])},o))},ix={none:"vkuiFootnote--sizeY-none",compact:"vkuiFootnote--sizeY-compact"},Rn=n=>{var{className:e,caps:t,Component:r="span",normalize:i=!0,inline:o=!1}=n,a=J(n,["className","caps","Component","normalize","inline"]);const{sizeY:s="none"}=$e();return h.jsx(Do,B({Component:r,normalize:i,inline:o,className:$(e,s!=="regular"&&ix[s],"vkuiFootnote",t&&"vkuiFootnote--caps")},a))},av=n=>{var{as:e,noPadding:t=!1,className:r}=n,i=J(n,["as","noPadding","className"]);return h.jsx(zo,B({Component:e,normalize:!1,className:$("vkuiUnstyledTextField",t&&"vkuiUnstyledTextField--noPadding",r)},i))},rt={SMALL_MOBILE:1,MOBILE:2,SMALL_TABLET:3,TABLET:4,DESKTOP:5},Jr={EXTRA_SMALL:1,SMALL:2,MEDIUM:3},Zs={COMPACT:"compact",REGULAR:"regular"},ox={[rt.SMALL_MOBILE]:"smallMobileMinus",[rt.MOBILE]:"mobile",[rt.SMALL_TABLET]:"smallTablet",[rt.TABLET]:"tablet",[rt.DESKTOP]:"desktopPlus"},Xt={DESKTOP:1280,TABLET:1024,SMALL_TABLET:768,MOBILE:320,MOBILE_LANDSCAPE_HEIGHT:415,MEDIUM_HEIGHT:720};function Cu(n){return"(min-width: ".concat(n,"px)")}function ax(n){return"(max-width: ".concat(n-.1,"px)")}function td(n,e){return"".concat(Cu(n)," and ").concat(ax(e))}function qh(n){return"(min-height: ".concat(n,"px)")}const gi={DESKTOP_PLUS:Cu(Xt.DESKTOP),TABLET:td(Xt.TABLET,Xt.DESKTOP),SMALL_TABLET_PLUS:Cu(Xt.SMALL_TABLET),SMALL_TABLET:td(Xt.SMALL_TABLET,Xt.TABLET),MOBILE:td(Xt.MOBILE,Xt.SMALL_TABLET),MEDIUM_HEIGHT:qh(Xt.MEDIUM_HEIGHT),MOBILE_LANDSCAPE_HEIGHT:qh(Xt.MOBILE_LANDSCAPE_HEIGHT)};function sx(n){return n>=Xt.DESKTOP?rt.DESKTOP:n>=Xt.TABLET?rt.TABLET:n>=Xt.SMALL_TABLET?rt.SMALL_TABLET:n>=Xt.MOBILE?rt.MOBILE:rt.SMALL_MOBILE}function Qh(n){return n.desktopPlus.matches?rt.DESKTOP:n.tablet.matches?rt.TABLET:n.smallTablet.matches?rt.SMALL_TABLET:n.mobile.matches?rt.MOBILE:rt.SMALL_MOBILE}function lx(n){return n>=Xt.MEDIUM_HEIGHT?Jr.MEDIUM:n>=Xt.MOBILE_LANDSCAPE_HEIGHT?Jr.SMALL:Jr.EXTRA_SMALL}function Jh(n){return n.mediumHeight.matches?Jr.MEDIUM:n.mobileLandscapeHeight.matches?Jr.SMALL:Jr.EXTRA_SMALL}function sv(n){return n<=rt.MOBILE?"compact":"regular"}function lv(n,e){return n!==void 0&&n>=rt.SMALL_TABLET&&e}function cv(n){return n!==void 0&&n<=Jr.EXTRA_SMALL}function cx(n,e,t){return lv(n,t)||cv(e)?"compact":"regular"}function dv(n,e,t,r){const i=r==="vkcom";if((n===void 0||t===void 0)&&(n===void 0||e===void 0)||t===void 0&&e===void 0)return i?!0:null;const o=n>=rt.SMALL_TABLET,a=t||(e!==void 0?e>=Jr.MEDIUM:!1);return o&&a||i}function dx(n,e="none"){if(e==="none")return n.hasOwnProperty("none")?n.none:null;const t=[],r=ox[e];return n.hasOwnProperty(r)&&t.push(n[r]),e>=rt.MOBILE&&n.hasOwnProperty("mobilePlus")&&t.push(n.mobilePlus),e>=rt.SMALL_TABLET?n.hasOwnProperty("smallTabletPlus")&&t.push(n.smallTabletPlus):n.hasOwnProperty("smallTabletMinus")&&t.push(n.smallTabletMinus),e>=rt.TABLET?n.hasOwnProperty("tabletPlus")&&t.push(n.tabletPlus):n.hasOwnProperty("tabletMinus")&&t.push(n.tabletMinus),t.length>0?t.join(" "):null}const zf=(...n)=>(...e)=>n.filter(t=>typeof t=="function").forEach(t=>t(...e));function lc(...n){const e=n.reduce((t,r)=>(Object.entries(r).forEach(([i,o])=>{t.hasOwnProperty(i)||(t[i]=[]),t[i].push(o)}),t),{});return Object.entries(e).reduce((t,[r,i])=>(t[r]=zf(...i),t),{})}function uv(n=!0){const[e,t]=k.useState(!1),{keyboardInput:r}=k.useContext(es),i=k.useCallback(s=>{s.stopPropagation(),t(!0)},[t]),o=k.useCallback(s=>{s.stopPropagation(),t(!1)},[t]);return{focusVisible:n?r&&e:e,onFocus:i,onBlur:o}}const ux={inside:"vkui-focus-visible--mode-inside",outside:"vkui-focus-visible--mode-outside"},fx=n=>n==="inside"||n==="outside";function Ff({focusVisible:n=!1,mode:e="inside"}){const t=fx(e)?ux[e]:e;return $("vkui-focus-visible",n&&"vkui-focus-visible--focused",n&&t)}function yo(n,e){e&&(typeof e=="function"?e(n):e.current=n)}function px(...n){let e=null;return{get current(){return e},set current(t){e=t,n.forEach(r=>r&&yo(t,r))}}}const Ll=n=>n.stopPropagation(),hx=n=>{const e={};for(const t in n)n.hasOwnProperty(t)&&n[t]!==void 0&&(e[t]=n[t]);return e};function mx(n){return k.version.startsWith("19")?{fetchPriority:n}:{fetchpriority:n}}function Hf(n){var e,t;!ri(n.target)||!d4(n)||(n.preventDefault(),(e=(t=n.target).click)===null||e===void 0||e.call(t))}function gx(n,e=0,t=ke){const[r,i]=k.useState(n),o=k.useRef(),a=k.useCallback(l=>{dr(l)?i(c=>{const d=l(c);return t(d),d}):(i(l),t(l))},[t]),s=k.useCallback((l,c=e)=>{if(clearTimeout(o.current),c===0){a(l);return}o.current=setTimeout(()=>a(l),c)},[e,a]);return[r,s]}const fv=600,vx=70;function yx({hovered:n,hasHover:e=!0,lockState:t,setParentStateLock:r}){const[i,o]=k.useState(!1),a=k.useRef(void 0),s=k.useCallback(f=>{o(f);const u=n!=null?n:Eu({hasState:e,isLocked:t,stateValueLocal:f});u!==a.current&&(a.current=u,r(u))},[r,e,n,t]),l=f=>{f.pointerType!=="touch"&&s(!0)},c=()=>{s(!1)};return{isHovered:n!=null?n:Eu({hasState:e,isLocked:t,stateValueLocal:i}),onPointerEnter:e?l:ke,onPointerLeave:e?c:ke}}function xx({activated:n,activeEffectDelay:e,hasActive:t=!0,lockStateRef:r,setParentStateLock:i}){const[o,a]=gx(!1,0,i),s=k.useMemo(()=>new Set,[]),l=()=>{r.current||(a(!0,vx),i(!0))},c=u=>{if(s.has(u.pointerId)){s.delete(u.pointerId);return}a(!1)},d=u=>{s.add(u.pointerId),!r.current&&(a(!0),a(!1,e))};return{isActivated:n!=null?n:Eu({hasState:t,isLocked:r.current,stateValueLocal:o}),onPointerLeave:t?c:ke,onPointerDown:t?l:ke,onPointerCancel:t?c:ke,onPointerUp:t?d:ke}}const pv=k.createContext({lockHoverStateBubbling:void 0,lockActiveStateBubbling:void 0});function bx(n){const[e,t]=k.useState(!1),r=k.useCallback(i=>{t(i),n(i)},[n]);return[e,n,r]}function wx(n){const e=k.useRef(!1),t=k.useCallback(r=>{e.current=r,n(r)},[n]);return[e,n,t]}function _x({hovered:n,hasHover:e,activated:t,hasActive:r,activeEffectDelay:i,unlockParentHover:o,hoverClassName:a,activeClassName:s}){const{lockHoverStateBubbling:l=ke,lockActiveStateBubbling:c=ke}=k.useContext(pv),[d,f,u]=bx(o?ke:l),[p,g,m]=wx(c),w=yx({hasHover:e,hovered:n,lockState:d,setParentStateLock:f}),{isHovered:y}=w,x=J(w,["isHovered"]),v=xx({activated:t,hasActive:r,activeEffectDelay:i,lockStateRef:p,setParentStateLock:g}),{isActivated:S}=v,_=J(v,["isActivated"]),b=$(y&&a,S&&s),C=lc(x,_);return B({stateClassName:b,setLockHoverBubblingImmediate:u,setLockActiveBubblingImmediate:m},C)}function Eu({hasState:n,isLocked:e,stateValueLocal:t}){return n&&!e&&t}const Sx=n=>{var e=J(n,["href","onClick","onClickCapture","activeClassName","hoverClassName","hasActive","hasHover","hovered","unlockParentHover","activated","activeEffectDelay"]);return h.jsx(Ce,B({},e))},kx=n=>{var{baseClassName:e,children:t,focusVisibleMode:r="inside",activeClassName:i,hoverClassName:o,activeEffectDelay:a=fv,hasHover:s=!0,hasActive:l=!0,hovered:c,activated:d,hasHoverWithChildren:f,unlockParentHover:u,onPointerEnter:p,onPointerLeave:g,onPointerDown:m,onPointerCancel:w,onPointerUp:y,onBlur:x,onFocus:v,onKeyDown:S}=n,_=J(n,["baseClassName","children","focusVisibleMode","activeClassName","hoverClassName","activeEffectDelay","hasHover","hasActive","hovered","activated","hasHoverWithChildren","unlockParentHover","onPointerEnter","onPointerLeave","onPointerDown","onPointerCancel","onPointerUp","onBlur","onFocus","onKeyDown"]);const b=uv(),{focusVisible:C}=b,N=J(b,["focusVisible"]),I=Ff({focusVisible:C,mode:r}),E=_x({activeClassName:i,hoverClassName:o,activeEffectDelay:a,hasHover:s,hasActive:l,hovered:c,activated:d,unlockParentHover:u}),{stateClassName:A,setLockHoverBubblingImmediate:T,setLockActiveBubblingImmediate:P}=E,O=J(E,["stateClassName","setLockHoverBubblingImmediate","setLockActiveBubblingImmediate"]),D=lc(N,O,{onKeyDown:Hf},{onPointerEnter:p,onPointerLeave:g,onPointerDown:m,onPointerCancel:w,onPointerUp:y,onBlur:x,onFocus:v,onKeyDown:S}),W=k.useMemo(()=>({lockHoverStateBubbling:f?ke:T,lockActiveStateBubbling:P}),[T,P,f]);return h.jsx(Ce,Q(B({baseClassName:$(e,"vkuiClickable__realClickable",I,A)},D,_),{children:h.jsx(pv.Provider,{value:W,children:t})}))};function hv(n){return(n.href!==void 0||n.onClick!==void 0||n.onClickCapture!==void 0||n.Component==="a"||n.Component==="button"||n.Component==="label"||n.Component==="input")&&!n.disabled}function Cx({Component:n,onClick:e,onClickCapture:t,href:r,disabled:i}){return n!==void 0?{Component:n}:r!==void 0?{Component:"a","aria-disabled":i}:e!==void 0||t!==void 0?{Component:"div",role:"button",tabIndex:i?void 0:0,"aria-disabled":i}:{}}const Ex=n=>{if(n==="a")return"vkuiClickable__resetLinkStyle";if(n==="button")return"vkuiClickable__resetButtonStyle"},mv=n=>{var{focusVisibleMode:e="inside",baseClassName:t}=n,r=J(n,["focusVisibleMode","baseClassName"]);const i=Cx(r),o=hv(r),a=$(t,Ex(i.Component),"vkuiClickable__host");return o?h.jsx(kx,B({baseClassName:a,focusVisibleMode:e},i,r)):h.jsx(Sx,B({baseClassName:a},i,r))};function De(){const{platform:n}=Nr();return n}function Ix(n){const e=n==null?void 0:n.getBoundingClientRect();return{top:e==null?void 0:e.top,left:e==null?void 0:e.left,width:n==null?void 0:n.offsetWidth,height:n==null?void 0:n.offsetHeight}}const Nx=(n,e)=>De()==="android"&&!e&&n==="background",Mx=70,Zh=225,Ax=(n,e)=>{const[t,r]=k.useState([]),i=k.useMemo(()=>new Map,[]);k.useEffect(function(){const d=t.length>0?setTimeout(()=>r([]),Zh):null;return function(){d&&clearTimeout(d)}},[t]);function o(c,d,f){const u=Date.now(),p=t.filter(g=>g.id+Zh>u);r([...p,{x:c,y:d,id:u,pointerId:f}]),i.delete(f)}const a=c=>{const{top:d,left:f}=Ix(c.currentTarget),u=c.clientX-(f!=null?f:0),p=c.clientY-(d!=null?d:0);i.set(c.pointerId,setTimeout(()=>o(u,p,c.pointerId),Mx))},s=c=>{const d=i.get(c.pointerId);clearTimeout(d),i.delete(c.pointerId)},l=(!Rf||e===!1)&&n;return{clicks:t,onPointerDown:l?a:ke,onPointerCancel:l?s:ke}},Px=({needRipple:n=!0,clicks:e})=>h.jsx("span",{"aria-hidden":!0,className:$("vkuiTappable__stateLayer",n&&"vkuiTappable__ripple"),children:e.map(t=>h.jsx("span",{className:"vkuiTappable__wave",style:{top:t.y,left:t.x}},t.id))}),Tl="background",Lx={background:"vkuiTappable--hovered-background",opacity:"vkuiTappable--hovered-opacity",none:""};function Tx(n=Tl){const e=Lx[n];return e!==void 0?e:n}const Rx={background:"vkuiTappable--activated-background",opacity:"vkuiTappable--activated-opacity",none:""};function Ox(n=Tl){const e=Rx[n];return e!==void 0?e:n}const jx={none:"vkuiTappable--sizeX-none",compact:"vkuiTappable--sizeX-compact"};function Bx(n){switch(n){case void 0:return"vkuiTappable--hasPointer-none";case!1:return"vkuiTappable--hasPointer-false"}}const sr=n=>{var{baseClassName:e,borderRadiusMode:t="auto",children:r,hoverMode:i=Tl,activeMode:o=Tl,onPointerDown:a,onPointerCancel:s}=n,l=J(n,["baseClassName","borderRadiusMode","children","hoverMode","activeMode","onPointerDown","onPointerCancel"]);const c=hv(l),{sizeX:d="none",hasPointer:f}=$e(),u=Nx(o,f),p=Ax(u,f),{clicks:g}=p,m=J(p,["clicks"]),w=lc(m,{onPointerDown:a,onPointerCancel:s}),y=l.Component==="button"?{type:"button"}:{};return h.jsxs(mv,Q(B({baseClassName:$(e,"vkuiTappable",d!==Zs.REGULAR&&jx[d],t==="inherit"&&"vkuiTappable--borderRadiusInherit",Bx(f)),hoverClassName:Tx(i),activeClassName:Ox(o)},y,w,l),{children:[r,c&&(i==="background"||o==="background")&&h.jsx(Px,{needRipple:u,clicks:g})]}))};function Dx(n,e){return e.get?e.get.call(n):e.value}function gv(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}function Nn(n,e){var t=gv(n,e,"get");return Dx(n,t)}function zx(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function $a(n,e,t){zx(n,e),e.set(n,t)}function Fx(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}function Rl(n,e,t){var r=gv(n,e,"set");return Fx(n,r,t),t}var na=new WeakMap,nd=new WeakMap;class Hx{constructor(e,t,r){nt(this,"callback",ke),nt(this,"options",void 0),nt(this,"eventType",void 0),$a(this,na,{writable:!0,value:null}),$a(this,nd,{writable:!0,value:i=>{this.callback(i)}}),nt(this,"add",i=>{Tn&&(this.remove(),i&&(i.addEventListener(this.eventType,Nn(this,nd),this.options),Rl(this,na,i)))}),nt(this,"remove",()=>{!Tn||!Nn(this,na)||(Nn(this,na).removeEventListener(this.eventType,Nn(this,nd),this.options),Rl(this,na,null))}),this.options=r,this.eventType=e,t&&(this.callback=t)}}function Ol(n,e,t){const r=k.useRef(null);return r.current===null?r.current=new Hx(n,e,t):(r.current.eventType=n,r.current.options=t,e&&(r.current.callback=e)),k.useEffect(()=>{var i;return(i=r.current)===null||i===void 0?void 0:i.remove.bind(r.current)},[]),r.current}function No(n,e,t,r){const i=Ol(e,t,r);je(()=>{t&&n?i.add(n):i.remove()},[!!t,!!n])}const Ux={position:"absolute",left:"0",top:"0",zIndex:"-1",width:"100%",height:"100%",pointerEvents:"none",opacity:"0",border:"0"};class vv{observe(e){return Vx(e)?this.observeUsingIframe(e):this.observeUsingMutationObserver(e)}appendToTheDOM(){for(let e of this.records)e.target.appendChild(e.iframe);for(let e of this.records)e.iframe.contentWindow&&e.iframe.contentWindow.addEventListener("resize",this.updateFunction)}observeUsingIframe(e){const t=e.ownerDocument.createElement("iframe");t.ariaHidden="true",t.tabIndex=-1,Object.assign(t.style,Ux),this.records.push({target:e,iframe:t})}observeUsingMutationObserver(e){this.mutationObserverFallback||(this.mutationObserverFallback=new MutationObserver(this.updateFunction)),this.mutationObserverFallback.observe(e,{childList:!0,subtree:!0})}disconnect(){this.records.map(({target:e,iframe:t})=>{t.contentWindow&&t.contentWindow.removeEventListener("resize",this.updateFunction),e.removeChild(t)}),this.records=[],this.mutationObserverFallback&&this.mutationObserverFallback.disconnect(),this.mutationObserverFallback=null}constructor(e){nt(this,"updateFunction",void 0),nt(this,"records",void 0),nt(this,"mutationObserverFallback",void 0),this.updateFunction=e,this.records=[],this.mutationObserverFallback=null,this.updateFunction=e}}function Vx(n){return getComputedStyle(n).position!=="static"}function Mo(n){const e=k.useRef(n);return je(()=>{e.current=n}),k.useRef((...t)=>(0,e.current)(...t)).current}function yv(n,e){const t=Mo(e);k.useEffect(function(){if(!n||!n.current)return;const i=n.current,o=new vv(()=>t(i));return o.observe(i),o.appendToTheDOM(),()=>o.disconnect()},[n,t])}const $x="data-onboarding-tooltip-container",cc=k.forwardRef((n,e)=>{var{fixed:t=!1,Component:r="div"}=n,i=J(n,["fixed","Component"]);const o={[$x]:t?"fixed":"true"};return h.jsx(r,Q(B({},o,i),{ref:e}))});cc.displayName="OnboardingTooltipContainer";const Uf=k.createContext({colRef:null,animate:!0}),Wx=()=>k.useContext(Uf),Yx={top:"vkuiFixedLayout--vertical-top",bottom:$("vkuiFixedLayout--vertical-bottom","vkuiInternalFixedLayout--vertical-bottom")},Xx=n=>{var{children:e,style:t,vertical:r,getRootRef:i,filled:o,className:a,useParentWidth:s}=n,l=J(n,["children","style","vertical","getRootRef","filled","className","useParentWidth"]);const c=De(),d=k.useRef(null),[f,u]=k.useState(void 0),{window:p}=Tt(),{colRef:g}=k.useContext(Uf),m=k.useRef(null),w=k.useCallback(x=>{x&&(yo(x,i),yo(x,d),yo(x.parentElement,m))},[i]),y=()=>{if(s&&m.current){const x=m.current.getBoundingClientRect().width;u(x?"".concat(x,"px"):void 0)}else if(g!=null&&g.current){const x=getComputedStyle(g.current);u("".concat(g.current.clientWidth-parseFloat(x.paddingLeft||"0")-parseFloat(x.paddingRight||"0"),"px"))}else u(void 0)};return k.useEffect(y,[g,c,d,s]),No(p,"resize",y),yv(s?m:g,y),h.jsx(cc,Q(B({},l),{fixed:!0,ref:w,className:$("vkuiFixedLayout",c==="ios"&&"vkuiInternalFixedLayout--ios",o&&"vkuiFixedLayout--filled",r&&Yx[r],a),style:Q(B({},t),{width:f}),children:e}))};var Ms=new WeakMap,ra=new WeakMap;class Gx{updateExternRefs(e){e.forEach(t=>{!t||Nn(this,ra).has(t)||(yo(Nn(this,Ms),t),Nn(this,ra).add(t))})}get current(){return Nn(this,Ms)}set current(e){Rl(this,Ms,e),Nn(this,ra).forEach(t=>yo(e,t))}hasOwnProperty(e){return e==="current"}constructor(e=[]){$a(this,Ms,{writable:!0,value:null}),$a(this,ra,{writable:!0,value:new Set}),e.forEach(t=>{t&&Nn(this,ra).add(t)})}}function Ut(...n){const e=k.useRef(null);return e.current===null?e.current=new Gx(n):e.current.updateExternRefs(n),e.current}function Kx(n){return n!==void 0}function qx(n,e,t){const r=e.filter(Kx);return r.length?n(...r):t}function Qx(n,e){return qx(Math.min,n,e)}const Vf=k.createContext({size:0});function Jx(n){const e=new Set;return(t,r="warn")=>{if(!e.has(t)){e.add(t);const i="%c[VKUI/".concat(n,"] ").concat(t),o=r==="log"?"color: steelblue; font-style: italic":void 0;console[r](i,o)}}}function $f(n){return n<=36?12:n>36&&n<=48?16:n>48&&n<=64?20:$f.MAX_SIZE}$f.MAX_SIZE=24;const Zx={stroke:"vkuiImageBaseBadge--background-stroke",shadow:"vkuiImageBaseBadge--background-shadow"},xv=n=>{var{background:e="shadow"}=n,t=J(n,["background"]);return h.jsxs(h.Fragment,{children:[h.jsx(Ce,Q(B({},t),{baseClassName:$("vkuiImageBaseBadge",Zx[e])})),!1]})};xv.displayName="ImageBaseBadge";function bv(n=!1){const[e,t]=k.useState(n);return je(()=>{t(!0)},[]),e}function e6(n=!0){const{hasPointer:e}=k.useContext(Bo);return!bv(!(n||e===void 0))||e!==void 0?e:Rf}function wv(){const{appearance:n}=Nr();return n!=null?n:Qg}const e0=(n,e)=>n.contains(e.activeElement);function dc(n){const{document:e}=Tt(),[t,r]=k.useState(()=>n.current&&e?e0(n.current,e):!1);return je(function(){if(!e)return;const o=()=>{n.current&&r(e0(n.current,e))};return o(),e.addEventListener("focus",o,{capture:!0}),e.addEventListener("blur",o,{capture:!0}),()=>{e.removeEventListener("focus",o,{capture:!0}),e.removeEventListener("blur",o,{capture:!0})}},[]),t}function t6(n){const e=dc(n),[t,r]=k.useState(!1);function i(o){o.detail>0&&r(!1)}return je(()=>{r(e)},[e]),{shown:t&&e,onClick:i}}const n6=n=>{var{children:e,className:t,getRootRef:r,disableInteractive:i,overlayShown:o}=n,a=J(n,["children","className","getRootRef","disableInteractive","overlayShown"]);const s=uv(),{focusVisible:l}=s,c=J(s,["focusVisible"]),d=Ff({focusVisible:l,mode:"inside"});return h.jsxs(h.Fragment,{children:[h.jsx("div",Q(B(Q(B({},a),{tabIndex:0,role:"button",className:$("vkuiImageBaseOverlay--clickable",(l||o)&&"vkuiImageBaseOverlay--visible",d,t),ref:r,onKeyDown:Hf}),c),{children:e})),!1]})},r6=n=>{var{className:e,getRootRef:t,disableInteractive:r,overlayShown:i}=n,o=J(n,["className","getRootRef","disableInteractive","overlayShown"]);const a=Ut(t),{shown:s,onClick:l}=t6(a);return h.jsx("div",Q(B({},o),{ref:a,className:$((s||i)&&"vkuiImageBaseOverlay--visible",e),onClick:l}))},_v=n=>{var{className:e,theme:t,visibility:r}=n,i=J(n,["className","theme","visibility"]);const o=wv(),a=e6(),s=t!=null?t:o,l=r!=null?r:a?"on-hover":"always",d={className:$("vkuiImageBaseOverlay",s==="light"&&"vkuiImageBaseOverlay--theme-light",s==="dark"&&"vkuiImageBaseOverlay--theme-dark",e),overlayShown:l==="always"};return i.disableInteractive?h.jsx(r6,B({},i,d)):h.jsx(n6,B({},i,d))};_v.displayName="ImageBaseOverlay";const i6=24,o6=n=>{switch(n){case"contain":return"vkuiImageBase__img--objectFit-contain";case"cover":return"vkuiImageBase__img--objectFit-cover";case"none":return"vkuiImageBase__img--objectFit-none";case"scale-down":return"vkuiImageBase__img--objectFit-scaleDown"}},a6=n=>{if(n.endsWith("px"))return parseInt(n)},t0=n=>typeof n=="string"?a6(n):n,Mr=n=>{var{alt:e,crossOrigin:t,decoding:r,loading:i,referrerPolicy:o,sizes:a,src:s,srcSet:l,useMap:c,fetchPriority:d,getRef:f,size:u,width:p,height:g,widthSize:m,heightSize:w,style:y,noBorder:x=!1,fallbackIcon:v,children:S,onLoad:_,onError:b,withTransparentBackground:C,objectFit:N="cover",keepAspectRatio:I=!1}=n,E=J(n,["alt","crossOrigin","decoding","loading","referrerPolicy","sizes","src","srcSet","useMap","fetchPriority","getRef","size","width","height","widthSize","heightSize","style","noBorder","fallbackIcon","children","onLoad","onError","withTransparentBackground","objectFit","keepAspectRatio"]);const A=u!=null?u:Qx([t0(m),t0(w)],i6),T=m!=null?m:I?void 0:A,P=w!=null?w:I?void 0:A,[O,D]=k.useState(!1),[W,H]=k.useState(!1),M=s||l,j=(W||!M)&&k.isValidElement(v)?v:null,F=U=>{O||(D(!0),H(!1),_==null||_(U))},q=U=>{D(!1),H(!0),b==null||b(U)},Y=Ut(f),K=k.useRef(!1);return k.useEffect(function(){if(!K.current&&(K.current=!0,Y.current&&Y.current.complete&&!O)){const X=new Event("load");Y.current.dispatchEvent(X)}},[Y,O]),h.jsx(Vf.Provider,{value:{size:A},children:h.jsxs(mv,Q(B({style:B({width:T,height:P},y),baseClassName:$("vkuiImageBase",O&&"vkuiImageBase--loaded",C&&"vkuiImageBase--transparent-background")},E),{children:[M&&h.jsx("img",B({ref:Y,alt:e,className:$("vkuiImageBase__img",o6(N),I&&"vkuiImageBase__img--keepRatio"),crossOrigin:t,decoding:r,loading:i,referrerPolicy:o,style:I?{width:p||T,height:g||P}:void 0,sizes:a,src:s,srcSet:l,useMap:c,width:p,height:g,onLoad:F,onError:q},mx(d))),j&&h.jsx("div",{className:"vkuiImageBase__fallback",children:j}),S&&h.jsx("div",{className:"vkuiImageBase__children",children:S}),!x&&h.jsx("div",{"aria-hidden":!0,className:"vkuiImageBase__border"})]}))})};Mr.displayName="ImageBase";Mr.Badge=xv;Mr.Badge.displayName="ImageBase.Badge";Mr.Overlay=_v;Mr.Overlay.displayName="ImageBase.Overlay";function s6(n){var e=!!document.importNode,t=new DOMParser().parseFromString(n,"image/svg+xml").documentElement;return e?document.importNode(t,!0):t}var Sv=function(){function n(e){var t=e.content;jg(this,n),nt(this,"isMounted",!1),nt(this,"node",void 0),this.node=s6(t)}return Bg(n,[{key:"id",get:function(){return this.node.id}},{key:"mount",value:function(t){return this.isMounted?this.node:(this.isMounted=!0,t.appendChild(this.node),this.node)}},{key:"unmount",value:function(){this.node&&this.node.parentNode&&(this.node.parentNode.removeChild(this.node),this.isMounted=!1)}}],[{key:"createFromExistingNode",value:function(t){var r=new n({content:""});return r.node=t,r}}]),n}(),n0="http://www.w3.org/2000/svg",l6=function(){function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};jg(this,n),nt(this,"symbols",new Map),nt(this,"config",{attrs:{xmlns:n0,"xmlns:xlink":"http://www.w3.org/1999/xlink",style:"position:absolute;width:0;height:0","aria-hidden":"true"}}),nt(this,"node",null),Object.assign(this.config.attrs,e.attrs)}return Bg(n,[{key:"push",value:function(t){var r=this.symbols,i=r.has(t.id);return r.set(t.id,t),!i}},{key:"add",value:function(t){var r=this.push(t);return this.node&&r&&t.mount(this.node),r}},{key:"attach",value:function(t){var r=this;this.node||(this.node=t,this.symbols.forEach(function(i){i.mount(t)}),t.querySelectorAll("symbol").forEach(function(i){var o=Sv.createFromExistingNode(i);r.add(o)}))}},{key:"mount",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.node?this.node:(this.node=this.render(),r&&t.childNodes[0]?t.insertBefore(this.node,t.firstChild):t.appendChild(this.node),this.node)}},{key:"render",value:function(){var t=document.createElementNS(n0,"svg");return Object.entries(this.config.attrs).forEach(function(r){return t.setAttribute(r[0],r[1])}),this.symbols.forEach(function(r){return t.appendChild(r.node)}),t}},{key:"unmount",value:function(){this.node&&this.node.parentNode&&this.node.parentNode.removeChild(this.node)}}]),n}(),kv=!!(typeof window<"u"&&window.document&&window.document.createElement),co;if(kv){var r0="__SVG_SPRITE_NODE__";co=new l6({attrs:{id:r0}});var rd=function(){var n=document.getElementById(r0);n?co.attach(n):co.mount(document.body),document.removeEventListener("DOMContentLoaded",rd)};document.querySelector("body")?rd():document.addEventListener("DOMContentLoaded",rd)}else co=null;function c6(n){co&&co.add(n)}var d6=kv?k.useLayoutEffect:k.useEffect,u6=function(n){var e=n.width,t=e===void 0?0:e,r=n.height,i=r===void 0?0:r,o=n.display,a=o===void 0?"block":o,s=n["aria-hidden"],l=s===void 0?!0:s,c=n.iconId,d=n.className,f=n.fill,u=n.getRootRef,p=n.style,g=n.title,m=n.children,w=J(n,["width","height","display","aria-hidden","iconId","className","fill","getRootRef","style","title","children"]),y=k.Children.toArray(m)[0],x=k.isValidElement(y)&&typeof y.type=="function"&&"mountIcon"in y.type,v=Math.max(t,i),S=B({width:t,height:i},p);return k.createElement("svg",B({"aria-hidden":l,display:a,className:["vkuiIcon","vkuiIcon--".concat(v),"vkuiIcon--w-".concat(t),"vkuiIcon--h-".concat(i),"vkuiIcon--".concat(c),d].join(" ").trim(),width:t,height:i,style:S,ref:u},w),g&&k.createElement("title",null,g),x&&m,k.createElement("use",{xlinkHref:"#".concat(c),style:{fill:"currentColor",color:f}},!x&&m))};function me(n,e,t,r,i,o,a,s,l){var c=!1;function d(){c||(c6(new Sv({content:r})),c=!0)}var f=function(u){return d6(d,[]),k.createElement(u6,Q(B(Q(B({},l),{viewBox:t,iconId:e}),u),{width:u.width!==void 0&&!isNaN(u.width)?+u.width:i,height:u.height!==void 0&&!isNaN(u.height)?+u.height:o}))};return f.mountIcon=d,f.displayName=n,f}var f6=k.createContext("light"),Cv=f6.Provider,p6=me("Icon12Circle","circle_12","0 0 12 12",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 12 12" id="circle_12"><path fill="currentColor" d="M10 6a4 4 0 1 1-8 0 4 4 0 0 1 8 0" /></symbol>',12,12),h6=me("Icon12OnlineMobile","online_mobile_12","0 0 8 12",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 8 12" id="online_mobile_12"><path fill="currentColor" d="M5.99 0C7.1 0 8 .9 8 2.01v7.98C8 11.1 7.1 12 5.99 12H2.01C.9 12 0 11.1 0 9.99V2.01C0 .9.9 0 2.01 0zm.008 3H2.003a.5.5 0 0 0-.503.502v4.996c0 .277.225.502.503.502h3.995a.5.5 0 0 0 .502-.502V3.503A.5.5 0 0 0 5.997 3" /></symbol>',8,12),i0=me("Icon16Add","add_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="add_16"><path fill="currentColor" d="M9 9v4a1 1 0 1 1-2 0V9H3a1 1 0 1 1 0-2h4V3a1 1 0 1 1 2 0v4h4a1 1 0 1 1 0 2z" /></symbol>',16,16),m6=me("Icon16CalendarOutline","calendar_outline_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16" id="calendar_outline_16"><path fill-rule="evenodd" d="M5 .5a.75.75 0 0 1 .75.75v.25h4.501v-.25a.75.75 0 0 1 1.5 0v.318c.347.047.669.13.975.286a3.25 3.25 0 0 1 1.42 1.42c.199.391.28.81.317 1.273.037.447.037.998.037 1.672V9.78c0 .674 0 1.224-.037 1.672-.037.463-.118.882-.317 1.273a3.25 3.25 0 0 1-1.42 1.42c-.391.199-.81.28-1.273.317-.447.037-.998.037-1.672.037H6.22c-.674 0-1.225 0-1.672-.037-.463-.037-.882-.118-1.272-.317a3.25 3.25 0 0 1-1.42-1.42c-.2-.391-.28-.81-.318-1.273-.037-.447-.037-.998-.037-1.672V6.22c0-.674 0-1.225.037-1.672.037-.463.118-.882.317-1.272a3.25 3.25 0 0 1 1.42-1.42c.306-.156.629-.24.976-.287V1.25A.75.75 0 0 1 5 .5M10.25 3v.25a.75.75 0 0 0 1.5 0v-.16c.126.028.218.062.294.1.33.169.598.436.765.766.074.144.13.343.16.713.027.333.03.751.03 1.331H3c0-.58.004-.998.032-1.33.03-.371.085-.57.159-.714a1.75 1.75 0 0 1 .765-.765c.076-.04.169-.073.294-.101v.16a.75.75 0 1 0 1.5 0V3zM3 7.5v2.25c0 .712 0 1.202.032 1.58.03.371.085.57.159.714.168.33.435.598.765.765.144.074.343.13.713.16.38.03.869.031 1.581.031h3.5c.712 0 1.202 0 1.58-.032.371-.03.57-.085.714-.159a1.75 1.75 0 0 0 .765-.764c.074-.145.13-.344.16-.714.03-.38.031-.869.031-1.581V7.5z" clip-rule="evenodd" /></symbol>',16,16),Wf=me("Icon16Cancel","cancel_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="cancel_16"><path fill="currentColor" d="M12.736 3.264a.9.9 0 0 1 0 1.272L9.273 8l3.463 3.464a.9.9 0 0 1 .081 1.18l-.08.092a.9.9 0 0 1-1.273 0L8 9.273l-3.464 3.463a.9.9 0 0 1-1.272-1.272L6.727 8 3.264 4.536a.9.9 0 0 1-.08-1.18l.08-.092a.9.9 0 0 1 1.272 0L8 6.727l3.464-3.463a.9.9 0 0 1 1.272 0" /></symbol>',16,16),g6=me("Icon16Chevron","chevron_16","0 0 12 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 12 16" id="chevron_16"><path fill="currentColor" d="M7.227 8 3.864 4.636a.9.9 0 0 1 1.272-1.272l4 4a.9.9 0 0 1 0 1.272l-4 4a.9.9 0 0 1-1.272-1.272z" /></symbol>',12,16),v6=me("Icon16ChevronOutline","chevron_outline_16","0 0 12 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 12 16" id="chevron_outline_16"><path fill="currentColor" fill-rule="evenodd" d="M4.22 3.47a.75.75 0 0 1 1.06 0l4 4a.75.75 0 0 1 0 1.06l-4 4a.75.75 0 0 1-1.06-1.06L7.69 8 4.22 4.53a.75.75 0 0 1 0-1.06" clip-rule="evenodd" /></symbol>',12,16),y6=me("Icon16Done","done_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="done_16"><path fill="currentColor" d="M13.743 3.756a.87.87 0 0 1 0 1.237l-7.317 7.25a.88.88 0 0 1-1.242 0L2.257 9.366a.87.87 0 0 1 0-1.237.88.88 0 0 1 1.242 0l2.306 2.261L12.5 3.756a.88.88 0 0 1 1.242 0" /></symbol>',16,16),x6=me("Icon16DropdownFlipped","dropdown_flipped_16","0 0 16 12",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 12" id="dropdown_flipped_16"><path d="M4.454 8.312a.9.9 0 0 1-1.108-1.418l4.096-3.203a.9.9 0 0 1 1.109 0l4.1 3.203a.9.9 0 1 1-1.108 1.418l-3.546-2.77z" /></symbol>',16,12),b6=me("Icon16MoreVertical","more_vertical_16","0 0 8 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 8 16" id="more_vertical_16"><path fill="currentColor" d="M4 4.5c.825 0 1.5-.675 1.5-1.5S4.825 1.5 4 1.5 2.5 2.175 2.5 3 3.175 4.5 4 4.5m0 2c-.825 0-1.5.675-1.5 1.5S3.175 9.5 4 9.5 5.5 8.825 5.5 8 4.825 6.5 4 6.5m0 5c-.825 0-1.5.675-1.5 1.5s.675 1.5 1.5 1.5 1.5-.675 1.5-1.5-.675-1.5-1.5-1.5" /></symbol>',8,16),w6=me("Icon16Spinner","spinner_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16" id="spinner_16"><path fill-rule="evenodd" d="M8 3.25a4.75 4.75 0 0 0-4.149 7.065.75.75 0 1 1-1.31.732A6.25 6.25 0 1 1 8 14.25a.75.75 0 0 1 .001-1.5 4.75 4.75 0 1 0 0-9.5Z" clip-rule="evenodd" /></symbol>',16,16),Ev=me("Icon20Cancel","cancel_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="cancel_20"><path fill="currentColor" fill-rule="evenodd" d="M4.72 4.72a.75.75 0 0 1 1.06 0L10 8.94l4.22-4.22a.75.75 0 1 1 1.06 1.06L11.06 10l4.22 4.22a.75.75 0 1 1-1.06 1.06L10 11.06l-4.22 4.22a.75.75 0 0 1-1.06-1.06L8.94 10 4.72 5.78a.75.75 0 0 1 0-1.06" clip-rule="evenodd" /></symbol>',20,20),_6=me("Icon20CheckBoxOff","check_box_off_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="check_box_off_20"><path fill="currentColor" fill-rule="evenodd" d="M4.046 2.534C4.788 2.138 5.517 2 7.128 2h5.744c1.61 0 2.34.138 3.082.534.65.348 1.164.862 1.512 1.512.396.742.534 1.471.534 3.082v5.744c0 1.61-.138 2.34-.534 3.082a3.64 3.64 0 0 1-1.512 1.512c-.742.396-1.472.534-3.082.534H7.128c-1.61 0-2.34-.138-3.082-.534a3.64 3.64 0 0 1-1.512-1.512C2.138 15.212 2 14.482 2 12.872V7.128c0-1.61.138-2.34.534-3.082a3.65 3.65 0 0 1 1.512-1.512m3.082.966c-1.531 0-1.962.136-2.374.357a2.15 2.15 0 0 0-.897.897c-.22.412-.357.843-.357 2.374v5.744c0 1.531.136 1.962.357 2.374q.313.585.897.897c.412.22.843.357 2.374.357h5.744c1.531 0 1.962-.136 2.374-.357q.585-.313.897-.897c.22-.412.357-.843.357-2.374V7.128c0-1.531-.136-1.962-.357-2.374a2.15 2.15 0 0 0-.897-.897c-.412-.22-.843-.357-2.374-.357z" clip-rule="evenodd" /></symbol>',20,20),S6=me("Icon20CheckBoxOn","check_box_on_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="check_box_on_20"><path fill="currentColor" fill-rule="evenodd" d="M2.436 4.184C2 5.04 2 6.16 2 8.4v3.2c0 2.24 0 3.36.436 4.216a4 4 0 0 0 1.748 1.748C5.04 18 6.16 18 8.4 18h3.2c2.24 0 3.36 0 4.216-.436a4 4 0 0 0 1.748-1.748C18 14.96 18 13.84 18 11.6V8.4c0-2.24 0-3.36-.436-4.216a4 4 0 0 0-1.748-1.748C14.96 2 13.84 2 11.6 2H8.4c-2.24 0-3.36 0-4.216.436a4 4 0 0 0-1.748 1.748m12.2 3.803a.9.9 0 1 0-1.272-1.274l-4.673 4.665-2.055-2.052A.9.9 0 0 0 5.364 10.6l2.691 2.687a.9.9 0 0 0 1.272 0z" clip-rule="evenodd" /></symbol>',20,20),k6=me("Icon20CheckCircleOff","check_circle_off_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="none" viewBox="0 0 20 20" id="check_circle_off_20"><defs><path id="check_circle_off_20_a" fill="currentColor" fill-rule="evenodd" d="M10 20c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10m0-1a9 9 0 1 0 0-18 9 9 0 0 0 0 18" clip-rule="evenodd" /></defs><use xlink:href="#check_circle_off_20_a" fill-rule="evenodd" clip-rule="evenodd" /><use xlink:href="#check_circle_off_20_a" fill-rule="evenodd" clip-rule="evenodd" /></symbol>',20,20),C6=me("Icon20CheckCircleOn","check_circle_on_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="check_circle_on_20"><path fill-rule="evenodd" d="M10 20c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10m5.35-12.72a.75.75 0 1 0-1.062-1.06l-5.955 5.968L5.81 9.66a.75.75 0 1 0-1.062 1.06l3.054 3.06a.75.75 0 0 0 1.062 0z" clip-rule="evenodd" /></symbol>',20,20),E6=me("Icon20ChevronLeftOutline","chevron_left_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="chevron_left_outline_20"><path fill="currentColor" fill-rule="evenodd" d="M12.526 4.217a.75.75 0 0 1 0 1.06L7.81 10l4.716 4.721a.75.75 0 1 1-1.061 1.06l-5.246-5.25a.75.75 0 0 1 0-1.061l5.246-5.252a.75.75 0 0 1 1.06-.001z" clip-rule="evenodd" /></symbol>',20,20),I6=me("Icon20ChevronUp","chevron_up_20","0 0 20 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 16" id="chevron_up_20"><path fill-rule="evenodd" d="M15.78 11.125a1 1 0 0 1-1.405.156L10 7.78l-4.375 3.5a1 1 0 0 1-1.25-1.562l5-4a1 1 0 0 1 1.25 0l5 4a1 1 0 0 1 .156 1.406Z" clip-rule="evenodd" /></symbol>',20,16),N6=me("Icon20Dropdown","dropdown_20","0 0 20 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 16" id="dropdown_20"><path fill-rule="evenodd" d="M4.22 5.875a1 1 0 0 1 1.405-.156L10 9.22l4.375-3.5a1 1 0 0 1 1.25 1.562l-5 4a1 1 0 0 1-1.25 0l-5-4a1 1 0 0 1-.156-1.406Z" clip-rule="evenodd" /></symbol>',20,16),Iv=me("Icon24Add","add_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="add_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" /><path fill="currentColor" d="M13 11h6.5a1 1 0 0 1 0 2H13v6.5a1 1 0 0 1-2 0V13H4.5a1 1 0 0 1 0-2H11V4.5a1 1 0 0 1 2 0z" /></g></symbol>',24,24),M6=me("Icon24ArrowLeftOutline","arrow_left_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" id="arrow_left_outline_24"><path fill="currentColor" d="M11.532 4.26a.9.9 0 0 1 .089 1.18l-.08.092L6.05 11.1H20.1a.9.9 0 0 1 .113 1.793l-.113.007H6.05l5.49 5.568a.9.9 0 0 1 .073 1.181l-.081.092a.9.9 0 0 1-1.181.072l-.092-.081-7-7.1a.9.9 0 0 1-.08-1.172l.08-.092 7-7.1a.9.9 0 0 1 1.273-.009" /></symbol>',24,24),o0=me("Icon24CalendarOutline","calendar_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="calendar_outline_24"><path fill-rule="evenodd" d="M8 1.5a.9.9 0 0 1 .9.9V3h6.2v-.6a.9.9 0 1 1 1.8 0v.653c.628.053 1.183.164 1.698.427a4.4 4.4 0 0 1 1.922 1.922c.267.523.377 1.087.43 1.726.05.62.05 1.386.05 2.334v5.076c0 .948 0 1.714-.05 2.334-.053.64-.163 1.203-.43 1.726a4.4 4.4 0 0 1-1.922 1.922c-.523.267-1.087.377-1.726.43-.62.05-1.386.05-2.334.05H9.462c-.948 0-1.714 0-2.334-.05-.64-.053-1.203-.163-1.726-.43a4.4 4.4 0 0 1-1.922-1.922c-.267-.523-.377-1.087-.43-1.726C3 16.252 3 15.486 3 14.538V9.462c0-.948 0-1.714.05-2.334.053-.64.163-1.203.43-1.726A4.4 4.4 0 0 1 5.402 3.48c.515-.263 1.07-.374 1.698-.427V2.4a.9.9 0 0 1 .9-.9m-.9 3.361c-.422.046-.68.12-.88.222A2.6 2.6 0 0 0 5.083 6.22c-.115.226-.195.527-.238 1.054-.037.444-.043.991-.045 1.726h14.4c-.002-.735-.008-1.282-.045-1.726-.043-.527-.123-.828-.238-1.054a2.6 2.6 0 0 0-1.137-1.137c-.2-.102-.458-.176-.88-.222V5.6a.9.9 0 0 1-1.8 0v-.8H8.9v.8a.9.9 0 1 1-1.8 0zM19.2 10.8H4.8v3.7c0 .995 0 1.687.045 2.226.043.527.123.828.238 1.054a2.6 2.6 0 0 0 1.137 1.137c.226.115.527.195 1.055.238.538.044 1.23.045 2.225.045h5c.995 0 1.687 0 2.226-.045.527-.043.828-.123 1.054-.238a2.6 2.6 0 0 0 1.137-1.137c.115-.226.195-.527.238-1.055.044-.538.045-1.23.045-2.225z" clip-rule="evenodd" /></symbol>',24,24),Nv=me("Icon24Cancel","cancel_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="cancel_24"><path d="M7.536 6.264a.9.9 0 0 0-1.272 1.272L10.727 12l-4.463 4.464a.9.9 0 0 0 1.272 1.272L12 13.273l4.464 4.463a.9.9 0 1 0 1.272-1.272L13.273 12l4.463-4.464a.9.9 0 1 0-1.272-1.272L12 10.727z" /></symbol>',24,24),A6=me("Icon24CheckBoxOff","check_box_off_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" id="check_box_off_24"><path fill="currentColor" d="M16.872 2c1.783 0 2.43.186 3.082.534s1.163.86 1.512 1.512S22 5.345 22 7.128v9.744c0 1.783-.186 2.43-.534 3.082a3.64 3.64 0 0 1-1.512 1.512c-.652.348-1.299.534-3.082.534H7.128c-1.783 0-2.43-.186-3.082-.534s-1.163-.86-1.512-1.512C2.186 19.302 2 18.655 2 16.872V7.128c0-1.783.186-2.43.534-3.082a3.64 3.64 0 0 1 1.512-1.512C4.698 2.186 5.345 2 7.128 2zm.564 2H6.564c-.892 0-1.215.093-1.54.267-.327.174-.583.43-.757.756S4 5.673 4 6.563v10.873c0 .892.093 1.215.267 1.54.174.327.43.583.756.757s.65.267 1.54.267h10.873c.892 0 1.215-.093 1.54-.267.327-.174.583-.43.757-.756s.267-.65.267-1.54V6.563c0-.892-.093-1.215-.267-1.54a1.8 1.8 0 0 0-.756-.757c-.326-.174-.65-.267-1.54-.267" /></symbol>',24,24),P6=me("Icon24CheckBoxOn","check_box_on_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" id="check_box_on_24"><path fill="currentColor" fill-rule="evenodd" d="M2.436 4.184C2 5.04 2 6.16 2 8.4v7.2c0 2.24 0 3.36.436 4.216a4 4 0 0 0 1.748 1.748C5.04 22 6.16 22 8.4 22h7.2c2.24 0 3.36 0 4.216-.436a4 4 0 0 0 1.748-1.748C22 18.96 22 17.84 22 15.6V8.4c0-2.24 0-3.36-.436-4.216a4 4 0 0 0-1.748-1.748C18.96 2 17.84 2 15.6 2H8.4c-2.24 0-3.36 0-4.216.436a4 4 0 0 0-1.748 1.748m15.771 5.023a1 1 0 0 0-1.414-1.414L10 14.586l-2.793-2.793a1 1 0 0 0-1.414 1.414l3.5 3.5a1 1 0 0 0 1.414 0z" clip-rule="evenodd" /></symbol>',24,24),L6=me("Icon24CheckCircleOff","check_circle_off_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" id="check_circle_off_24"><path fill="currentColor" d="M12 0c6.629 0 12 5.373 12 12 0 6.629-5.373 12-12 12-6.629 0-12-5.373-12-12C0 5.371 5.373 0 12 0m0 1.5C6.2 1.5 1.5 6.2 1.5 12S6.2 22.5 12 22.5 22.5 17.8 22.5 12 17.8 1.5 12 1.5" /></symbol>',24,24),T6=me("Icon24CheckCircleOn","check_circle_on_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" id="check_circle_on_24"><path fill="currentColor" fill-rule="evenodd" d="M12 24c6.627 0 12-5.373 12-12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12m6.207-14.793a1 1 0 0 0-1.414-1.414L10 14.586l-2.793-2.793a1 1 0 0 0-1.414 1.414l3.5 3.5a1 1 0 0 0 1.414 0z" clip-rule="evenodd" /></symbol>',24,24),R6=me("Icon24ChevronCompactRight","chevron_compact_right_24","0 0 16 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 24" id="chevron_compact_right_24"><path fill="currentColor" d="M4.706 7.706a1 1 0 0 1 0-1.412l.088-.088a.997.997 0 0 1 1.414.002l5.084 5.084a1 1 0 0 1 0 1.416l-5.084 5.084a1 1 0 0 1-1.414.002l-.088-.088a.995.995 0 0 1 0-1.412L9 12z" /></symbol>',16,24),O6=me("Icon24ChevronDown","chevron_down_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="chevron_down_24"><path d="M12 13.698 6.64 9.232a1 1 0 0 0-1.28 1.536l6 5a1 1 0 0 0 1.28 0l6-5a1 1 0 1 0-1.28-1.536z" /></symbol>',24,24),j6=me("Icon24ChevronUp","chevron_up_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="chevron_up_24"><path d="m12 10.302-5.36 4.466a1 1 0 1 1-1.28-1.536l6-5a1 1 0 0 1 1.28 0l6 5a1 1 0 1 1-1.28 1.536z" /></symbol>',24,24),B6=me("Icon24Dismiss","dismiss_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" id="dismiss_24"><g fill="currentColor"><path d="M12 24c6.627 0 12-5.373 12-12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12" opacity=".12" /><path d="M16.736 7.264a.9.9 0 0 1 0 1.272L13.273 12l3.463 3.464a.9.9 0 0 1 .081 1.18l-.08.092a.9.9 0 0 1-1.273 0L12 13.273l-3.464 3.463a.9.9 0 1 1-1.272-1.272L10.727 12 7.264 8.536a.9.9 0 0 1-.08-1.18l.08-.092a.9.9 0 0 1 1.272 0L12 10.727l3.464-3.463a.9.9 0 0 1 1.272 0" /></g></symbol>',24,24),D6=me("Icon24Globe","globe_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="globe_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" /><path fill="currentColor" fill-rule="nonzero" d="M14.314 9.5H9.77a16.822 16.822 0 0 0-.152 5h4.696q.184-1.209.186-2.5-.002-1.291-.186-2.5m1.515 0c.112.81.171 1.646.171 2.5s-.059 1.69-.171 2.5h4.297c.243-.79.374-1.63.374-2.5s-.13-1.71-.374-2.5zm-3.85 11c.895-1.252 1.6-2.783 2.033-4.5H9.87c.368 1.691.995 3.217 1.81 4.494q.149.006.299.006m1.915-.212A8.52 8.52 0 0 0 19.502 16h-3.948a15.6 15.6 0 0 1-1.66 4.288m0-16.576A15.6 15.6 0 0 1 15.554 8h3.948a8.52 8.52 0 0 0-5.608-4.288M14.012 8c-.4-1.588-1.033-3.017-1.834-4.213-.88 1.17-1.589 2.601-2.055 4.213zM8.248 9.5H3.874A8.5 8.5 0 0 0 3.5 12c0 .87.13 1.71.374 2.5h4.235a18.3 18.3 0 0 1 .139-5M9.79 20.21A16 16 0 0 1 8.34 16H4.497a8.52 8.52 0 0 0 5.292 4.21m.665-16.57A8.51 8.51 0 0 0 4.498 8H8.57c.423-1.617 1.068-3.092 1.886-4.36M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10" /></g></symbol>',24,24),a0=me("Icon24LocationMapOutline","location_map_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="location_map_outline_24"><path fill-rule="evenodd" d="M12.002 3.8a3.85 3.85 0 0 0-3.85 3.847c0 2.457 1.457 5.1 2.788 6.977.551.778 1.6.776 2.149-.004 1.32-1.875 2.763-4.517 2.763-6.973a3.85 3.85 0 0 0-3.85-3.847m-5.65 3.847c0-3.12 2.53-5.647 5.65-5.647s5.65 2.528 5.65 5.647c0 3.048-1.737 6.084-3.091 8.009-1.265 1.797-3.819 1.801-5.09.01-1.364-1.926-3.119-4.966-3.119-8.02Zm7.4.103a1.75 1.75 0 1 1-3.5 0 1.75 1.75 0 0 1 3.5 0m3.459 6.57a.9.9 0 0 1 1.268-.109c.833.7 1.526 1.589 1.526 2.789 0 1.753-1.064 3.038-2.539 3.836-1.456.789-3.394 1.166-5.466 1.166-2.09 0-4.027-.432-5.475-1.244S4 18.669 4 17c0-1.189.712-2.096 1.514-2.783a.9.9 0 1 1 1.172 1.366c-.652.559-.886 1.01-.886 1.417 0 .789.492 1.563 1.605 2.188 1.112.623 2.725 1.014 4.595 1.014 1.888 0 3.502-.349 4.609-.948 1.087-.59 1.596-1.356 1.596-2.254 0-.42-.22-.853-.884-1.411a.9.9 0 0 1-.11-1.268Z" clip-rule="evenodd" /></symbol>',24,24),z6=me("Icon24Reorder","reorder_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="reorder_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" /><path fill="currentColor" fill-rule="nonzero" d="M21 18a1 1 0 0 1-1 1H4a1 1 0 0 1 0-2h16a1 1 0 0 1 1 1m0-4a1 1 0 0 1-1 1H4a1 1 0 0 1 0-2h16a1 1 0 0 1 1 1m0-4a1 1 0 0 1-1 1H4a1 1 0 0 1 0-2h16a1 1 0 0 1 1 1M3 6a1 1 0 0 1 1-1h16a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1" /></g></symbol>',24,24),F6=me("Icon24ReorderIos","reorder_ios_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="reorder_ios_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" opacity=".1" /><path fill="currentColor" fill-rule="nonzero" d="M2.75 7h18.5a.75.75 0 1 1 0 1.5H2.75a.75.75 0 0 1 0-1.5m0 4h18.5a.75.75 0 1 1 0 1.5H2.75a.75.75 0 1 1 0-1.5m0 4h18.5a.75.75 0 1 1 0 1.5H2.75a.75.75 0 1 1 0-1.5" /></g></symbol>',24,24),H6=me("Icon24ShareExternal","share_external_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="share_external_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" /><path fill="currentColor" d="M17 16.08c-.76 0-1.44.3-1.96.77L7.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L7.04 9.81C6.5 9.31 5.79 9 5 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92" /></g></symbol>',24,24),U6=me("Icon24Spinner","spinner_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" id="spinner_24"><path fill="currentColor" fill-rule="evenodd" d="M16.394 5.077A8.2 8.2 0 0 0 4.58 15.49a.9.9 0 0 1-1.628.767A10 10 0 1 1 12 22a.9.9 0 0 1 0-1.8 8.2 8.2 0 0 0 4.394-15.123" clip-rule="evenodd" /></symbol>',24,24),V6=me("Icon24TreeNodes","tree_nodes_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="tree_nodes_24"><path fill-rule="evenodd" d="M16.777 3h1.419c.31 0 .596 0 .834.02.258.02.539.068.817.21.397.2.72.523.923.918.141.277.19.557.21.814.02.237.02.521.02.83V7.19c0 .31 0 .594-.02.831-.02.256-.069.537-.21.813a2.1 2.1 0 0 1-.923.92c-.278.14-.56.188-.817.21-.238.019-.524.019-.834.019h-1.419c-.31 0-.596 0-.834-.02a2.15 2.15 0 0 1-.817-.21 2.1 2.1 0 0 1-.923-.919 2.1 2.1 0 0 1-.21-.813 8 8 0 0 1-.02-.63l-2.198-.002c-.495-.001-.81 0-1.05.018-.23.019-.309.05-.343.067a.8.8 0 0 0-.352.35c-.017.034-.049.113-.068.341-.02.24-.02.554-.02 1.046v5.57c0 .49 0 .804.02 1.043.019.228.05.306.068.34.077.15.2.273.35.35.035.017.113.049.342.067.24.02.555.021 1.048.022l2.203.003a8 8 0 0 1 .02-.627c.02-.256.069-.537.21-.813.203-.396.526-.718.923-.92.278-.14.56-.189.817-.21.238-.019.524-.019.834-.019h1.419c.31 0 .596 0 .834.02.258.02.539.068.817.21.397.201.72.523.923.919.141.276.19.557.21.813.02.237.02.522.02.831v1.397c0 .31 0 .594-.02.831-.02.256-.069.537-.21.814a2.1 2.1 0 0 1-.923.919c-.278.14-.56.189-.817.21-.238.019-.524.019-.834.019h-1.419c-.31 0-.596 0-.834-.02a2.15 2.15 0 0 1-.817-.21 2.1 2.1 0 0 1-.923-.918 2.1 2.1 0 0 1-.21-.814 8 8 0 0 1-.02-.63l-2.24-.002c-.449 0-.839-.001-1.16-.028-.341-.028-.684-.09-1.016-.259a2.6 2.6 0 0 1-1.14-1.137c-.17-.33-.231-.672-.259-1.011-.026-.321-.026-.71-.026-1.156v-1.921H2.905A.903.903 0 0 1 2 11.992c0-.498.405-.901.905-.901h5.227V9.177c0-.448 0-.837.026-1.159.028-.34.09-.682.26-1.013a2.6 2.6 0 0 1 1.144-1.138c.332-.168.676-.23 1.017-.257.323-.025.714-.025 1.164-.024l2.23.003a8 8 0 0 1 .02-.627c.02-.257.069-.537.21-.814.203-.395.526-.717.923-.919.278-.14.56-.189.817-.21C16.18 3 16.467 3 16.777 3" clip-rule="evenodd" /></symbol>',24,24),Mv=me("Icon24User","user_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="user_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" /><path fill="currentColor" d="M16 8c0-2.21-1.79-4-4-4S8 5.79 8 8s1.79 4 4 4 4-1.79 4-4M4 18v.995C4 19.55 4.45 20 5.005 20h13.99C19.55 20 20 19.55 20 18.995V18c0-3.5-5.33-4.5-8-4.5s-8 1-8 4.5" /></g></symbol>',24,24),$6=me("Icon28ArrowLeftOutline","arrow_left_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" id="arrow_left_outline_28"><g fill="none" fill-rule="evenodd"><path d="M28 0H0v28h28z" /><path fill="currentColor" fill-rule="nonzero" d="M12.293 6.293a1 1 0 0 1 1.414 1.414L8.414 13H22a1 1 0 0 1 .993.883L23 14a1 1 0 0 1-1 1H8.414l5.293 5.293a1 1 0 0 1 .083 1.32l-.083.094a1 1 0 0 1-1.414 0l-7-7-.073-.082A1 1 0 0 1 5 14l.004.09L5 14.02V14a1 1 0 0 1 .125-.484 1 1 0 0 1 .071-.111 1 1 0 0 1 .097-.112l-.08.09q.037-.047.08-.09Z" /></g></symbol>',28,28),W6=me("Icon28ChevronBack","chevron_back_28","0 0 20 28",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 28" id="chevron_back_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h20v28H0z" /><path fill="currentColor" d="M4.56 12.94 13 4.5a1.414 1.414 0 0 1 2 2L7.5 14l7.5 7.5a1.414 1.414 0 0 1-2 2l-8.44-8.44a1.5 1.5 0 0 1 0-2.12" /></g></symbol>',20,28),Y6=me("Icon28ChevronLeftOutline","chevron_left_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 28 28" id="chevron_left_outline_28"><path fill="currentColor" d="m12.414 14 5.793-5.793a1 1 0 0 0-1.414-1.414l-6.5 6.5a1 1 0 0 0 0 1.414l6.5 6.5a1 1 0 0 0 1.414-1.414z" /></symbol>',28,28),X6=me("Icon28QrCodeOutline","qr_code_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 28 28" id="qr_code_outline_28"><path fill="currentColor" d="M9.347 15c1.27 0 1.73.132 2.195.38.465.25.829.613 1.077 1.078.249.464.381.925.381 2.196v2.692c0 1.27-.132 1.732-.38 2.196a2.6 2.6 0 0 1-1.078 1.077c-.464.249-.925.381-2.195.381H6.654c-1.27 0-1.731-.132-2.196-.38a2.6 2.6 0 0 1-1.077-1.078C3.132 23.078 3 22.617 3 21.346v-2.693c0-1.27.132-1.73.38-2.195a2.6 2.6 0 0 1 1.078-1.077c.464-.249.925-.381 2.196-.381zm14.192 7c.334 0 .455.035.577.1a.7.7 0 0 1 .284.284c.065.122.1.243.1.578v.577c0 .334-.035.455-.1.577a.7.7 0 0 1-.284.284c-.122.065-.243.1-.578.1h-.577c-.334 0-.455-.035-.577-.1a.7.7 0 0 1-.284-.284c-.065-.122-.1-.243-.1-.578v-.577c0-.334.035-.455.1-.577a.7.7 0 0 1 .284-.284c.122-.065.243-.1.578-.1zm-6.5 0c.334 0 .455.035.577.1a.7.7 0 0 1 .284.284c.065.122.1.243.1.578v.577c0 .334-.035.455-.1.577a.7.7 0 0 1-.284.284c-.122.065-.243.1-.578.1h-.577c-.334 0-.455-.035-.577-.1a.7.7 0 0 1-.284-.284c-.065-.122-.1-.243-.1-.578v-.577c0-.334.035-.455.1-.577a.7.7 0 0 1 .284-.284c.122-.065.243-.1.578-.1zM9.52 17H6.654c-.857 0-1.054.038-1.253.144a.6.6 0 0 0-.257.257c-.098.185-.138.368-.143 1.079L5 21.346c0 .857.038 1.054.144 1.253a.6.6 0 0 0 .257.257c.199.106.396.144 1.253.144h2.693c.856 0 1.053-.038 1.252-.144a.6.6 0 0 0 .257-.257c.106-.199.144-.396.144-1.253v-2.693c0-.856-.038-1.053-.144-1.252a.6.6 0 0 0-.257-.257c-.184-.098-.368-.138-1.079-.143M8.29 18.75c.334 0 .455.035.577.1a.7.7 0 0 1 .284.284c.065.122.1.243.1.578v.577c0 .334-.035.455-.1.577a.7.7 0 0 1-.284.284c-.122.065-.243.1-.577.1h-.577c-.335 0-.456-.035-.578-.1a.7.7 0 0 1-.284-.284c-.065-.122-.1-.243-.1-.578v-.577c0-.334.035-.455.1-.577a.7.7 0 0 1 .284-.284c.122-.065.243-.1.578-.1zm12 0c.334 0 .455.035.577.1a.7.7 0 0 1 .284.284c.065.122.1.243.1.578v.577c0 .334-.035.455-.1.577a.7.7 0 0 1-.284.284c-.122.065-.243.1-.578.1h-.577c-.334 0-.455-.035-.577-.1a.7.7 0 0 1-.284-.284c-.065-.122-.1-.243-.1-.578v-.577c0-.334.035-.455.1-.577a.7.7 0 0 1 .284-.284c.122-.065.243-.1.578-.1zm-3.25-3.25c.334 0 .455.035.577.1a.7.7 0 0 1 .284.284c.065.122.1.243.1.577v.578c0 .334-.035.455-.1.577a.7.7 0 0 1-.284.284c-.122.065-.243.1-.578.1h-.577c-.334 0-.455-.035-.577-.1a.7.7 0 0 1-.284-.284c-.065-.122-.1-.243-.1-.578v-.577c0-.334.035-.455.1-.577a.7.7 0 0 1 .284-.284c.122-.065.243-.1.578-.1zm6.5 0c.334 0 .455.035.577.1a.7.7 0 0 1 .284.284c.065.122.1.243.1.577v.578c0 .334-.035.455-.1.577a.7.7 0 0 1-.284.284c-.122.065-.243.1-.578.1h-.577c-.334 0-.455-.035-.577-.1a.7.7 0 0 1-.284-.284c-.065-.122-.1-.243-.1-.578v-.577c0-.334.035-.455.1-.577a.7.7 0 0 1 .284-.284c.122-.065.243-.1.578-.1zM9.346 3c1.27 0 1.73.132 2.195.38.465.249.829.614 1.077 1.078.249.464.381.925.381 2.196v2.693c0 1.27-.132 1.73-.38 2.195a2.6 2.6 0 0 1-1.078 1.077c-.464.249-.925.381-2.195.381H6.654c-1.27 0-1.731-.132-2.196-.38a2.6 2.6 0 0 1-1.077-1.078C3.132 11.078 3 10.617 3 9.347V6.654c0-1.27.132-1.731.38-2.196a2.6 2.6 0 0 1 1.078-1.077C4.922 3.132 5.383 3 6.654 3zm12 0c1.27 0 1.73.132 2.195.38.464.249.829.614 1.077 1.078.249.464.381.925.381 2.196v2.693c0 1.27-.132 1.73-.38 2.195a2.6 2.6 0 0 1-1.078 1.077c-.464.249-.925.381-2.196.381h-2.693c-1.27 0-1.73-.132-2.195-.38a2.6 2.6 0 0 1-1.077-1.078c-.249-.464-.381-.925-.381-2.195V6.654c0-1.27.132-1.731.38-2.196a2.6 2.6 0 0 1 1.078-1.077c.464-.249.925-.381 2.196-.381zM9.52 5H6.654c-.857 0-1.054.038-1.253.144a.6.6 0 0 0-.257.257c-.098.185-.138.368-.143 1.079L5 9.347c0 .856.038 1.053.144 1.252a.6.6 0 0 0 .257.257c.199.106.396.144 1.253.144h2.693c.856 0 1.053-.038 1.252-.144a.6.6 0 0 0 .257-.257c.106-.199.144-.396.144-1.252V6.654c0-.857-.038-1.054-.144-1.253a.6.6 0 0 0-.257-.257c-.184-.098-.368-.138-1.079-.143m12 0h-2.866c-.857 0-1.054.038-1.253.144a.6.6 0 0 0-.257.257c-.098.185-.138.368-.143 1.079L17 9.347c0 .856.038 1.053.144 1.252a.6.6 0 0 0 .257.257c.199.106.396.144 1.253.144h2.693c.856 0 1.053-.038 1.252-.144a.6.6 0 0 0 .257-.257c.106-.199.144-.396.144-1.252V6.654c0-.857-.038-1.054-.144-1.253a.6.6 0 0 0-.257-.257c-.184-.098-.368-.138-1.079-.143M8.29 6.75c.334 0 .455.035.577.1a.7.7 0 0 1 .284.284c.065.122.1.243.1.577v.577c0 .335-.035.456-.1.578a.7.7 0 0 1-.284.284c-.122.065-.243.1-.577.1h-.577c-.335 0-.456-.035-.578-.1a.7.7 0 0 1-.284-.284c-.065-.122-.1-.243-.1-.578v-.577c0-.334.035-.455.1-.577a.7.7 0 0 1 .284-.284c.122-.065.243-.1.578-.1zm12 0c.334 0 .455.035.577.1a.7.7 0 0 1 .284.284c.065.122.1.243.1.577v.577c0 .335-.035.456-.1.578a.7.7 0 0 1-.284.284c-.122.065-.243.1-.578.1h-.577c-.334 0-.455-.035-.577-.1a.7.7 0 0 1-.284-.284c-.065-.122-.1-.243-.1-.578v-.577c0-.334.035-.455.1-.577a.7.7 0 0 1 .284-.284c.122-.065.243-.1.578-.1z" /></symbol>',28,28),G6=me("Icon28ViewOutline","view_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 28 28" id="view_outline_28"><path d="M14 6c5.994 0 11.5 4.557 11.5 8s-5.506 8-11.5 8-11.5-4.557-11.5-8S8.006 6 14 6m0 2c-4.964 0-9.5 3.754-9.5 6s4.536 6 9.5 6 9.5-3.754 9.5-6-4.536-6-9.5-6m0 2a4 4 0 1 1 0 8 4 4 0 0 1 0-8m0 2a2 2 0 1 0 0 4 2 2 0 0 0 0-4" /></symbol>',28,28),K6=me("Icon32Spinner","spinner_32","0 0 32 32",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="spinner_32"><path fill="currentColor" d="M16 32a1.5 1.5 0 0 1 0-3c7.18 0 13-5.82 13-13S23.18 3 16 3 3 8.82 3 16c0 1.557.273 3.074.8 4.502A1.5 1.5 0 1 1 .986 21.54 16 16 0 0 1 0 16C0 7.163 7.163 0 16 0s16 7.163 16 16-7.163 16-16 16" /></symbol>',32,32),q6=me("Icon44Spinner","spinner_44","0 0 44 44",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44" id="spinner_44"><path fill="currentColor" d="M22 44a1.5 1.5 0 0 1 0-3c10.493 0 19-8.507 19-19S32.493 3 22 3 3 11.507 3 22c0 2.208.376 4.363 1.103 6.397a1.5 1.5 0 1 1-2.825 1.01A22 22 0 0 1 0 22C0 9.85 9.85 0 22 0s22 9.85 22 22-9.85 22-22 22" /></symbol>',44,44),jl=me("Icon48Camera","camera_48","0 0 48 48",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" id="camera_48"><g fill="none" fill-rule="evenodd"><path d="M0 0h48v48H0z" /><path fill="currentColor" d="M10.364 12h.909c1.36 0 2.84-.993 3.568-1.891s1.396-1.729 1.436-1.777C17.07 7.402 17.878 7 19.257 7H24v33H11.273C7.256 40 4 36.816 4 32.889V19.11C4 14.667 6 12 10.364 12m27.272 0h-.909c-1.36 0-2.84-.993-3.568-1.891s-1.396-1.729-1.436-1.777C30.93 7.402 30.122 7 28.743 7H24v33h12.727C40.744 40 44 36.816 44 32.889V19.11C44 14.667 42 12 37.636 12M15 25c0 4.968 4.032 9 9 9s9-4.032 9-9-4.032-9-9-9-9 4.032-9 9m2.25 0A6.75 6.75 0 0 1 24 18.25 6.75 6.75 0 0 1 30.75 25 6.75 6.75 0 0 1 24 31.75 6.75 6.75 0 0 1 17.25 25" /></g></symbol>',48,48),s0=me("Icon48PictureOutline","picture_outline_48","0 0 48 48",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 48 48" id="picture_outline_48"><path fill-rule="evenodd" d="M8.827 5.64c1.598-.855 3.178-1.14 6.685-1.14h16.975c3.508 0 5.088.285 6.686 1.14a7.7 7.7 0 0 1 3.187 3.187c.855 1.598 1.14 3.178 1.14 6.685v16.975c0 3.508-.285 5.088-1.14 6.686a7.7 7.7 0 0 1-3.187 3.187c-1.598.855-3.178 1.14-6.686 1.14H15.512c-3.507 0-5.087-.285-6.685-1.14a7.7 7.7 0 0 1-3.187-3.187c-.855-1.598-1.14-3.178-1.14-6.686V15.512c0-3.507.285-5.087 1.14-6.685A7.7 7.7 0 0 1 8.827 5.64m6.685 1.86c-3.369 0-4.34.287-5.27.785a4.7 4.7 0 0 0-1.957 1.957c-.498.93-.785 1.901-.785 5.27v16.975c0 3.37.287 4.34.785 5.271a4.7 4.7 0 0 0 1.957 1.956c.93.498 1.901.786 5.27.786h16.975c3.37 0 4.34-.288 5.271-.785a4.7 4.7 0 0 0 1.956-1.957c.498-.93.786-1.901.786-5.27V15.511c0-3.369-.288-4.34-.785-5.27a4.7 4.7 0 0 0-1.957-1.957c-.93-.498-1.901-.785-5.27-.785H15.511Z" clip-rule="evenodd" /><path fill-rule="evenodd" d="M16.167 31.927 8.184 39.91l-2.12-2.121 8.616-8.617a2 2 0 0 1 2.666-.146l3.94 3.16 7.223-8.736a2 2 0 0 1 2.892-.2l11.613 10.644-2.028 2.212-10.836-9.933-7.18 8.685a2 2 0 0 1-2.793.286z" clip-rule="evenodd" /><path d="M20 17a3 3 0 1 1-6 0 3 3 0 0 1 6 0" /></symbol>',48,48);function pr(n){const e=k.useRef();return k.useEffect(()=>{e.current=n}),e.current}function Wa(n,e){n.addEventListener?n.addEventListener("change",e):n.addListener(e)}function uc(n,e){n.removeEventListener?n.removeEventListener("change",e):n.removeListener(e)}const l0="screen and (prefers-reduced-motion: reduce)",Q6=()=>{const{window:n}=Tt(),e=k.useMemo(()=>n?n.matchMedia(l0).matches:!1,[n]),t=k.useRef(e);return je(()=>{if(!n)return;const r=n.matchMedia(l0);t.current=r.matches;const i=o=>{t.current=o.matches};return Wa(r,i),()=>uc(r,i)},[n]),t.current},Sn=n=>{var{Component:e="span",baseClassName:t}=n,r=J(n,["Component","baseClassName"]);return h.jsx(Ce,Q(B({Component:e},r),{baseClassName:$(t,"vkuiVisuallyHidden",e==="input"&&"vkuiVisuallyHidden--focusable-input")}))},fc=k.memo(n=>{var{size:e="regular",children:t="Загружается...",disableAnimation:r=!1,noColor:i=!1}=n,o=J(n,["size","children","disableAnimation","noColor"]);const a=Q6(),s={small:w6,regular:U6,medium:K6,large:q6}[e];let l=null;const[c,d]=k.useState(!!r);if(k.useEffect(function(){d(!0)},[]),c&&!r)if(a)l=h.jsx("animate",{attributeName:"opacity",keyTimes:"0; 0.5; 1",values:"1; 0.1; 1",begin:"0s",dur:"2s",repeatCount:"indefinite"});else{const f={small:8,regular:12,medium:16,large:22}[e];l=h.jsx("animateTransform",{attributeType:"XML",attributeName:"transform",type:"rotate",from:"0 ".concat(f," ").concat(f),to:"360 ".concat(f," ").concat(f),dur:"0.7s",repeatCount:"indefinite"})}return h.jsxs(Ce,Q(B({Component:"span",role:"status"},o),{baseClassName:$("vkuiSpinner",i&&"vkuiSpinner--no-color"),children:[h.jsx(s,{children:l}),Pe(t)&&h.jsx(Sn,{children:t})]}))});fc.displayName="Spinner";const J6={s:"vkuiButton--size-s",m:"vkuiButton--size-m",l:"vkuiButton--size-l"},Z6={primary:"vkuiButton--mode-primary",secondary:"vkuiButton--mode-secondary",tertiary:"vkuiButton--mode-tertiary",outline:"vkuiButton--mode-outline",link:"vkuiButton--mode-link"},e7={accent:"vkuiButton--appearance-accent",positive:"vkuiButton--appearance-positive",negative:"vkuiButton--appearance-negative",neutral:"vkuiButton--appearance-neutral",overlay:"vkuiButton--appearance-overlay","accent-invariable":"vkuiButton--appearance-accent-invariable"},t7={left:"vkuiButton--align-left",center:"vkuiButton--align-center",right:"vkuiButton--align-right"},n7={none:"vkuiButton--sizeY-none",regular:"vkuiButton--sizeY-regular"},yt=n=>{var{size:e="s",mode:t="primary",appearance:r="accent",stretched:i=!1,align:o="center",children:a,before:s,after:l,getRootRef:c,loading:d,onClick:f,className:u,disableSpinnerAnimation:p,rounded:g}=n,m=J(n,["size","mode","appearance","stretched","align","children","before","after","getRootRef","loading","onClick","className","disableSpinnerAnimation","rounded"]);const w=!!(s||l),y=!a&&!!l!=!!s,{sizeY:x="none"}=$e(),v=De();return h.jsxs(sr,Q(B({hoverMode:"vkuiButton--hover",activeMode:"vkuiButton--active",Component:m.href?"a":"button",focusVisibleMode:"outside"},m),{onClick:d?void 0:f,className:$(u,"vkuiButton",J6[e],Z6[t],e7[r],t7[o],x!=="compact"&&n7[x],v==="ios"&&"vkuiButton--ios",i&&"vkuiButton--stretched",w&&"vkuiButton--with-icon",y&&!i&&"vkuiButton--singleIcon",d&&"vkuiButton--loading",g&&"vkuiButton--rounded"),getRootRef:c,children:[d&&h.jsx(fc,{size:"small",className:"vkuiButton__spinner",disableAnimation:p}),h.jsxs("span",{className:"vkuiButton__in",children:[Pe(s)&&h.jsx("span",{className:"vkuiButton__before",role:"presentation","data-testid":void 0,children:s}),Pe(a)&&h.jsx("span",{className:"vkuiButton__content","data-testid":void 0,children:a}),Pe(l)&&h.jsx("span",{className:"vkuiButton__after",role:"presentation","data-testid":void 0,children:l})]})]}))},r7={none:"vkuiIconButton--sizeY-none",compact:"vkuiIconButton--sizeY-compact"},Yf=n=>{var{label:e,children:t,className:r}=n,i=J(n,["label","children","className"]);const o=De(),{sizeY:a="none"}=$e();return h.jsxs(sr,Q(B({activeEffectDelay:200,activeMode:"background",Component:i.href?"a":"button"},i),{className:$("vkuiIconButton",a!=="regular"&&r7[a],o==="ios"&&"vkuiIconButton--ios",r),children:[e&&h.jsx(Sn,{children:e}),t]}))},i7={mq:{className:"vkui-sizeX--compact-mq"},compact:{className:"vkui-sizeX--compact-forced"}},o7={mq:{className:"vkui-sizeX--regular-mq"},regular:{className:"vkui-sizeX--regular-forced"}},a7={mq:{className:"vkui-sizeY--compact-mq"},compact:{className:"vkui-sizeY--compact-forced"}},s7={mq:{className:"vkui-sizeY--regular-mq"},regular:{className:"vkui-sizeY--regular-forced"}},l7={tabletMinus:{mq:{className:"vkui-viewWidth--tabletMinus-mq"},forced:{className:"vkui-viewWidth--tabletMinus-forced"}},tabletPlus:{mq:{className:"vkui-viewWidth--tabletPlus-mq"},forced:{className:"vkui-viewWidth--tabletPlus-forced"}}},c7={mobile:{mq:{className:"vkui-deviceType--mobile-mq"},forced:{className:"vkui-deviceType--mobile-forced"}},desktop:{mq:{className:"vkui-deviceType--desktop-mq"},forced:{className:"vkui-deviceType--desktop-forced"}}},c0=(n,e,t)=>({compact:n===void 0?e.mq:n==="compact"?e[n]:!1,regular:n===void 0?t.mq:n==="regular"?t[n]:!1}),d7=(n,e)=>({tabletMinus:n===void 0?e.tabletMinus.mq:n<rt.TABLET?e.tabletMinus.forced:!1,tabletPlus:n===void 0?e.tabletPlus.mq:n>=rt.TABLET?e.tabletPlus.forced:!1}),u7=(n,e,t,r,i)=>{const o=dv(n,e,t,r);return o===null?{mobile:i.mobile.mq,desktop:i.desktop.mq}:o?{mobile:!1,desktop:i.desktop.forced}:{mobile:i.mobile.forced,desktop:!1}},pc=()=>{const{sizeX:n,sizeY:e,viewWidth:t,viewHeight:r,hasPointer:i}=k.useContext(Bo),o=De();return k.useMemo(()=>{const a=c0(n,i7,o7),s=c0(e,a7,s7),l=d7(t,l7),c=u7(t,r,i,o,c7);return{sizeX:a,sizeY:s,viewWidth:l,deviceType:c}},[n,e,t,r,i,o])},ji=({IconCompact:n,IconRegular:e})=>{const{sizeY:t}=pc();return h.jsxs(k.Fragment,{children:[t.compact&&h.jsx(n,{className:t.compact.className}),t.regular&&h.jsx(e,{className:t.regular.className})]})};function br(n,e){return n.nav||n.id}const Av=k.createContext({entering:!1}),f7=()=>k.useContext(Av),p7=({children:n,entering:e})=>{const t=f7(),r=Ui({entering:t.entering||e});return h.jsx(Av.Provider,{value:r,children:n})},d0=k.createContext(void 0),h7=({children:n,isBack:e})=>{const t=k.useContext(d0),r=e!==void 0?e:t,[i]=k.useState(r);return h.jsx(d0.Provider,{value:i,children:n})},m7=k.createContext(void 0),g7=k.createContext(void 0),u0=n=>"clientX"in n?n.clientX:n.changedTouches&&n.changedTouches[0].clientX,f0=n=>"clientY"in n?n.clientY:n.changedTouches&&n.changedTouches[0].clientY,v7=()=>Tn&&"ontouchstart"in window;function p0(n,e,t,r){if(r||n<0)return n;const i=n*t;return i*e/(i+e)}const hc=n=>{var{onStart:e,onStartX:t,onStartY:r,onMove:i,onMoveX:o,onMoveY:a,onEnter:s,onLeave:l,onEnd:c,onEndX:d,onEndY:f,onClickCapture:u,usePointerHover:p,slideThreshold:g=5,useCapture:m=!1,Component:w="div",getRootRef:y,noSlideClick:x=!1,stopPropagation:v=!1}=n,S=J(n,["onStart","onStartX","onStartY","onMove","onMoveX","onMoveY","onEnter","onLeave","onEnd","onEndX","onEndY","onClickCapture","usePointerHover","slideThreshold","useCapture","Component","getRootRef","noSlideClick","stopPropagation"]);const[_]=k.useState(v7),b=k.useRef(null),C=k.useRef(!1),N=k.useRef(null),I=()=>{b.current=null,N.current&&(N.current(),N.current=null)};k.useEffect(()=>I,[]);const E=Mo(H=>{const M=b.current;M&&(M.isPressed&&id(H,M,[c,d,f],v),_?(M.isSlide&&(C.current=!1),l&&l(H)):C.current=!!M.isSlide,I())}),A=Mo(H=>{const M=b.current;if(!M)return;const L=u0(H),j=f0(H),F=L-M.startX,q=j-M.startY,Y=Math.abs(F),K=Math.abs(q);if("touches"in H&&H.touches.length>1)return E(H);if(!M.isX&&!M.isY){const U=Y>=g&&Y>K,X=K>=g&&K>Y,Z=U&&(!!o||!!i),ae=X&&(!!a||!!i);M.isY=X,M.isX=U,M.isSlideX=Z,M.isSlideY=ae,M.isSlide=Z||ae}M.isSlide&&(M.clientX=L,M.clientY=j,M.shiftX=F,M.shiftY=q,M.shiftXAbs=Y,M.shiftYAbs=K,id(H,M,[i,o,a],v))}),T=H=>{const M=H.nativeEvent;b.current=y7(u0(M),f0(M)),id(H,b.current,[e,t,r],v,!1);const j={capture:m,passive:!1};if(_){if(ri(H.target)){const F=H.target;F.addEventListener("touchmove",A,j),F.addEventListener("touchend",E,j),F.addEventListener("touchcancel",E,j),N.current=()=>{F.removeEventListener("touchmove",A,j),F.removeEventListener("touchend",E,j),F.removeEventListener("touchcancel",E,j)}}}else{const F=ar(H.currentTarget).document;F.addEventListener("mousemove",A,j),F.addEventListener("mouseup",E,j),F.addEventListener("mouseleave",E,j),N.current=()=>{F.removeEventListener("mousemove",A,j),F.removeEventListener("mouseup",E,j),F.removeEventListener("mouseleave",E,j)}}},P=s?H=>s(H.nativeEvent):void 0,O=l?H=>l(H.nativeEvent):void 0,D=H=>{const M=H.target;(M.tagName==="A"||M.tagName==="IMG")&&H.preventDefault()},W=H=>{if(!C.current)return u&&u(H);x?(H.stopPropagation(),H.preventDefault()):u&&u(H),C.current=!1};return h.jsx(w,Q(B({},S),{ref:y,onDragStart:D,onClickCapture:W,onPointerEnter:p?P:void 0,onMouseEnter:p?void 0:P,onPointerLeave:p?O:void 0,onMouseLeave:p?void 0:O,onTouchStartCapture:_&&m?T:void 0,onTouchStart:_&&!m?T:void 0,onMouseDownCapture:!_&&m?T:void 0,onMouseDown:!_&&!m?T:void 0}))};function y7(n,e){return{startX:n,startY:e,startT:new Date,duration:0,isPressed:!0,isY:!1,isX:!1,isSlideX:!1,isSlideY:!1,isSlide:!1,clientX:0,clientY:0,shiftX:0,shiftY:0,shiftXAbs:0,shiftYAbs:0}}function id(n,e,[t,r,i],o,a=!0){o&&n.stopPropagation();const s=Q(B({},e),{originalEvent:n,duration:Date.now()-e.startT.getTime()});t&&t(s),r&&(a?e.isSlideX&&r(s):r(s)),i&&(a?e.isSlideY&&i(s):i(s))}var As=new WeakMap;class x7{run(){for(const e of Nn(this,As))e();Rl(this,As,[])}constructor(){$a(this,As,{writable:!0,value:[]}),nt(this,"add",e=>{Nn(this,As).push(e)})}}function b7(){const n=k.useRef(null);return n.current||(n.current=new x7),je(()=>{n.current.run()}),n.current.add}function w7(n){return!n.startsWith("auto")}function _7(n){const e=n.replace(/auto-|auto/,"");return e==="start"||e==="end"?e:null}function S7(n,e,t,r="max-content",i){const o={position:n,top:t,right:"auto",bottom:"auto",left:e};if(r!==null&&(o.width=r),i){const a=i.hide;a&&a.referenceHidden&&(o.visibility="hidden")}return o}function k7(n){if(Array.isArray(n))return n}function C7(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,a,s;try{for(t=t.call(n);!(i=(a=t.next()).done)&&(r.push(a.value),!(e&&r.length===e));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return r}}function E7(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ps(n,e){return k7(n)||C7(n,e)||Zy(n,e)||E7()}function h0(n,e,t){let{reference:r,floating:i}=n;const o=Ri(e),a=Bf(e),s=jf(a),l=ir(e),c=o==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,u=r[s]/2-i[s]/2;let p;switch(l){case"top":p={x:d,y:r.y-i.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-i.width,y:f};break;default:p={x:r.x,y:r.y}}switch(Un(e)){case"start":p[a]-=u*(t&&c?-1:1);break;case"end":p[a]+=u*(t&&c?-1:1);break}return p}const I7=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=t,s=o.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let c=await a.getElementRects({reference:n,floating:e,strategy:i}),{x:d,y:f}=h0(c,r,l),u=r,p={},g=0;for(let m=0;m<s.length;m++){const{name:w,fn:y}=s[m],{x,y:v,data:S,reset:_}=await y({x:d,y:f,initialPlacement:r,placement:u,strategy:i,middlewareData:p,rects:c,platform:a,elements:{reference:n,floating:e}});d=x!=null?x:d,f=v!=null?v:f,p={...p,[w]:{...p[w],...S}},_&&g<=50&&(g++,typeof _=="object"&&(_.placement&&(u=_.placement),_.rects&&(c=_.rects===!0?await a.getElementRects({reference:n,floating:e,strategy:i}):_.rects),{x:d,y:f}=h0(c,u,l)),m=-1)}return{x:d,y:f,placement:u,strategy:i,middlewareData:p}};async function Ao(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:a,elements:s,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:u=!1,padding:p=0}=ci(e,n),g=$g(p),w=s[u?f==="floating"?"reference":"floating":f],y=Ua(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(w)))==null||t?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(s.floating)),boundary:c,rootBoundary:d,strategy:l})),x=f==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,v=await(o.getOffsetParent==null?void 0:o.getOffsetParent(s.floating)),S=await(o.isElement==null?void 0:o.isElement(v))?await(o.getScale==null?void 0:o.getScale(v))||{x:1,y:1}:{x:1,y:1},_=Ua(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:x,offsetParent:v,strategy:l}):x);return{top:(y.top-_.top+g.top)/S.y,bottom:(_.bottom-y.bottom+g.bottom)/S.y,left:(y.left-_.left+g.left)/S.x,right:(_.right-y.right+g.right)/S.x}}const N7=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:o,platform:a,elements:s,middlewareData:l}=e,{element:c,padding:d=0}=ci(n,e)||{};if(c==null)return{};const f=$g(d),u={x:t,y:r},p=Bf(i),g=jf(p),m=await a.getDimensions(c),w=p==="y",y=w?"top":"left",x=w?"bottom":"right",v=w?"clientHeight":"clientWidth",S=o.reference[g]+o.reference[p]-u[p]-o.floating[g],_=u[p]-o.reference[p],b=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let C=b?b[v]:0;(!C||!await(a.isElement==null?void 0:a.isElement(b)))&&(C=s.floating[v]||o.floating[g]);const N=S/2-_/2,I=C/2-m[g]/2-1,E=ni(f[y],I),A=ni(f[x],I),T=E,P=C-m[g]-A,O=C/2-m[g]/2+N,D=bu(T,O,P),W=!l.arrow&&Un(i)!=null&&O!==D&&o.reference[g]/2-(O<T?E:A)-m[g]/2<0,H=W?O<T?O-T:O-P:0;return{[p]:u[p]+H,data:{[p]:D,centerOffset:O-D-H,...W&&{alignmentOffset:H}},reset:W}}});function M7(n,e,t){return(n?[...t.filter(i=>Un(i)===n),...t.filter(i=>Un(i)!==n)]:t.filter(i=>ir(i)===i)).filter(i=>n?Un(i)===n||(e?Al(i)!==i:!1):!0)}const A7=function(n){return n===void 0&&(n={}),{name:"autoPlacement",options:n,async fn(e){var t,r,i;const{rects:o,middlewareData:a,placement:s,platform:l,elements:c}=e,{crossAxis:d=!1,alignment:f,allowedPlacements:u=Vh,autoAlignment:p=!0,...g}=ci(n,e),m=f!==void 0||u===Vh?M7(f||null,p,u):u,w=await Ao(e,g),y=((t=a.autoPlacement)==null?void 0:t.index)||0,x=m[y];if(x==null)return{};const v=Vg(x,o,await(l.isRTL==null?void 0:l.isRTL(c.floating)));if(s!==x)return{reset:{placement:m[0]}};const S=[w[ir(x)],w[v[0]],w[v[1]]],_=[...((r=a.autoPlacement)==null?void 0:r.overflows)||[],{placement:x,overflows:S}],b=m[y+1];if(b)return{data:{index:y+1,overflows:_},reset:{placement:b}};const C=_.map(E=>{const A=Un(E.placement);return[E.placement,A&&d?E.overflows.slice(0,2).reduce((T,P)=>T+P,0):E.overflows[0],E.overflows]}).sort((E,A)=>E[1]-A[1]),I=((i=C.filter(E=>E[2].slice(0,Un(E[0])?2:3).every(A=>A<=0))[0])==null?void 0:i[0])||C[0][0];return I!==s?{data:{index:y+1,overflows:_},reset:{placement:I}}:{}}}},P7=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:o,rects:a,initialPlacement:s,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:u,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...w}=ci(n,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const y=ir(i),x=Ri(s),v=ir(s)===s,S=await(l.isRTL==null?void 0:l.isRTL(c.floating)),_=u||(v||!m?[Pl(s)]:p4(s)),b=g!=="none";!u&&b&&_.push(...m4(s,m,g,S));const C=[s,..._],N=await Ao(e,w),I=[];let E=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&I.push(N[y]),f){const O=Vg(i,a,S);I.push(N[O[0]],N[O[1]])}if(E=[...E,{placement:i,overflows:I}],!I.every(O=>O<=0)){var A,T;const O=(((A=o.flip)==null?void 0:A.index)||0)+1,D=C[O];if(D)return{data:{index:O,overflows:E},reset:{placement:D}};let W=(T=E.filter(H=>H.overflows[0]<=0).sort((H,M)=>H.overflows[1]-M.overflows[1])[0])==null?void 0:T.placement;if(!W)switch(p){case"bestFit":{var P;const H=(P=E.filter(M=>{if(b){const L=Ri(M.placement);return L===x||L==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(L=>L>0).reduce((L,j)=>L+j,0)]).sort((M,L)=>M[1]-L[1])[0])==null?void 0:P[0];H&&(W=H);break}case"initialPlacement":W=s;break}if(i!==W)return{reset:{placement:W}}}return{}}}};function m0(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function g0(n){return Hg.some(e=>n[e]>=0)}const L7=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=ci(n,e);switch(r){case"referenceHidden":{const o=await Ao(e,{...i,elementContext:"reference"}),a=m0(o,t.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:g0(a)}}}case"escaped":{const o=await Ao(e,{...i,altBoundary:!0}),a=m0(o,t.floating);return{data:{escapedOffsets:a,escaped:g0(a)}}}default:return{}}}}};async function T7(n,e){const{placement:t,platform:r,elements:i}=n,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=ir(t),s=Un(t),l=Ri(t)==="y",c=["left","top"].includes(a)?-1:1,d=o&&l?-1:1,f=ci(e,n);let{mainAxis:u,crossAxis:p,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return s&&typeof g=="number"&&(p=s==="end"?g*-1:g),l?{x:p*d,y:u*c}:{x:u*c,y:p*d}}const R7=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:o,placement:a,middlewareData:s}=e,l=await T7(e,n);return a===((t=s.offset)==null?void 0:t.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:a}}}}},O7=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:a=!1,limiter:s={fn:w=>{let{x:y,y:x}=w;return{x:y,y:x}}},...l}=ci(n,e),c={x:t,y:r},d=await Ao(e,l),f=Ri(ir(i)),u=Ug(f);let p=c[u],g=c[f];if(o){const w=u==="y"?"top":"left",y=u==="y"?"bottom":"right",x=p+d[w],v=p-d[y];p=bu(x,p,v)}if(a){const w=f==="y"?"top":"left",y=f==="y"?"bottom":"right",x=g+d[w],v=g-d[y];g=bu(x,g,v)}const m=s.fn({...e,[u]:p,[f]:g});return{...m,data:{x:m.x-t,y:m.y-r,enabled:{[u]:o,[f]:a}}}}}},j7=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:o,platform:a,elements:s}=e,{apply:l=()=>{},...c}=ci(n,e),d=await Ao(e,c),f=ir(i),u=Un(i),p=Ri(i)==="y",{width:g,height:m}=o.floating;let w,y;f==="top"||f==="bottom"?(w=f,y=u===(await(a.isRTL==null?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(y=f,w=u==="end"?"top":"bottom");const x=m-d.top-d.bottom,v=g-d.left-d.right,S=ni(m-d[w],x),_=ni(g-d[y],v),b=!e.middlewareData.shift;let C=S,N=_;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(N=v),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=x),b&&!u){const E=gn(d.left,0),A=gn(d.right,0),T=gn(d.top,0),P=gn(d.bottom,0);p?N=g-2*(E!==0||A!==0?E+A:gn(d.left,d.right)):C=m-2*(T!==0||P!==0?T+P:gn(d.top,d.bottom))}await l({...e,availableWidth:N,availableHeight:C});const I=await a.getDimensions(s.floating);return g!==I.width||m!==I.height?{reset:{rects:!0}}:{}}}};function mc(){return typeof window<"u"}function Fo(n){return Pv(n)?(n.nodeName||"").toLowerCase():"#document"}function xn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function lr(n){var e;return(e=(Pv(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function Pv(n){return mc()?n instanceof Node||n instanceof xn(n).Node:!1}function $n(n){return mc()?n instanceof Element||n instanceof xn(n).Element:!1}function or(n){return mc()?n instanceof HTMLElement||n instanceof xn(n).HTMLElement:!1}function v0(n){return!mc()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof xn(n).ShadowRoot}function ns(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=Wn(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function B7(n){return["table","td","th"].includes(Fo(n))}function gc(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch(t){return!1}})}function Xf(n){const e=Gf(),t=$n(n)?Wn(n):n;return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function D7(n){let e=ii(n);for(;or(e)&&!Po(e);){if(Xf(e))return e;if(gc(e))return null;e=ii(e)}return null}function Gf(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Po(n){return["html","body","#document"].includes(Fo(n))}function Wn(n){return xn(n).getComputedStyle(n)}function vc(n){return $n(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function ii(n){if(Fo(n)==="html")return n;const e=n.assignedSlot||n.parentNode||v0(n)&&n.host||lr(n);return v0(e)?e.host:e}function Lv(n){const e=ii(n);return Po(e)?n.ownerDocument?n.ownerDocument.body:n.body:or(e)&&ns(e)?e:Lv(e)}function Lo(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=Lv(n),o=i===((r=n.ownerDocument)==null?void 0:r.body),a=xn(i);if(o){const s=Iu(a);return e.concat(a,a.visualViewport||[],ns(i)?i:[],s&&t?Lo(s):[])}return e.concat(i,Lo(i,[],t))}function Iu(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function Tv(n){const e=Wn(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=or(n),o=i?n.offsetWidth:t,a=i?n.offsetHeight:r,s=Ml(t)!==o||Ml(r)!==a;return s&&(t=o,r=a),{width:t,height:r,$:s}}function Kf(n){return $n(n)?n:n.contextElement}function xo(n){const e=Kf(n);if(!or(e))return rr(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:o}=Tv(e);let a=(o?Ml(t.width):t.width)/r,s=(o?Ml(t.height):t.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}const z7=rr(0);function Rv(n){const e=xn(n);return!Gf()||!e.visualViewport?z7:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function F7(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==xn(n)?!1:e}function Bi(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),o=Kf(n);let a=rr(1);e&&(r?$n(r)&&(a=xo(r)):a=xo(n));const s=F7(o,t,r)?Rv(o):rr(0);let l=(i.left+s.x)/a.x,c=(i.top+s.y)/a.y,d=i.width/a.x,f=i.height/a.y;if(o){const u=xn(o),p=r&&$n(r)?xn(r):r;let g=u,m=Iu(g);for(;m&&r&&p!==g;){const w=xo(m),y=m.getBoundingClientRect(),x=Wn(m),v=y.left+(m.clientLeft+parseFloat(x.paddingLeft))*w.x,S=y.top+(m.clientTop+parseFloat(x.paddingTop))*w.y;l*=w.x,c*=w.y,d*=w.x,f*=w.y,l+=v,c+=S,g=xn(m),m=Iu(g)}}return Ua({width:d,height:f,x:l,y:c})}function qf(n,e){const t=vc(n).scrollLeft;return e?e.left+t:Bi(lr(n)).left+t}function Ov(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),i=r.left+e.scrollLeft-(t?0:qf(n,r)),o=r.top+e.scrollTop;return{x:i,y:o}}function H7(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const o=i==="fixed",a=lr(r),s=e?gc(e.floating):!1;if(r===a||s&&o)return t;let l={scrollLeft:0,scrollTop:0},c=rr(1);const d=rr(0),f=or(r);if((f||!f&&!o)&&((Fo(r)!=="body"||ns(a))&&(l=vc(r)),or(r))){const p=Bi(r);c=xo(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const u=a&&!f&&!o?Ov(a,l,!0):rr(0);return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+d.x+u.x,y:t.y*c.y-l.scrollTop*c.y+d.y+u.y}}function U7(n){return Array.from(n.getClientRects())}function V7(n){const e=lr(n),t=vc(n),r=n.ownerDocument.body,i=gn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=gn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-t.scrollLeft+qf(n);const s=-t.scrollTop;return Wn(r).direction==="rtl"&&(a+=gn(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:s}}function $7(n,e){const t=xn(n),r=lr(n),i=t.visualViewport;let o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;const c=Gf();(!c||c&&e==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s,y:l}}function W7(n,e){const t=Bi(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,o=or(n)?xo(n):rr(1),a=n.clientWidth*o.x,s=n.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:a,height:s,x:l,y:c}}function y0(n,e,t){let r;if(e==="viewport")r=$7(n,t);else if(e==="document")r=V7(lr(n));else if($n(e))r=W7(e,t);else{const i=Rv(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Ua(r)}function jv(n,e){const t=ii(n);return t===e||!$n(t)||Po(t)?!1:Wn(t).position==="fixed"||jv(t,e)}function Y7(n,e){const t=e.get(n);if(t)return t;let r=Lo(n,[],!1).filter(s=>$n(s)&&Fo(s)!=="body"),i=null;const o=Wn(n).position==="fixed";let a=o?ii(n):n;for(;$n(a)&&!Po(a);){const s=Wn(a),l=Xf(a);!l&&s.position==="fixed"&&(i=null),(o?!l&&!i:!l&&s.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||ns(a)&&!l&&jv(n,a))?r=r.filter(d=>d!==a):i=s,a=ii(a)}return e.set(n,r),r}function X7(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const a=[...t==="clippingAncestors"?gc(e)?[]:Y7(e,this._c):[].concat(t),r],s=a[0],l=a.reduce((c,d)=>{const f=y0(e,d,i);return c.top=gn(f.top,c.top),c.right=ni(f.right,c.right),c.bottom=ni(f.bottom,c.bottom),c.left=gn(f.left,c.left),c},y0(e,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function G7(n){const{width:e,height:t}=Tv(n);return{width:e,height:t}}function K7(n,e,t){const r=or(e),i=lr(e),o=t==="fixed",a=Bi(n,!0,o,e);let s={scrollLeft:0,scrollTop:0};const l=rr(0);if(r||!r&&!o)if((Fo(e)!=="body"||ns(i))&&(s=vc(e)),r){const u=Bi(e,!0,o,e);l.x=u.x+e.clientLeft,l.y=u.y+e.clientTop}else i&&(l.x=qf(i));const c=i&&!r&&!o?Ov(i,s):rr(0),d=a.left+s.scrollLeft-l.x-c.x,f=a.top+s.scrollTop-l.y-c.y;return{x:d,y:f,width:a.width,height:a.height}}function od(n){return Wn(n).position==="static"}function x0(n,e){if(!or(n)||Wn(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return lr(n)===t&&(t=t.ownerDocument.body),t}function Bv(n,e){const t=xn(n);if(gc(n))return t;if(!or(n)){let i=ii(n);for(;i&&!Po(i);){if($n(i)&&!od(i))return i;i=ii(i)}return t}let r=x0(n,e);for(;r&&B7(r)&&od(r);)r=x0(r,e);return r&&Po(r)&&od(r)&&!Xf(r)?t:r||D7(n)||t}const q7=async function(n){const e=this.getOffsetParent||Bv,t=this.getDimensions,r=await t(n.floating);return{reference:K7(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Q7(n){return Wn(n).direction==="rtl"}const J7={convertOffsetParentRelativeRectToViewportRelativeRect:H7,getDocumentElement:lr,getClippingRect:X7,getOffsetParent:Bv,getElementRects:q7,getClientRects:U7,getDimensions:G7,getScale:xo,isElement:$n,isRTL:Q7};function Z7(n,e){let t=null,r;const i=lr(n);function o(){var s;clearTimeout(r),(s=t)==null||s.disconnect(),t=null}function a(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),o();const{left:c,top:d,width:f,height:u}=n.getBoundingClientRect();if(s||e(),!f||!u)return;const p=Ns(d),g=Ns(i.clientWidth-(c+f)),m=Ns(i.clientHeight-(d+u)),w=Ns(c),x={rootMargin:-p+"px "+-g+"px "+-m+"px "+-w+"px",threshold:gn(0,ni(1,l))||1};let v=!0;function S(_){const b=_[0].intersectionRatio;if(b!==l){if(!v)return a();b?a(!1,b):r=setTimeout(()=>{a(!1,1e-7)},1e3)}v=!1}try{t=new IntersectionObserver(S,{...x,root:i.ownerDocument})}catch(_){t=new IntersectionObserver(S,x)}t.observe(n)}return a(!0),o}function eb(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Kf(n),d=i||o?[...c?Lo(c):[],...Lo(e)]:[];d.forEach(y=>{i&&y.addEventListener("scroll",t,{passive:!0}),o&&y.addEventListener("resize",t)});const f=c&&s?Z7(c,t):null;let u=-1,p=null;a&&(p=new ResizeObserver(y=>{let[x]=y;x&&x.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(u),u=requestAnimationFrame(()=>{var v;(v=p)==null||v.observe(e)})),t()}),c&&!l&&p.observe(c),p.observe(e));let g,m=l?Bi(n):null;l&&w();function w(){const y=Bi(n);m&&(y.x!==m.x||y.y!==m.y||y.width!==m.width||y.height!==m.height)&&t(),m=y,g=requestAnimationFrame(w)}return t(),()=>{var y;d.forEach(x=>{i&&x.removeEventListener("scroll",t),o&&x.removeEventListener("resize",t)}),f==null||f(),(y=p)==null||y.disconnect(),p=null,l&&cancelAnimationFrame(g)}}const tb=R7,nb=A7,rb=O7,ib=P7,ob=j7,ab=L7,b0=N7,sb=(n,e,t)=>{const r=new Map,i={platform:J7,...t},o={...i.platform,_c:r};return I7(n,e,{...i,platform:o})};var el=typeof document<"u"?k.useLayoutEffect:k.useEffect;function Bl(n,e){if(n===e)return!0;if((typeof n>"u"?"undefined":Js(n))!==(typeof e>"u"?"undefined":Js(e)))return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;var t,r,i;if(n&&e&&(typeof n>"u"?"undefined":Js(n))==="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Bl(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){var o=i[r];if(!(o==="_owner"&&n.$$typeof)&&!Bl(n[o],e[o]))return!1}return!0}return n!==n&&e!==e}function Dv(n){if(typeof window>"u")return 1;var e=n.ownerDocument.defaultView||window;return e.devicePixelRatio||1}function w0(n,e){var t=Dv(n);return Math.round(e*t)/t}function ad(n){var e=k.useRef(n);return el(function(){e.current=n}),e}function lb(n){n===void 0&&(n={});var e=n.placement,t=e===void 0?"bottom":e,r=n.strategy,i=r===void 0?"absolute":r,o=n.middleware,a=o===void 0?[]:o,s=n.platform,l=n.elements,c=l===void 0?{}:l,d=c.reference,f=c.floating,u=n.transform,p=u===void 0?!0:u,g=n.whileElementsMounted,m=n.open,w=Ps(k.useState({x:0,y:0,strategy:i,placement:t,middlewareData:{},isPositioned:!1}),2),y=w[0],x=w[1],v=Ps(k.useState(a),2),S=v[0],_=v[1];Bl(S,a)||_(a);var b=Ps(k.useState(null),2),C=b[0],N=b[1],I=Ps(k.useState(null),2),E=I[0],A=I[1],T=k.useCallback(function(ae){ae!==W.current&&(W.current=ae,N(ae))},[]),P=k.useCallback(function(ae){ae!==H.current&&(H.current=ae,A(ae))},[]),O=d||C,D=f||E,W=k.useRef(null),H=k.useRef(null),M=k.useRef(y),L=g!=null,j=ad(g),F=ad(s),q=ad(m),Y=k.useCallback(function(){if(!(!W.current||!H.current)){var ae={placement:t,strategy:i,middleware:S};F.current&&(ae.platform=F.current),sb(W.current,H.current,ae).then(function(Ee){var Oe=Q(B({},Ee),{isPositioned:q.current!==!1});K.current&&!Bl(M.current,Oe)&&(M.current=Oe,Lf.flushSync(function(){x(Oe)}))})}},[S,t,i,F,q]);el(function(){m===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,x(function(ae){return Q(B({},ae),{isPositioned:!1})}))},[m]);var K=k.useRef(!1);el(function(){return K.current=!0,function(){K.current=!1}},[]),el(function(){if(O&&(W.current=O),D&&(H.current=D),O&&D){if(j.current)return j.current(O,D,Y);Y()}},[O,D,Y,j,L]);var U=k.useMemo(function(){return{reference:W,floating:H,setReference:T,setFloating:P}},[T,P]),X=k.useMemo(function(){return{reference:O,floating:D}},[O,D]),Z=k.useMemo(function(){var ae={position:i,left:0,top:0};if(!X.floating)return ae;var Ee=w0(X.floating,y.x),Oe=w0(X.floating,y.y);return p?B(Q(B({},ae),{transform:"translate("+Ee+"px, "+Oe+"px)"}),Dv(X.floating)>=1.5&&{willChange:"transform"}):{position:i,left:Ee,top:Oe}},[i,p,X.floating,y.x,y.y]);return k.useMemo(function(){return Q(B({},y),{update:Y,refs:U,elements:X,floatingStyles:Z})},[y,Y,U,X,Z])}var cb=function(n){var e=function(r){return{}.hasOwnProperty.call(r,"current")};return{name:"arrow",options:n,fn:function(r){var i=typeof n=="function"?n(r):n,o=i.element,a=i.padding;return o&&e(o)?o.current!=null?b0({element:o.current,padding:a}).fn(r):{}:o?b0({element:o,padding:a}).fn(r):{}}}},db=function(n,e){return Q(B({},tb(n)),{options:[n,e]})},ub=function(n,e){return Q(B({},rb(n)),{options:[n,e]})},fb=function(n,e){return Q(B({},ib(n)),{options:[n,e]})},pb=function(n,e){return Q(B({},ob(n)),{options:[n,e]})},hb=function(n,e){return Q(B({},nb(n)),{options:[n,e]})},mb=function(n,e){return Q(B({},ab(n)),{options:[n,e]})},gb=function(n,e){return Q(B({},cb(n)),{options:[n,e]})};const vb={ancestorScroll:!0,ancestorResize:!0,elementResize:!1,animationFrame:!1};function yb(n,e,t,r=vb){const{elementResize:i=!1}=r,o=J(r,["elementResize"]),a=window.ResizeObserver!==void 0,s=eb(n,e,t,Q(B({},o),{elementResize:i&&a}));let l=null;return i&&!a&&(l=new vv(t),ri(n)&&l.observe(n),l.observe(e),l.appendToTheDOM()),()=>{l&&(l.disconnect(),l=null),s()}}const xb=({placement:n="bottom-start",arrowRef:e=null,arrow:t,arrowHeight:r,arrowPadding:i,sameWidth:o,offsetByMainAxis:a=0,offsetByCrossAxis:s=0,customMiddlewares:l,hideWhenReferenceHidden:c,disableFlipMiddleware:d=!1})=>k.useMemo(()=>{const f=!w7(n),u=[db({crossAxis:s,mainAxis:t&&r?a+r:a})];return f?u.push(hb({alignment:_7(n)})):d||u.push(fb({fallbackAxisSideDirection:"start"})),u.push(ub()),o&&u.push(pb({apply({rects:p,elements:g}){Object.assign(g.floating.style,{width:"".concat(p.reference.width,"px")})}})),l&&u.push(...l),t&&u.push(gb({element:e,padding:i})),c&&u.push(mb()),{middlewares:u,strictPlacement:f?void 0:n}},[s,e,t,r,i,a,o,l,n,c,d]);function bb(n,e,t){const r=pr(e);je(()=>{if(!t)return;(r===void 0&&n!==e||r!==void 0&&r!==e)&&t(e)},[r,n,e,t])}const wb="input, textarea, [data-vkui-swipe-back=false]";function _b(n){var e;const t=n.originalEvent.target;return!!(!(t==null||(e=t.closest)===null||e===void 0)&&e.call(t,wb))}function Sb(n){return Lo(n).some(e=>"scrollLeft"in e?e.scrollLeft>0:!1)}const _0=20,kb=10,S0=(n,e,t)=>{const r=e<0,i=e>=kb,o=n<=_0,a=n>=t-_0;return{swipedToOpposite:r,swipeBackTriggered:i,viewportStartEdgeTouched:o,viewportEndEdgeTouched:a}};let k0={};const Cb=n=>{var{activePanel:e,history:t,nav:r,onTransition:i,onSwipeBack:o,onSwipeBackStart:a,onSwipeBackCancel:s,children:l,className:c}=n,d=J(n,["activePanel","history","nav","onTransition","onSwipeBack","onSwipeBackStart","onSwipeBackCancel","children","className"]);const f=br({nav:r,id:d.id}),u=k.useRef(k0[f]||{}),p=b7();k.useEffect(()=>()=>{f&&(k0[f]=u.current)});const g=k.useRef({}),{window:m,document:w}=Tt(),y=tv(),x=Nr(),v=Wx(),S=De(),[_,b]=k.useState(!1),[C,N]=k.useState([e]),[I,E]=k.useState(e),[A,T]=k.useState(void 0),[P,O]=k.useState(null),[D,W]=k.useState(null),H=k.useRef(!1),[M,L]=k.useState(void 0),[j,F]=k.useState(0),[q,Y]=k.useState(0),[K,U]=k.useState(null),[X,Z]=k.useState(null),[ae,Ee]=k.useState(null),[Oe,Le]=k.useState(!1),Ie=pr(e),ct=pr(M),Te=pr(Oe),Ne=pr(ae),ze=pr(q),xt=pr(X),Rt=pr(i),un=k.Children.toArray(l).filter(re=>{const fe=br(re.props);return fe!==void 0&&C.includes(fe)||fe===X||fe===K}),ve=!x.transitionMotionEnabled||!v.animate||S==="vkcom",we=!ve&&S==="ios"&&x.isWebView&&!!o,Ye=k.useCallback((re,fe)=>{fe&&(u.current[re]=0),O(null),W(null),N([e]),E(e),b(!1),T(fe),p(()=>{y==null||y.scrollTo(0,fe?u.current[e]:0),i&&i({isBack:fe,from:re,to:e})})},[e,p,i,y]),he=()=>{P!==null&&Ye(P,!!A)},dt=k.useCallback(()=>{o&&o()},[o]),mt=k.useCallback(()=>{s&&s(),Z(null),U(null),L(!1),Ee(null),F(0),Y(0)},[s]),Cn=k.useCallback(()=>{switch(ae){case"fail":mt();break;case"success":dt()}},[mt,dt,ae]),bt=re=>{if(Oe)return;const{swipeBackTriggered:fe,viewportStartEdgeTouched:He,viewportEndEdgeTouched:Qe}=S0(re.startX,re.shiftX,m.innerWidth);(He||Qe)&&fe&&Le(!0)},Re=re=>{if(H.current||_b(re))return;const{swipedToOpposite:fe,swipeBackTriggered:He,viewportStartEdgeTouched:Qe}=S0(re.startX,re.shiftX,m.innerWidth);if(!(_&&He)){if(!M&&t&&t.length>1){if(fe){H.current=!0;return}if(!He)return;if(!Qe&&Sb(re.originalEvent.target)){H.current=!0;return}if(a&&a(I)==="prevent"){H.current=!0;return}I!==null&&(Wh(w),u.current[I]=y==null?void 0:y.getScroll().y),L(!0),F(re.startX),Z(I),U(t.slice(-2)[0])}M&&(re.shiftX<0?Y(0):re.shiftX>m.innerWidth-j?Y(m.innerWidth):Y(re.shiftX))}},We=re=>{if(H.current=!1,M){const He=q/re.duration*1e3;var fe;q===0?mt():q>=((fe=m.innerWidth)!==null&&fe!==void 0?fe:0)?dt():He>250||q>=m.innerWidth/2?Ee("success"):Ee("fail")}},Ct=(re,fe)=>!re&&!fe||ae?{}:fe?m?{transform:"translate3d(".concat(-50+q*100/m.innerWidth/2,"%, 0, 0)")}:{}:re?{transform:"translate3d(".concat(q,"px, 0, 0)")}:{},Fe=re=>{if(!m||!re)return{};const fe=ae==="success"?0:ae==="fail"?1:null;return{display:"block",opacity:fe===null?1-q/m.innerWidth:fe}},wt=re=>{re.propertyName.includes("transform")&&Cn()};return k.useEffect(()=>{if(Ie&&Ie!==e&&!ct&&!Te){const fe=k.Children.toArray(l).map(He=>br(He.props)).find(He=>He===Ie||He===e)===e;u.current[Ie]=y==null?void 0:y.getScroll({compensateKeyboardHeight:!1}).y,ve?Ye(Ie,fe):(Wh(w),N([Ie,e]),O(Ie),W(e),E(null),b(!0),T(fe))}if(Ie&&Ie!==e&&ct){const re=e,fe=Ie;xt&&(u.current[xt]=0),Z(null),U(null),L(!1),Ee(null),F(0),Y(0),E(re),N([re]),T(!0),p(()=>{re!==null&&(y==null||y.scrollTo(0,u.current[re])),Rt&&Rt({isBack:!0,from:fe,to:re})})}Ie!==e&&Oe&&(Le(!1),W(null),O(null),b(!1),N([e]),E(e))},[e,I,Oe,l,ve,w,Ye,Ie,Te,Rt,xt,Ne,ct,y,K,ae,p]),k.useEffect(function(){(Ne==="fail"&&!ae||ct&&!M&&ze===0)&&I!==null&&(y==null||y.scrollTo(0,u.current[I]))},[Ne,ae,ct,M,ze,I,y]),h.jsx(m7.Provider,{value:f,children:h.jsx(hc,Q(B({Component:"section"},d),{className:$("vkuiView",S==="ios"&&$("vkuiView--ios","vkuiInternalView--ios"),!ve&&_&&"vkuiView--animated",!ve&&M&&"vkuiView--swiping-back",ve&&"vkuiView--no-motion",c),onMoveX:we?Re:S==="ios"?bt:void 0,onEnd:we?We:void 0,children:h.jsx("div",{className:"vkuiView__panels",children:un.map(re=>{const fe=br(re.props),He=fe===I,Qe=fe===P,_t=fe===D,Dt=_&&(A?Qe:_t),$t=fe===X,rn=fe===K,Xn=ae&&$t;let gt;if(Qe||_t&&A||$t||rn){const Qt=u.current[fe];Qt!==void 0&&(gt={marginTop:-1*Qt})}return h.jsxs("div",{className:$("vkuiView__panel",He&&"vkuiView__panel--active",Qe&&"vkuiView__panel--prev",_t&&"vkuiView__panel--next",$t&&"vkuiView__panel--swipe-back-prev",rn&&"vkuiView__panel--swipe-back-next",ae==="success"&&"vkuiView__panel--swipe-back-success",ae==="fail"&&"vkuiView__panel--swipe-back-failed"),onTransitionEnd:Xn?wt:void 0,onAnimationEnd:Dt?he:void 0,ref:Qt=>fe!==void 0&&(g.current[fe]=Qt),style:Ct($t,rn),children:[S==="ios"&&h.jsx("div",{className:"vkuiView__panel-overlay",style:Fe(rn)}),h.jsx("div",{className:"vkuiView__panel-in",style:gt,children:h.jsx(h7,{isBack:M||A,children:h.jsx(p7,{entering:fe===D||fe===K,children:re})})})]},fe)})})}))})},Eb={none:"vkuiPanel--sizeX-none",compact:"vkuiPanel--sizeX-compact",regular:"vkuiPanel--sizeX-regular"},Ib={none:"vkuiPanel--mode-none",plain:"vkuiPanel--mode-plain",card:"vkuiPanel--mode-card"},Qf=n=>{var{centered:e=!1,children:t,nav:r,mode:i,disableBackground:o}=n,a=J(n,["centered","children","nav","mode","disableBackground"]);const{sizeX:s="none"}=$e(),l=Nb(i,s);return h.jsx(g7.Provider,{value:a.id||r,children:h.jsx(Ce,Q(B({},a),{baseClassName:$("vkuiPanel",Eb[s],e&&"vkuiInternalPanel--centered",o&&"vkuiPanel--disableBackground",Ib[l]),children:h.jsxs(hc,{Component:cc,className:$("vkuiPanel__in","vkuiInternalPanel__in"),children:[h.jsx("div",{className:"vkuiPanel__in-before"}),e?h.jsx("div",{className:"vkuiPanel__centered",children:t}):t,h.jsx("div",{className:"vkuiPanel__in-after"})]})}))})};function Nb(n,e){const{layout:t}=k.useContext(es);return n||t||(e!=="none"?e==="regular"?"card":"plain":"none")}const sd={ios:"vkuiPanelHeaderButton--ios",android:"vkuiPanelHeaderButton--android",vkcom:"vkuiPanelHeaderButton--vkcom"},C0=({primary:n,children:e})=>{const t=De();return t==="ios"?h.jsx(ki,{Component:"span",level:"3",weight:n?"1":"3",children:e}):h.jsx(zo,{weight:t==="vkcom"?void 0:"2",children:e})},Mb=n=>{var{children:e,primary:t=!1,label:r,className:i}=n,o=J(n,["children","primary","label","className"]);const a=xu(e),s=xu(r),l=De();let c,d;switch(l){case"ios":c="background",d="opacity";break;case"vkcom":c="vkuiPanelHeaderButton--hover",d="vkuiPanelHeaderButton--active";break;default:c="background",d="background"}return h.jsxs(sr,Q(B({Component:o.href?"a":"button"},o),{hoverMode:c,activeEffectDelay:200,activeMode:d,className:$("vkuiPanelHeaderButton",sd.hasOwnProperty(l)?sd[l]:sd.android,a&&"vkuiPanelHeaderButton--primitive",!a&&!s&&"vkuiPanelHeaderButton--notPrimitive",i),children:[a?h.jsx(C0,{primary:t,children:e}):e,s?h.jsx(C0,{primary:t,className:"vkuiPanelHeaderButton__label",children:r}):r]}))},oi=k.createContext({updateModalHeight:()=>{},registerModal:()=>{},isInsideModal:!1});function zv(n,e){const t=k.useContext(oi),r=k.useRef({}).current;return je(()=>{if(n!==void 0){t.registerModal(Q(B({},r),{type:e,id:n}));const o=Object.keys(r).reduce((a,s)=>Q(B({},a),{[s]:null}),{type:e,id:n});return()=>t.registerModal(o)}},[]),{refs:k.useRef({modalElement:o=>r.modalElement=o,innerElement:o=>r.innerElement=o,headerElement:o=>r.headerElement=o,contentElement:o=>r.contentElement=o,bottomInset:o=>r.bottomInset=o}).current}}const Ab={primary:"vkuiSeparator--mode-primary",secondary:"vkuiSeparator--mode-secondary","primary-alpha":"vkuiSeparator--mode-primaryAlpha"},Dl=n=>{var{wide:e,mode:t="primary"}=n,r=J(n,["wide","mode"]);return h.jsx(Ce,Q(B({},r),{baseClassName:$(!e&&"vkuiSeparator--padded",Ab[t]),children:h.jsx("hr",{className:"vkuiSeparator__in"})}))},Pb="--vkui_internal--Spacing_gap",Lb={"3xs":"vkuiSpacing--3xs","2xs":"vkuiSpacing--2xs",xs:"vkuiSpacing--xs",s:"vkuiSpacing--s",m:"vkuiSpacing--m",l:"vkuiSpacing--l",xl:"vkuiSpacing--xl","2xl":"vkuiSpacing--2xl","3xl":"vkuiSpacing--3xl","4xl":"vkuiSpacing--4xl"},Fv=n=>{var{size:e="m",style:t}=n,r=J(n,["size","style"]);return h.jsx(Ce,Q(B({},r),{style:B({},typeof e=="number"&&{[Pb]:"".concat(e,"px")},t),baseClassName:$("vkuiSpacing",typeof e=="string"&&Lb[e])}))},ld={ios:"vkuiPanelHeader--ios",android:"vkuiPanelHeader--android",vkcom:$("vkuiPanelHeader--vkcom","vkuiInternalPanelHeader--vkcom")},Tb={none:"vkuiPanelHeader--sizeX-none",regular:"vkuiPanelHeader--sizeX-regular"},Rb={none:"vkuiPanelHeader--sizeY-none",compact:"vkuiPanelHeader--sizeY-compact"},E0=({before:n,after:e,children:t,typographyProps:r={}})=>{const{Component:i="span"}=r,o=J(r,["Component"]),{hasCustomPanelHeaderAfter:a,customPanelHeaderAfterMinWidth:s}=Nr(),{isInsideModal:l}=k.useContext(oi),c=De(),d=!a||l?{children:e}:{style:{minWidth:s}},f=c==="vkcom"?h.jsx(zo,Q(B({weight:"2",Component:i},o),{children:t})):h.jsx(i,Q(B({className:"vkuiPanelHeader__content-in"},o),{children:t}));return h.jsxs(cc,{fixed:!0,className:"vkuiPanelHeader__in",children:[h.jsx("div",{className:$("vkuiPanelHeader__before","vkuiInternalPanelHeader__before"),children:n}),h.jsx("div",{className:"vkuiPanelHeader__content",children:f}),h.jsx("div",B({className:$("vkuiPanelHeader__after","vkuiInternalPanelHeader__after")},d))]})},Jf=n=>{var{before:e,children:t,after:r,float:i=!1,transparent:o=!1,delimiter:a="auto",shadow:s,getRef:l,getRootRef:c,fixed:d,typographyProps:f}=n,u=J(n,["before","children","after","float","transparent","delimiter","shadow","getRef","getRootRef","fixed","typographyProps"]);const p=De(),{sizeX:g="none",sizeY:m="none"}=$e(),{sizeX:w}=pc(),y=p==="vkcom",x=d!==void 0?d:!y,v=a==="auto"||a==="separator",S=!i&&v,_=!i&&(a==="auto"||a==="spacing");return h.jsxs(Ce,Q(B({},u),{baseClassName:$("vkuiPanelHeader","vkuiInternalPanelHeader",ld.hasOwnProperty(p)?ld[p]:ld.android,o&&"vkuiPanelHeader--trnsp",s&&"vkuiPanelHeader--shadow",!i&&$("vkuiPanelHeader--static","vkuiInternalPanelHeader--static"),S&&$("vkuiPanelHeader--sep","vkuiInternalPanelHeader--sep"),!e&&$("vkuiPanelHeader--no-before","vkuiInternalPanelHeader--no-before"),!r&&"vkuiPanelHeader--no-after",x&&"vkuiPanelHeader--fixed",g!=="compact"&&Tb[g],m!=="regular"&&Rb[m]),getRootRef:x?c:l,children:[x?h.jsx(Xx,{className:$("vkuiPanelHeader__fixed","vkuiInternalPanelHeader__fixed"),vertical:"top",getRootRef:l,children:h.jsx(E0,{before:e,after:r,typographyProps:f,children:t})}):h.jsx(E0,{before:e,after:r,typographyProps:f,children:t}),!y&&h.jsxs(h.Fragment,{children:[S&&w.compact&&h.jsx(Dl,{className:w.compact.className}),_&&w.regular&&h.jsx(Fv,{className:w.regular.className,size:16})]}),v&&y&&h.jsx(Dl,{className:"vkuiPanelHeader__separator",wide:!0})]}))},Ob=(n,e,t)=>{const r=e||Su();return r&&Lf.createPortal(n,r,t)};function jb(n){var{children:e}=n,t=J(n,["children"]);const r=Nr(),i=Ui(B({},r,t));return h.jsx(Za.Provider,{value:i,children:e})}const Bb=({value:n,children:e})=>h.jsx(jb,{appearance:n,children:h.jsx(Cv,{value:n,children:h.jsx(Zg,{children:e})})}),Hv=({children:n,usePortal:e})=>{const{portalRoot:t,mode:r,disablePortal:i}=k.useContext(es),o=wv();if(!bv())return null;const s=zb(e,t.current);return!s||Db(e,r,!!i)?h.jsx(k.Fragment,{children:n}):Ob(h.jsx(Bb,{value:o,children:n}),s)};function Db(n,e,t){return n!==void 0?typeof n!="boolean"?!1:t||n!==!0:t||e==="full"}function zb(n,e){return n===!0||!n?e||null:rv(n)?n.current:n}const Fb=n=>{var{className:e}=n,t=J(n,["className"]);return h.jsx("div",B({className:$("vkuiPopoutRoot__popout",e)},t))},Hb=n=>{var{className:e}=n,t=J(n,["className"]);return h.jsx("div",B({className:$("vkuiPopoutRoot__modal",e)},t))},Ub=n=>{var{popout:e,modal:t,children:r}=n,i=J(n,["popout","modal","children"]);return h.jsxs(Ce,Q(B({},i),{baseClassName:"vkuiPopoutRoot",children:[r,h.jsxs(Hv,{children:[!!e&&h.jsx(Fb,{children:e}),!!t&&h.jsx(Hb,{children:t})]})]}))},Vb=n=>{var{popout:e,modal:t,header:r,children:i,getRootRef:o,getRef:a,className:s,center:l}=n,c=J(n,["popout","modal","header","children","getRootRef","getRef","className","center"]);const d=De();return h.jsxs(Ub,{className:$("vkuiSplitLayout",d==="ios"&&"vkuiSplitLayout--ios"),popout:e,modal:t,getRootRef:o,children:[r,h.jsx("div",Q(B({},c),{ref:a,className:$("vkuiSplitLayout__inner",!!r&&"vkuiSplitLayout__inner--header",l&&"vkuiSplitLayout__inner--center",s),children:i}))]})},I0=new WeakMap;function N0(n){return{desktopPlus:n(gi.DESKTOP_PLUS),smallTabletPlus:n(gi.SMALL_TABLET_PLUS),tablet:n(gi.TABLET),smallTablet:n(gi.SMALL_TABLET),mobile:n(gi.MOBILE),mediumHeight:n(gi.MEDIUM_HEIGHT),mobileLandscapeHeight:n(gi.MOBILE_LANDSCAPE_HEIGHT)}}const Uv=()=>{const{window:n}=Tt();return k.useMemo(function(){if(!n)return N0(j4);const t=I0.get(n);if(t)return t;const r=N0(n.matchMedia.bind(n));return I0.set(n,r),r},[n])},$b={none:$("vkuiSplitCol--viewWidth-none","vkuiInternalSplitCol--viewWidth-none"),tabletMinus:"vkuiSplitCol--viewWidth-tabletMinus",smallTabletPlus:"vkuiSplitCol--viewWidth-smallTabletPlus",tabletPlus:"vkuiInternalSplitCol--viewWidth-tabletPlus"};function Wb(n){const{viewWidth:e}=$e(),[t,r]=k.useState(!!n),i=Uv();return k.useEffect(()=>{if(n!==void 0){r(n);return}if(e!==void 0){r(e<rt.TABLET);return}const o=()=>r(!i.smallTabletPlus.matches);return o(),Wa(i.smallTabletPlus,o),()=>{uc(i.smallTabletPlus,o)}},[n,e,i]),t}const Yb=n=>{const{children:e,width:t,maxWidth:r,minWidth:i,animate:o,fixed:a,style:s,autoSpaced:l,stretchedOnMobile:c,getRootRef:d}=n,f=J(n,["children","width","maxWidth","minWidth","animate","fixed","style","autoSpaced","stretchedOnMobile","getRootRef"]),u=Ut(d),{viewWidth:p}=$e(),g=Wb(o),m=Ui({colRef:u,animate:g});return h.jsx(Ce,Q(B({},f),{style:Q(B({},s),{width:t,maxWidth:r,minWidth:i}),getRootRef:u,baseClassName:$("vkuiSplitCol",dx($b,p),l&&$("vkuiSplitCol--spaced-auto","vkuiInternalSplitCol--spaced-auto"),a&&"vkuiSplitCol--fixed",c&&"vkuiSplitCol--stretched-on-mobile"),children:h.jsx(Uf.Provider,{value:m,children:a?h.jsx("div",{className:"vkuiSplitCol__fixedInner",children:e}):e})}))},Nu=(n,e)=>{switch(n){case"horizontal":return"vkuiInternalTabbar--layout-horizontal";case"vertical":return"vkuiInternalTabbar--layout-vertical";default:return k.Children.count(e)>2?Nu("vertical",[]):Nu("horizontal",[])}},Xb=n=>{var{plain:e=!1,mode:t}=n,r=J(n,["plain","mode"]);const i=De();return h.jsx(Ce,B({baseClassName:$("vkuiInternalTabbar","vkuiTabbar",i==="ios"&&"vkuiTabbar--ios",Nu(t,r.children),!e&&"vkuiTabbar--shadow")},r))},Ls=n=>{var{children:e,selected:t,indicator:r,text:i,href:o,Component:a=o?"a":"button",disabled:s}=n,l=J(n,["children","selected","indicator","text","href","Component","disabled"]);const c=De();return h.jsxs(Ce,Q(B({Component:a},l),{disabled:s,href:o,baseClassName:$("vkuiTabbarItem",c==="ios"&&"vkuiTabbarItem--ios",c==="android"&&"vkuiTabbarItem--android",t&&"vkuiTabbarItem--selected"),children:[h.jsx(sr,{role:"presentation",disabled:s,activeMode:c==="ios"?"vkuiTabbarItem__tappable--active":"background",activeEffectDelay:c==="ios"?0:300,hasHover:!1,className:"vkuiTabbarItem__tappable",onClick:ke}),h.jsxs("div",{className:"vkuiTabbarItem__in",children:[h.jsxs("div",{className:"vkuiTabbarItem__icon",children:[e,h.jsx("div",{className:"vkuiInternalTabbarItem__label",children:Pe(r)&&r})]}),i&&h.jsx(Rn,{Component:"div",className:"vkuiTabbarItem__text",weight:"2",children:i})]})]}))},Gb={center:"vkuiPopoutWrapper--alignX-center",left:"vkuiPopoutWrapper--alignX-left",right:"vkuiPopoutWrapper--alignX-right"},Kb={center:"vkuiPopoutWrapper--alignY-center",top:"vkuiPopoutWrapper--alignY-top",bottom:"vkuiPopoutWrapper--alignY-bottom"},qb=n=>{var{alignY:e="center",alignX:t="center",closing:r=!1,noBackground:i=!1,fixed:o=!0,children:a,onClick:s}=n,l=J(n,["alignY","alignX","closing","noBackground","fixed","children","onClick"]);return h.jsx(Ce,Q(B({},l),{baseClassName:$("vkuiPopoutWrapper",Kb[e],Gb[t],r?"vkuiPopoutWrapper--closing":"vkuiPopoutWrapper--opened",o&&"vkuiPopoutWrapper--fixed",!i&&"vkuiPopoutWrapper--masked"),children:h.jsxs("div",{className:"vkuiPopoutWrapper__container",children:[h.jsx("div",{className:"vkuiPopoutWrapper__overlay",onClick:s}),h.jsx("div",{className:"vkuiPopoutWrapper__content",children:a})]})}))};function Qn(n,e){return n!=null?n:e}const Ho=()=>{Tn||console.error("[useAdaptivityWithJSMediaQueries] Похоже, вы пытаетесь использовать хук вне браузера.\n\nПостарайтесь этого избегать, чтобы не было ошибок при гидратации: при SSR нет информации о размерах экрана.\n\nИспользуйте CSS Media Query или библиотеку по типу https://github.com/artsy/fresnel.");const{viewWidth:n,viewHeight:e,sizeX:t,sizeY:r,hasPointer:i,hasHover:o}=k.useContext(Bo),a=De(),s=Uv(),[[l,c],d]=k.useState(()=>[Qn(n,Qh(s)),Qn(e,Jh(s))]),f=k.useMemo(()=>{const u=Qn(i,Rf),p=Qn(o,o4),g=Qn(n,l),m=Qn(e,c),w=Qn(t,sv(g)),y=Qn(r,cx(g,m,u)),x=dv(g,m,u,a);return{viewWidth:g,viewHeight:m,sizeX:w,sizeY:y,hasPointer:u,hasHover:p,isDesktop:x}},[l,c,n,e,t,r,i,o,a]);return k.useEffect(()=>{const u=()=>{d(p=>{const g=Qn(n,Qh(s)),m=Qn(e,Jh(s)),[w,y]=p;return w!==g||y!==m?[g,m]:p})};return n||[s.desktopPlus,s.tablet,s.smallTablet,s.mobile].forEach(p=>Wa(p,u)),e||[s.mediumHeight,s.mobileLandscapeHeight].forEach(p=>Wa(p,u)),()=>{[s.desktopPlus,s.tablet,s.smallTablet,s.mobile,s.mediumHeight,s.mobileLandscapeHeight].forEach(p=>uc(p,u))}},[s,n,e]),f};function Qb(n,e){return n.length!==e.length?!1:n.every((t,r)=>t===e[r])}const Jb=(n,e)=>{const t=Mo(e);je(()=>{if(!n||!n.current)return;const r=new MutationObserver(t);return r.observe(n.current,{subtree:!0,childList:!0}),()=>r.disconnect()},[n,t])},Zb=a4.join(),e8=({restoreFocus:n,timeout:e,mount:t,ref:r})=>{const i=k.useRef(n);i.current=n;const[o,a]=k.useState(null),s=Mo(()=>{const l=typeof i.current=="function"?i.current():i.current;l&&setTimeout(()=>{const c=ri(l)&&l||ri(o)&&o||null;c&&(c.focus(),a(null))},e)});je(function(){if(!r.current||!i.current||!t){a(null);return}a(ku(r.current))},[r,t]),je(function(){return()=>{s()}},[s]),je(function(){t||s()},[t,s])},Vv=n=>{var{Component:e="div",onClose:t,autoFocus:r=!0,restoreFocus:i=!0,disabled:o=!1,mount:a=!0,timeout:s=0,getRootRef:l,children:c}=n,d=J(n,["Component","onClose","autoFocus","restoreFocus","disabled","mount","timeout","getRootRef","children"]);const f=Ut(l),{document:u}=Tt(),p=k.useRef([]);e8({restoreFocus:i,timeout:s,mount:a,ref:f});const g=y=>{const x=p.current[y];x&&x.focus({preventScroll:!0})},m=y=>{const x=y.querySelectorAll(Zb),v=[];x.forEach(S=>{const{display:_,visibility:b}=getComputedStyle(S);_!=="none"&&b!=="hidden"&&v.push(S)}),v.length===0&&v.push(y),p.current=v},w=y=>{const x=[...p.current];if(m(y),!(!r||Qb(x,p.current))&&u){const v=u.activeElement,S=Math.max(u.activeElement?p.current.indexOf(v):-1,0);g(S)}};return Jb(f,()=>f.current&&w(f.current)),je(()=>{f.current&&m(f.current)},[f]),je(function(){if(!f.current||!r||o)return;const v=setTimeout(()=>{if(!f.current||!p.current.length)return;const S=ku(f.current);if(!T4(f.current,S))if(r==="root"){var _;(_=f.current)===null||_===void 0||_.focus()}else p.current[0].focus()},s);return()=>{clearTimeout(v)}},[r,s,o]),je(()=>{if(!f.current)return;const y=v=>{if(o)return;switch(Fg(v)){case et.TAB:{if(!p.current.length)return!1;const _=p.current.length-1,b=p.current.findIndex(N=>N===v.target),C=b===-1||b===_&&!v.shiftKey;if(C||b===0&&v.shiftKey){v.preventDefault();const N=p.current[C?0:_];return N!==ku(N)&&N.focus(),!1}break}case et.ESCAPE:t&&(v.preventDefault(),t())}return!0},x=ar(f.current).document;return x.addEventListener("keydown",y,{capture:!0}),()=>{x.removeEventListener("keydown",y,!0)}},[t,f,o]),h.jsx(e,Q(B({tabIndex:-1,ref:f},d),{children:c}))},$v=n=>{var{children:e="Закрыть",className:t}=n,r=J(n,["children","className"]);return h.jsxs(sr,Q(B({className:$("vkuiModalDismissButton",t)},r),{activeMode:"vkuiModalDismissButton--active",hoverMode:"vkuiModalDismissButton--hover",children:[e&&h.jsx(Sn,{children:e}),h.jsx(Ev,{})]}))},M0=20,Wv=8,t8=10,n8=1,A0=Wv+n8,Yv=n=>h.jsx("svg",Q(B({width:M0,height:A0,viewBox:"0 0 ".concat(M0," ").concat(A0),xmlns:"http://www.w3.org/2000/svg"},n),{children:h.jsx("path",{d:"M10 0c3 0 6 8 10 8v1H0V8c3.975 0 7-8 10-8Z",fill:"currentColor"})})),r8={right:"vkuiFloatingArrow--placement-right",bottom:"vkuiFloatingArrow--placement-bottom",left:"vkuiFloatingArrow--placement-left"},i8=n=>{var{offset:e,isStaticOffset:t,coords:r,iconStyle:i,iconClassName:o,placement:a="bottom",getRootRef:s,Icon:l=Yv}=n,c=J(n,["offset","isStaticOffset","coords","iconStyle","iconClassName","placement","getRootRef","Icon"]);const[d,f]=o8(a,r,e,t);return h.jsx("div",Q(B({ref:s,style:f,className:$("vkuiFloatingArrow",d&&r8[d])},c),{children:h.jsx(l,{className:$("vkuiFloatingArrow__in",o),style:i})}))};function o8(n,e={x:0,y:0},t=0,r=!1){const i=o=>{const a={x:e.x||0,y:e.y||0};return o?r?t:a.y+t:r?t:a.x+t};return n.startsWith("top")?["bottom",{top:"100%",[P0(n,r)]:i(!1)}]:n.startsWith("right")?["left",{[L0(n,r)]:i(!0),left:0}]:n.startsWith("bottom")?[void 0,{bottom:"100%",[P0(n,r)]:i(!1)}]:["right",{[L0(n,r)]:i(!0),right:0}]}function P0(n,e){return n.endsWith("end")&&e?"right":"left"}function L0(n,e){return n.endsWith("end")&&e?"bottom":"top"}const a8=n=>{var{placement:e="bottom-start",sameWidth:t,hideWhenReferenceHidden:r,offsetByMainAxis:i=8,offsetByCrossAxis:o=0,arrow:a,arrowHeight:s=Wv,arrowPadding:l=t8,customMiddlewares:c,disableFlipMiddleware:d=!1,autoUpdateOnTargetResize:f=!1,arrowProps:u,ArrowIcon:p=Yv,targetRef:g,getRootRef:m,children:w,usePortal:y=!0,style:x,onPlacementChange:v}=n,S=J(n,["placement","sameWidth","hideWhenReferenceHidden","offsetByMainAxis","offsetByCrossAxis","arrow","arrowHeight","arrowPadding","customMiddlewares","disableFlipMiddleware","autoUpdateOnTargetResize","arrowProps","ArrowIcon","targetRef","getRootRef","children","usePortal","style","onPlacementChange"]);const[_,b]=k.useState(null),{strictPlacement:C,middlewares:N}=xb({placement:e,sameWidth:t,arrow:a,arrowRef:_,arrowHeight:s,arrowPadding:l,offsetByMainAxis:i,offsetByCrossAxis:o,hideWhenReferenceHidden:r,customMiddlewares:c,disableFlipMiddleware:d}),{x:I,y:E,strategy:A,placement:T,refs:P,middlewareData:O}=lb({placement:C,middleware:N,whileElementsMounted(...M){return yb(...M,{elementResize:f})}});bb(e,T,v);const{arrow:D}=O,W=Ut(P.setFloating,m);je(()=>{P.setReference("current"in g?g.current:g)},[P.setReference,g]);const H=h.jsxs(Ce,Q(B({},S),{baseClassName:"vkuiPopper",getRootRef:W,style:B({},x,S7(A,I,E,t?null:void 0,O)),children:[a&&h.jsx(i8,Q(B({},u),{coords:D,placement:T,getRootRef:b,Icon:p})),w]}));return h.jsx(Hv,{usePortal:y,children:H})},Zf=k.createContext({state:"loading",caption:void 0}),s8={cancelable:"vkuiScreenSpinner--state-cancelable",done:"vkuiScreenSpinner--state-done",error:"vkuiScreenSpinner--state-error"},l8={shadow:"vkuiScreenSpinner--mode-shadow",overlay:"vkuiScreenSpinner--mode-overlay"},ep=n=>{var{state:e="loading",mode:t="shadow",caption:r,children:i}=n,o=J(n,["state","mode","caption","children"]);return h.jsx(Zf.Provider,{value:{state:e,caption:r},children:h.jsxs(Ce,Q(B({baseClassName:$("vkuiScreenSpinner",l8[t],e!=="loading"&&s8[e],Pe(r)&&"vkuiScreenSpinner--has-caption")},o),{children:[h.jsx("div",{className:"vkuiScreenSpinner__icon-slot",children:i}),Pe(r)&&h.jsx(Rn,{className:"vkuiScreenSpinner__caption","aria-hidden":!0,children:r})]}))})};ep.displayName="ScreenSpinnerContainer";const tp=n=>{var{size:e="large",children:t}=n,r=J(n,["size","children"]);const{caption:i}=k.useContext(Zf),o=t||(i!=null?i:"Пожалуйста, подождите...");return h.jsx(fc,Q(B({className:$("vkuiScreenSpinner__spinner",!i&&"vkuiScreenSpinner__spinner--transition"),size:e,noColor:!0},r),{children:o}))};tp.displayName="ScreenSpinnerLoader";const c8=n=>h.jsx("svg",Q(B({className:"vkuiIcon",width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),{children:h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M40 24c0 8.837-7.163 16-16 16S8 32.837 8 24 15.163 8 24 8s16 7.163 16 16Zm-10.08-4.33a1.125 1.125 0 0 0-1.59-1.59L24 22.409l-4.33-4.33a1.125 1.125 0 0 0-1.59 0l-.101.116a1.125 1.125 0 0 0 .1 1.476L22.41 24l-4.33 4.33a1.125 1.125 0 0 0 1.591 1.59L24 25.591l4.33 4.33c.439.439 1.151.439 1.59 0l.101-.116a1.125 1.125 0 0 0-.1-1.476L25.59 24l4.33-4.33Z",fill:"currentColor"})})),d8=n=>h.jsx("svg",Q(B({className:"vkuiIcon",width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),{children:h.jsx("path",{d:"M9 24L19 34L39 14",stroke:"currentColor",strokeWidth:"3.5",strokeLinecap:"round",strokeLinejoin:"round"})})),Xv=n=>{var{onKeyDown:e,"aria-label":t="Отменить"}=n,r=J(n,["onKeyDown","aria-label"]);const i=lc({onKeyDown:Hf},{onKeyDown:e});let o=Q(B({},i),{tabIndex:0,role:"button","aria-label":t});return h.jsx(Ce,Q(B({baseClassName:"vkuiScreenSpinner__icon"},o,r),{children:h.jsx(Nv,{})}))};Xv.displayName="ScreenSpinnerCancelIcon";const np=n=>{var{cancelLabel:e}=n,t=J(n,["cancelLabel"]);const{state:r}=k.useContext(Zf);if(r==="cancelable")return h.jsx(Xv,B({"aria-label":e},t));const i={loading:()=>null,done:d8,error:c8}[r];return h.jsx(Ce,Q(B({baseClassName:"vkuiScreenSpinner__icon"},t),{children:h.jsx(i,{})}))};np.displayName="ScreenSpinnerSwapIcon";const di=n=>{var{style:e,className:t,state:r="loading",onClick:i,cancelLabel:o,mode:a,caption:s}=n,l=J(n,["style","className","state","onClick","cancelLabel","mode","caption"]);return nv(),h.jsx(qb,{className:t,style:e,noBackground:!0,children:h.jsxs(ep,{state:r,mode:a,caption:s,children:[h.jsx(tp,B({},l)),h.jsx(np,{onClick:i,cancelLabel:o})]})})};di.displayName="ScreenSpinner";di.Container=ep;di.Container.displayName="ScreenSpinner.Container";di.Loader=tp;di.Loader.displayName="ScreenSpinner.Loader";di.SwapIcon=np;di.SwapIcon.displayName="ScreenSpinner.SwapIcon";function u8(n,e,t){function r(i){const o=k.useContext(e);return h.jsx(n,Q(B({},i),{[t]:o}))}return r}function f8(n){function e(t){const{platform:r}=Nr();return h.jsx(n,Q(B({},t),{platform:r}))}return e}const p8=k.createContext(!1),h8=75;function m8(n){return k.Children.toArray(n)}function g8(n,e){if(e.type==="setActive"&&e.id!==n.activeModal){const t=e.id,r=n.exitingModal||n.activeModal;let i=n.history?[...n.history]:[];const o=!!(t&&i.includes(t));return t===null?i=[]:o?i=i.splice(0,i.indexOf(t)+1):i.push(t),{activeModal:t,enteringModal:null,exitingModal:r,history:i,isBack:o}}return e.type==="entered"&&e.id===n.enteringModal?Q(B({},n),{enteringModal:null}):e.type==="exited"&&e.id===n.exitingModal?Q(B({},n),{exitingModal:null}):e.type==="inited"&&e.id===n.activeModal?Q(B({},n),{enteringModal:e.id}):n}function Gv(n,e,t=ke,r=ke,i=ke,o=ke,a=ke){const s=k.useRef({}).current;m8(e).forEach(v=>{const S=v.props,_=br(S),b=_!==void 0&&s[_]||{id:_!=null?_:null};b.onOpen=v.props.onOpen,b.onOpened=v.props.onOpened,b.onClose=v.props.onClose,b.onClosed=v.props.onClosed,b.preventClose=v.props.preventClose,typeof S.settlingHeight=="number"&&(b.settlingHeight=S.settlingHeight),b.id!==null&&(s[b.id]=b)});const c=n&&!s[n]?null:n,[d,f]=k.useReducer(g8,{activeModal:c,enteringModal:null,exitingModal:null,history:c?[c]:[],isBack:!1});je(()=>{f({type:"setActive",id:c!=null?c:null})},[n]),je(()=>{d.activeModal&&(a(s[d.activeModal]),f({type:"inited",id:d.activeModal}))},[d.activeModal]);const u=v=>{var S;return v!=null&&((S=s[v])===null||S===void 0?void 0:S.type)==="card"},p=k.useCallback(v=>{if(v){const S=s[v];dr(S.onOpened)?S.onOpened():dr(r)&&r(v)}f({type:"entered",id:v})},[s,r]),g=k.useCallback(v=>{if(v){const S=s[v];dr(S.onClosed)?S.onClosed():dr(o)&&o(v)}f({type:"exited",id:v})},[s,o]),m=!!(d.exitingModal&&(u(n)||u(d.exitingModal))),w=k.useCallback(v=>v?s[v]:void 0,[s]);function y(){const v=d.activeModal&&s[d.activeModal];v&&(dr(v.onOpen)?v.onOpen():dr(t)&&v.id&&t(v.id))}function x(){const v=d.activeModal&&s[d.activeModal];v&&!v.preventClose&&(dr(v.onClose)?v.onClose():dr(i)&&v.id&&i(v.id))}return Q(B({onEnter:y,onEntered:p,onExit:x,onExited:g},d),{delayEnter:m,getModalState:w})}function v8(n=ke){return function(e){return function(r){const i=Gv(r.activeModal,r.children,r.onOpen,r.onOpened,r.onClose,r.onClosed,n);return h.jsx(e,B({},r,i))}}}const y8=Jx("ModalRoot");function ia(n,e){return e?n>=e[0]&&n<=e[1]:!1}function T0(n){return Oi(n,0,98)}class x8 extends k.Component{get timeout(){return this.props.platform==="ios"?400:320}get document(){return this.props.document}get window(){return this.props.window}getModals(){return k.Children.toArray(this.props.children)}componentDidMount(){var e;(e=this.window)===null||e===void 0||e.addEventListener("resize",this.updateModalHeight,!1)}componentWillUnmount(){this.toggleDocumentScrolling(!0),this.window.removeEventListener("resize",this.updateModalHeight,!1)}componentDidUpdate(e){if(this.props.exitingModal&&this.props.exitingModal!==e.exitingModal&&this.closeModal(this.props.exitingModal),this.props.enteringModal&&this.props.enteringModal!==e.enteringModal){const t=this.props.getModalState(this.props.enteringModal);this.props.onEnter(),this.waitTransitionFinish(t,()=>{t&&(t.innerElement&&(t.innerElement.style.transitionDelay=""),this.onEntered(t))}),t!=null&&t.innerElement&&(t.innerElement.style.transitionDelay=this.props.delayEnter?"".concat(this.timeout,"ms"):"",this.animateTranslate(t,t.translateY),this.setMaskOpacity(t,1))}this.props.activeModal&&!e.activeModal&&(this.restoreFocusTo=this.document.activeElement),!this.props.activeModal&&!this.props.exitingModal&&this.restoreFocusTo&&(this.restoreFocusTo.focus(),this.restoreFocusTo=null),this.toggleDocumentScrolling(!this.props.activeModal&&!this.props.exitingModal)}toggleDocumentScrolling(e){e?this.document.documentElement.classList.remove("vkui--disable-overscroll-behavior"):this.document.documentElement.classList.add("vkui--disable-overscroll-behavior")}checkPageContentHeight(){const e=this.props.getModalState(this.props.activeModal);if((e==null?void 0:e.type)==="page"&&(e!=null&&e.modalElement)){const t=B({},e);Kv(e);const r=B({},e);let i=!1;t.expandable===r.expandable?t.translateYFrom!==r.translateYFrom&&(i=!0):i=!0,i&&this.animateTranslate(e,e.translateY)}}onEntered({id:e,modalElement:t}){!this.props.noFocusToDialog&&t&&!t.contains(this.document.activeElement)&&t.focus(),this.props.onEntered(e)}closeModal(e){this.setState({touchDown:!1});const t=this.props.getModalState(e);if(!t){e&&y8("closeActiveModal: модальное окно (страница) ".concat(e," не существует"),"error");return}this.state.modalOpenedLog.length||this.setState(d=>({modalOpenedLog:[...d.modalOpenedLog,e]}));const r=this.props.getModalState(this.props.activeModal),i=!!r&&r.type==="page",o=!!t&&t.type==="page";this.waitTransitionFinish(t,()=>this.props.onExited(e));var a,s,l;const c=o&&i&&((a=t.translateY)!==null&&a!==void 0?a:0)<=((s=r==null?void 0:r.translateYFrom)!==null&&s!==void 0?s:0)&&!this.props.isBack?((l=r==null?void 0:r.translateYFrom)!==null&&l!==void 0?l:0)+10:100;this.animateTranslate(t,c),r?r.id&&!this.state.modalOpenedLog.includes(r.id)&&(r.translateY=void 0,this.setState(d=>({modalOpenedLog:[...d.modalOpenedLog,r.id]}))):(this.setMaskOpacity(t,0),this.setState({modalOpenedLog:[]}),t.translateY=void 0,t.expandable=void 0)}onPageTouchMove(e,t){var r,i;const{shiftY:o,originalEvent:a}=e,s=a.target;if(!e.isY){var l;!((l=this.viewportRef.current)===null||l===void 0)&&l.contains(s)&&a.preventDefault();return}if(!(!((r=t.innerElement)===null||r===void 0)&&r.contains(s)))return a.preventDefault();a.stopPropagation();const{expandable:c,contentScrolled:d,collapsed:f,expanded:u}=t;if(!this.state.touchDown){var p,g;t.touchStartContentScrollTop=(g=(p=t.contentElement)===null||p===void 0?void 0:p.scrollTop)!==null&&g!==void 0?g:0,this.setState({touchDown:!0})}if(!d&&(t.touchMovePositive===null&&(t.touchMovePositive=o>0),!t.expandable||f||u&&t.touchMovePositive&&t.touchStartContentScrollTop===0||!((i=t.headerElement)===null||i===void 0)&&i.contains(s))){if(a.preventDefault(),!c&&o<0||!this.window)return;!this.state.dragging&&this.setState({dragging:!0});const w=o/this.window.innerHeight*100,y=p0(w,72,.8,this.props.platform!=="ios");t.touchShiftYPercent=w;var m;t.translateYCurrent=T0(((m=t.translateY)!==null&&m!==void 0?m:0)+y),this.animateTranslate(t,t.translateYCurrent),this.setMaskOpacity(t)}}onCardTouchMove(e,t){var r;const{originalEvent:i,shiftY:o}=e,a=i.target;if(!((r=t.innerElement)===null||r===void 0)&&r.contains(a)){this.state.touchDown||this.setState({touchDown:!0,dragging:!0});const l=o/t.innerElement.offsetHeight*100,c=p0(l,72,1.2,this.props.platform!=="ios");t.touchShiftYPercent=l;var s;t.translateYCurrent=Math.max(0,((s=t.translateY)!==null&&s!==void 0?s:0)+c),this.animateTranslate(t,t.translateYCurrent),this.setMaskOpacity(t)}}onPageTouchEnd(e,t){const{startY:r,shiftY:i}=e;t.contentScrolled=!1,t.touchMovePositive=null;let o;if(this.state.dragging&&this.window){const g=(r+i)/this.window.innerHeight*100;var a;let m=(a=t.translateYCurrent)!==null&&a!==void 0?a:0;var s;const w=m/e.duration*240*.6*(((s=t.touchShiftYPercent)!==null&&s!==void 0?s:0)<0?-1:1);if(m=T0(m+w),t.settlingHeight!==100)if(ia(m,t.expandedRange)){var l,c;m=(c=(l=t.expandedRange)===null||l===void 0?void 0:l[0])!==null&&c!==void 0?c:0}else if(ia(m,t.collapsedRange)){var d;m=(d=t.translateYFrom)!==null&&d!==void 0?d:0}else if(ia(m,t.hiddenRange)){var f;m=t.preventClose?(f=t.translateYFrom)!==null&&f!==void 0?f:0:100}else{var u;m=(u=t.translateYFrom)!==null&&u!==void 0?u:0}else if(ia(m,[0,25]))m=0;else{var p;m=t.preventClose?(p=t.translateYFrom)!==null&&p!==void 0?p:0:100}m!==100&&g>=75&&!t.preventClose&&(m=100),t.translateY=m,t.translateYCurrent=m,t.collapsed=ia(m,t.collapsedRange),t.expanded=m===0,t.hidden=m===100,t.hidden&&this.props.onExit(),o=()=>{t.hidden||this.animateTranslate(t,t.translateY),this.setMaskOpacity(t)}}this.setState({touchDown:!1,dragging:!1},o)}onCardTouchEnd({duration:e},t){let r;if(this.state.dragging){var i;let a=(i=t.translateYCurrent)!==null&&i!==void 0?i:0;var o;const s=a/e*240*.6*(((o=t.touchShiftYPercent)!==null&&o!==void 0?o:0)<0?-1:1);a=Math.max(0,a+s),a>=30?a=100:a=0,t.translateY=a,t.hidden=a===100,t.hidden&&this.props.onExit(),r=()=>{t.hidden||this.animateTranslate(t,t.translateY),this.setMaskOpacity(t)}}this.setState({touchDown:!1,dragging:!1},r)}waitTransitionFinish(e,t){const r=e?e.innerElement:null;r?r.addEventListener("transitionend",t,{once:!0}):setTimeout(t,this.timeout)}animateTranslate(e,t){const r="animateTranslateFrame".concat(e.id);cancelAnimationFrame(this.frameIds[r]),this.frameIds[r]=requestAnimationFrame(()=>{e.innerElement&&(e.innerElement.style.transform="translate3d(0, ".concat(t,"%, 0)"))})}setMaskOpacity(e,t=null){var r;t===null&&((r=this.props.history)===null||r===void 0?void 0:r[0])!==e.id||(this.maskAnimationFrame&&cancelAnimationFrame(this.maskAnimationFrame),this.maskAnimationFrame=requestAnimationFrame(()=>{if(this.maskElementRef.current){const{translateY:i=0,translateYCurrent:o=0}=e,a=t===null?1-(o-i)/(100-i)||0:t;this.maskElementRef.current.style.opacity=Oi(a,0,100).toString(),this.maskElementRef.current.style.transitionDelay=a&&this.props.delayEnter?"".concat(this.timeout,"ms"):""}}))}render(){var e;const{activeModal:t,exitingModal:r,enteringModal:i,modalOverlayTestId:o}=this.props,{touchDown:a,dragging:s}=this.state;return!t&&!r?null:h.jsx(p8.Provider,{value:!0,children:h.jsx(oi.Provider,{value:this.modalRootContext,children:h.jsxs(hc,{className:$("vkuiModalRoot",((e=this.props.configProvider)===null||e===void 0?void 0:e.hasCustomPanelHeaderAfter)&&"vkuiModalRoot--hasCustomPanelHeaderAfterSlot",a&&$("vkuiModalRoot--touched","vkuiInternalModalRoot--touched"),!!(i||r)&&$("vkuiModalRoot--switching","vkuiInternalModalRoot--switching")),onMove:this.onTouchMove,onEnd:this.onTouchEnd,onScroll:this.onScroll,children:[h.jsx("div",{"data-testid":o,className:"vkuiModalRoot__mask",onClick:this.props.onExit,ref:this.maskElementRef}),h.jsx("div",{className:"vkuiModalRoot__viewport",ref:this.viewportRef,children:this.getModals().map(l=>{const c=br(l.props),d=this.props.getModalState(c);if(c!==t&&c!==r||!d)return null;const f=B({},d),u=f.type==="page",p="modal-".concat(c);return h.jsx(Vv,{onClose:this.props.onExit,timeout:this.timeout,className:$("vkuiModalRoot__modal",s&&"vkuiInternalModalRoot__modal--dragging",u&&f.expandable&&"vkuiInternalModalRoot__modal--expandable",u&&f.collapsed&&"vkuiInternalModalRoot__modal--collapsed"),autoFocus:!1,restoreFocus:!1,children:l},p)})})]})})})}constructor(e){super(e),nt(this,"maskElementRef",void 0),nt(this,"viewportRef",k.createRef()),nt(this,"maskAnimationFrame",void 0),nt(this,"modalRootContext",void 0),nt(this,"frameIds",void 0),nt(this,"restoreFocusTo",void 0),nt(this,"updateModalHeight",()=>{const t=this.props.getModalState(this.props.activeModal);t&&t.type==="page"&&(this.props.enteringModal?this.waitTransitionFinish(t,()=>{requestAnimationFrame(()=>this.checkPageContentHeight())}):requestAnimationFrame(()=>this.checkPageContentHeight()))}),nt(this,"onTouchMove",t=>{if(this.props.exitingModal)return;const r=this.props.getModalState(this.props.activeModal);if(r){if(r.type==="page")return this.onPageTouchMove(t,r);if(r.type==="card")return this.onCardTouchMove(t,r)}}),nt(this,"onTouchEnd",t=>{const r=this.props.getModalState(this.props.activeModal);if((r==null?void 0:r.type)==="page")return this.onPageTouchEnd(t,r);if((r==null?void 0:r.type)==="card")return this.onCardTouchEnd(t,r)}),nt(this,"onScroll",t=>{var r;const i=this.props.activeModal,o=t.target;if(!i)return;const a=this.props.getModalState(i);(a==null?void 0:a.type)==="page"&&(!(a==null||(r=a.contentElement)===null||r===void 0)&&r.contains(o))&&(a.contentScrolled=!0,a.contentScrollStopTimeout&&clearTimeout(a.contentScrollStopTimeout),a.contentScrollStopTimeout=setTimeout(()=>{a.contentScrolled&&(a.contentScrolled=!1)},250))}),this.state={touchDown:!1,dragging:!1,modalOpenedLog:[]},this.maskElementRef=k.createRef(),this.modalRootContext={updateModalHeight:this.updateModalHeight,registerModal:t=>{var{id:r}=t,i=J(t,["id"]),o;return Object.assign((o=this.props.getModalState(r))!==null&&o!==void 0?o:{},i)},onClose:()=>this.props.onExit(),isInsideModal:!0},this.frameIds={}}}const b8=u8(f8(E4(v8(w8)(x8))),Za,"configProvider");function w8(n){switch(n.type){case"page":return n.settlingHeight=n.settlingHeight||h8,Kv(n);case"card":return _8(n)}}function Kv(n){const{contentElement:e,bottomInset:t}=n,r=S8(e==null?void 0:e.firstElementChild,n.expandable),i=(t==null?void 0:t.offsetHeight)||0,o=r+i;let a=n.translateY,s=n.expandable;var l;n.expandable=o>((l=e==null?void 0:e.clientHeight)!==null&&l!==void 0?l:0)||n.settlingHeight===100;let c=!1,d=!1,f,u,p,g,m;const w=!!(n.expandable&&n.settlingHeight!==100);if(n.expandable){var y;f=100-((y=n.settlingHeight)!==null&&y!==void 0?y:0);const N=f/2,I=100-f;p=[0,N],g=w?[N,f+I/4]:void 0,m=[f+I/4,100],c=w&&f>0,d=f<=0,u=f}else{var x,v,S,_;const N=(_=(x=n.headerElement)===null||x===void 0?void 0:x.offsetHeight)!==null&&_!==void 0?_:0,I=o+N;var b;f=100-I/((b=(S=n.innerElement)===null||S===void 0||(v=S.parentElement)===null||v===void 0?void 0:v.offsetHeight)!==null&&b!==void 0?b:0)*100,u=f,p=[u,u+25],g=void 0,m=[u+25,u+100]}(s&&n.expandable&&u>(a!=null?a:100)||n.settlingHeight===100)&&(u=0),u===0&&(d=!0,c=!1),n.expandedRange=p,n.collapsedRange=g,n.hiddenRange=m,n.translateY=u,n.translateYFrom=f,n.collapsed=c,n.expanded=d}function _8(n){n.translateY=0}function S8(n,e){if(!e)return n.scrollHeight;const t=n.style.height;n.style.height="auto";const r=n.scrollHeight;return n.style.height=t,r}const k8=()=>{const n=k.useRef(null),{document:e}=Tt(),t=k.useRef(ke),r=k.useCallback(()=>{t.current(),t.current=ke},[]);return k.useCallback((o,a,s)=>{o&&(e!=null&&e.hidden?(n!=null&&n.current&&clearTimeout(n.current),n.current=setTimeout(a,s)):(r(),o.addEventListener("transitionend",a),t.current=()=>{o.removeEventListener("transitionend",a)}))},[e,r,n])},C8=({activeModal:n,children:e,noFocusToDialog:t=!1,onOpen:r,onOpened:i,onClose:o,onClosed:a,modalOverlayTestId:s})=>{const l=k.useRef(null),c=k.useRef(void 0),d=k.useRef(void 0),{document:f}=Tt(),{hasCustomPanelHeaderAfter:u,platform:p}=Nr(),{activeModal:g,exitingModal:m,onExit:w,getModalState:y,enteringModal:x,onEnter:v,onEntered:S,onExited:_,history:b,delayEnter:C}=Gv(n,e,r,i,o,a,ke),N=k8(),I=pr({exitingModal:m,enteringModal:x,activeModal:g}),E=Ui({updateModalHeight:()=>{},registerModal:M=>{var{id:L}=M,j=J(M,["id"]),F;return Object.assign((F=y(L))!==null&&F!==void 0?F:{},j)},onClose:w,isInsideModal:!0}),A=p==="ios"?400:320,T=k.Children.toArray(e),P=(M,L)=>{M!=null&&M.innerElement&&(M.innerElement.style.transition="",M.innerElement.style.transitionDelay=L&&C?"".concat(A,"ms"):"",M.innerElement.style.opacity=L?"1":"0")},O=(M,L=null)=>{L===null&&(b==null?void 0:b[0])!==M.id||(c.current&&cancelAnimationFrame(c.current),c.current=requestAnimationFrame(()=>{if(l.current){const{translateY:j=0,translateYCurrent:F=0}=M,q=L===null?1-(F-j)/(100-j)||0:L;l.current.style.opacity=Oi(q,0,100).toString()}}))},D=({id:M,modalElement:L})=>{!t&&L&&!L.contains(f.activeElement)&&L.focus(),S(M)},W=()=>{if(!x||!I)return;const M=y(x);if(v(),!I.exitingModal){requestAnimationFrame(()=>{x===x&&M&&(N(M.innerElement,()=>D(M),A),P(M,!0),O(M,1))});return}requestAnimationFrame(()=>{M!=null&&M.innerElement&&(M.innerElement.style.transition="none",M.innerElement.style.opacity="1",O(M,1))}),M&&D(M)},H=M=>{const L=y(M);if(L){if(!g){requestAnimationFrame(()=>{N(L==null?void 0:L.innerElement,j=>{j&&j.target===(L==null?void 0:L.innerElement)?_(M):j||_(M)},A),P(L,!1),O(L,0)});return}_(M)}};return k.useEffect(()=>{if(I){if(m&&m!==I.exitingModal&&H(m),x&&x!==I.enteringModal&&W(),g&&!I.activeModal){var M;d.current=(M=f==null?void 0:f.activeElement)!==null&&M!==void 0?M:void 0}!g&&!m&&d.current&&(d.current.focus(),d.current=void 0)}}),!g&&!m?null:h.jsx(oi.Provider,{value:E,children:h.jsxs("div",{className:$("vkuiModalRoot",u&&"vkuiModalRoot--hasCustomPanelHeaderAfterSlot","vkuiModalRoot--desktop"),children:[h.jsx("div",{"data-testid":s,className:"vkuiModalRoot__mask",ref:l,onClick:w}),h.jsx("div",{className:"vkuiModalRoot__viewport",children:T.map(M=>{const L=br(M.props);if(L!==g&&L!==m)return null;const j="modal-".concat(L);return h.jsx(Vv,{autoFocus:!1,restoreFocus:!1,onClose:w,timeout:A,className:"vkuiModalRoot__modal",children:M},j)})})]})})},E8=n=>{const{isDesktop:e}=Ho();nv(!!n.activeModal);const t=e?C8:b8;return h.jsx(t,B({},n))};function R0(n){var e,t;if(!n)return"portrait";var r;return Math.abs((r=(t=n.screen)===null||t===void 0||(e=t.orientation)===null||e===void 0?void 0:e.angle)!==null&&r!==void 0?r:Number(n.orientation))===90?"landscape":"portrait"}function I8(){const{window:n}=Tt(),[e,t]=k.useState(()=>R0(n));return No(n,"orientationchange",()=>t(R0(n))),e}const qv=k.createContext({}),N8={s:"vkuiModalPage--size-s",m:"vkuiModalPage--size-m",l:"vkuiModalPage--size-l"},Uo=n=>{var{children:e,header:t,size:r="s",onOpen:i,onOpened:o,onClose:a,onClosed:s,settlingHeight:l,dynamicContentHeight:c,getModalContentRef:d,nav:f,id:u,hideCloseButton:p=!1,height:g,modalContentTestId:m,modalDismissButtonTestId:w,getRootRef:y,preventClose:x}=n,v=J(n,["children","header","size","onOpen","onOpened","onClose","onClosed","settlingHeight","dynamicContentHeight","getModalContentRef","nav","id","hideCloseButton","height","modalContentTestId","modalDismissButtonTestId","getRootRef","preventClose"]);const S=k.useId(),_=u||S,{updateModalHeight:b}=k.useContext(oi),C=De(),N=I8(),{sizeX:I,isDesktop:E}=Ho();k.useEffect(()=>{c&&b()},[e,c,N,b]);const A=!p&&E,T=E?r:"s",P=k.useContext(oi),{refs:O}=zv(br({nav:f,id:_}),"page"),D=Ut(y,O.modalElement),W=k.useMemo(()=>({labelId:"".concat(_,"-label")}),[_]);return h.jsx(qv.Provider,{value:W,children:h.jsx(Ce,Q(B({},v),{getRootRef:D,tabIndex:-1,role:"dialog","aria-modal":"true","aria-labelledby":W.labelId,id:_,baseClassName:$("vkuiModalPage",C==="ios"&&"vkuiModalPage--ios",E&&"vkuiModalPage--desktop",I==="regular"&&"vkuiInternalModalPage--sizeX-regular",typeof T=="string"&&N8[T]),children:h.jsx("div",{className:"vkuiModalPage__in-wrap",style:{maxWidth:typeof T=="number"?T:void 0,height:g},ref:O.innerElement,children:h.jsxs("div",{className:"vkuiModalPage__in",children:[h.jsx("div",{className:"vkuiModalPage__header",ref:O.headerElement,children:t}),h.jsxs("div",{className:"vkuiModalPage__content-wrap",children:[h.jsx("div",Q(B({className:"vkuiModalPage__content",ref:px(O.contentElement,d)},m&&{"data-testid":m}),{children:h.jsx("div",{className:"vkuiModalPage__content-in",children:e})})),h.jsx("div",{ref:O.bottomInset,className:"vkuiModalPage__bottom-inset"})]}),A&&h.jsx($v,{"data-testid":w,onClick:a||P.onClose})]})})}))})},Qv=n=>{var{children:e,noSeparator:t=!1,getRootRef:r,className:i,typographyProps:o}=n,a=J(n,["children","noSeparator","getRootRef","className","typographyProps"]);const s=De(),{isDesktop:l,sizeX:c}=Ho(),{labelId:d}=k.useContext(qv);return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:$("vkuiModalPageHeader",s!=="vkcom"&&"vkuiModalPageHeader--withGaps",l&&"vkuiModalPageHeader--desktop"),ref:r,children:h.jsx(Jf,Q(B({className:$("vkuiInternalModalPageHeader__in",i),typographyProps:B({Component:"h2",id:d},o)},a),{fixed:!1,delimiter:"none",transparent:!0,children:e}))}),!t&&h.jsx(Dl,{wide:c==="regular"})]})},O0={passive:!0,capture:!1};function M8(){var n;const{document:e}=Tt(),[t,r]=k.useState(!1),i=k.useCallback(o=>{var a,s;const l=(o===!0||o.type==="focusin")&&((e==null||(a=e.activeElement)===null||a===void 0?void 0:a.tagName)==="INPUT"||(e==null||(s=e.activeElement)===null||s===void 0?void 0:s.tagName)==="TEXTAREA");r(l)},[e==null||(n=e.activeElement)===null||n===void 0?void 0:n.tagName]);return k.useEffect(()=>{i(!0)},[i]),No(e,"focusout",i,O0),No(e,"focusin",i,O0),{isOpened:t}}function A8({children:n="Закрыть",testId:e,mode:t,onClose:r}){const i=De(),{isDesktop:o}=Ho();return o&&t==="outside"?h.jsx($v,{"data-testid":e,onClick:r,children:n}):t==="inside"||i==="ios"&&!o?h.jsxs(sr,{className:"vkuiModalCardBase__dismiss",onClick:r,hoverMode:"opacity",activeMode:"opacity","data-testid":e,children:[h.jsx(Sn,{children:n}),i==="ios"?h.jsx(B6,{}):h.jsx(Ev,{})]}):null}const P8=n=>{var{icon:e,header:t,headerComponent:r="span",subheader:i,subheaderComponent:o="span",children:a,actions:s,onClose:l,dismissLabel:c="Скрыть",style:d,size:f,modalDismissButtonTestId:u,dismissButtonMode:p="outside",preventClose:g}=n,m=J(n,["icon","header","headerComponent","subheader","subheaderComponent","children","actions","onClose","dismissLabel","style","size","modalDismissButtonTestId","dismissButtonMode","preventClose"]);const w=De(),{isDesktop:y}=Ho(),x=M8().isOpened,v=y?f:void 0,S=!e&&(p==="inside"||w==="ios"&&!y&&p!=="none"),_=Pe(t),b=Pe(i);return h.jsx(Ce,Q(B({},m),{baseClassName:$("vkuiInternalModalCardBase",w==="ios"&&"vkuiModalCardBase--ios",y&&"vkuiModalCardBase--desktop",S&&"vkuiModalCardBase--withSafeZone"),style:Q(B({},d),{maxWidth:v}),children:h.jsxs("div",{className:$("vkuiModalCardBase__container",x&&"vkuiModalCardBase__container--softwareKeyboardOpened"),children:[Pe(e)&&h.jsx("div",{className:"vkuiModalCardBase__icon",children:e}),Pe(t)&&h.jsx(ki,{level:"2",weight:"2",className:"vkuiModalCardBase__header",Component:r,children:t}),_&&b&&h.jsx(Fv,{size:8}),b&&h.jsx(Bo.Provider,{value:{sizeY:"regular"},children:h.jsx(ts,{className:"vkuiModalCardBase__subheader",Component:o,children:i})}),a,Pe(s)&&h.jsx("div",{className:"vkuiModalCardBase__actions",children:s}),p!=="none"&&h.jsx(A8,{testId:u,onClose:l,mode:p,children:c})]})}))},cd={ios:"vkuiModalCard--ios",android:"vkuiModalCard--android",vkcom:"vkuiModalCard--vkcom"},rp=n=>{var{icon:e,header:t,headerComponent:r,subheader:i,subheaderComponent:o,children:a,actions:s,onClose:l,nav:c,id:d,size:f,modalDismissButtonTestId:u,getRootRef:p,dismissButtonMode:g,dismissLabel:m}=n,w=J(n,["icon","header","headerComponent","subheader","subheaderComponent","children","actions","onClose","nav","id","size","modalDismissButtonTestId","getRootRef","dismissButtonMode","dismissLabel"]);const{isDesktop:y}=Ho(),x=De(),v=k.useContext(oi),{refs:S}=zv(br({nav:c,id:d}),"card"),_=Ut(p,S.modalElement),b=k.useMemo(()=>({labelId:"".concat(d,"-label")}),[d]);return h.jsx(Ce,Q(B({},w),{getRootRef:_,tabIndex:-1,role:"dialog","aria-modal":"true","aria-labelledby":b.labelId,id:d,baseClassName:$("vkuiModalCard",cd.hasOwnProperty(x)?cd[x]:cd.android,y&&"vkuiModalCard--desktop"),children:h.jsx(P8,{className:"vkuiModalCard__in",getRootRef:S.innerElement,icon:e,header:t,headerComponent:r,subheader:i,subheaderComponent:o,actions:s,onClose:l||v.onClose,size:f,modalDismissButtonTestId:u,dismissButtonMode:g,dismissLabel:m,children:a})}))},L8=n=>{var{mode:e,size:t}=n,r=J(n,["mode","size"]);const i=t==="large";if(De()==="ios")switch(e){case"primary":return i?h.jsx(ki,B({level:"2",weight:"2"},r)):h.jsx(ki,B({weight:"1",level:"3"},r));case"secondary":return h.jsx(Rn,B({weight:"1",caps:!0},r));case"tertiary":return h.jsx(ki,B({weight:"1",level:"3"},r))}switch(e){case"primary":return i?h.jsx(ki,B({level:"2",weight:"2"},r)):h.jsx(Va,B({weight:"2"},r));case"secondary":return h.jsx(Rn,B({weight:"1",caps:!0},r));case"tertiary":return h.jsx(Va,B({weight:"2"},r))}return null},T8={primary:"vkuiHeader--mode-primary",secondary:"vkuiHeader--mode-secondary",tertiary:"vkuiHeader--mode-tertiary"},j0=n=>{var{mode:e="primary",size:t="regular",Component:r="h2",children:i,subtitle:o,subtitleComponent:a="span",indicator:s,aside:l,multiline:c,before:d,beforeTitle:f,afterTitle:u,beforeSubtitle:p,afterSubtitle:g}=n,m=J(n,["mode","size","Component","children","subtitle","subtitleComponent","indicator","aside","multiline","before","beforeTitle","afterTitle","beforeSubtitle","afterSubtitle"]);return h.jsxs(Ce,Q(B({},m),{baseClassName:$("vkuiHeader",T8[e],t==="large"&&"vkuiHeader--large",xu(s)&&"vkuiHeader--pi",Pe(o)&&"vkuiHeader--with-subtitle"),children:[d&&h.jsx("div",{className:$("vkuiHeader__before",o&&"vkuiHeader__before--withSubtitle"),children:d}),h.jsxs("div",{className:"vkuiHeader__main",children:[h.jsxs(L8,{className:"vkuiHeader__content",Component:r,mode:e,size:t,children:[f&&h.jsx("div",{className:"vkuiHeader__content__before",children:f}),h.jsx("span",{className:$("vkuiHeader__content-in",c&&"vkuiHeader__content--multiline"),children:i}),u&&h.jsx("div",{className:"vkuiHeader__content__after",children:u}),Pe(s)&&h.jsx(Rn,{className:"vkuiHeader__indicator",weight:"2",children:s})]}),Pe(o)&&h.jsxs("div",{className:"vkuiHeader__subtitleWrapper",children:[p&&h.jsx("div",{className:"vkuiHeader__subtitleBefore",children:p}),h.jsx(ts,{className:$("vkuiHeader__subtitle",c&&"vkuiHeader__content--multiline"),Component:a,children:o}),g&&h.jsx("div",{className:"vkuiHeader__subtitleAfter",children:g})]})]}),Pe(l)&&h.jsx(ov,{className:"vkuiHeader__aside",Component:"span",children:l})]}))},R8={none:$("vkuiGroup--sizeX-none","vkuiInternalGroup--sizeX-none"),regular:"vkuiGroup--sizeX-regular",compact:"vkuiGroup--sizeX-compact"},O8={none:$("vkuiGroup--mode-none","vkuiInternalGroup--mode-none"),plain:$("vkuiGroup--mode-plain","vkuiInternalGroup--mode-plain"),card:$("vkuiGroup--mode-card","vkuiInternalGroup--mode-card")},j8={s:"vkuiGroup--padding-s",m:"vkuiGroup--padding-m"};function B8(n,e,t){const{layout:r}=k.useContext(es);return n||(t?"plain":r||(e!=="none"?e==="regular"?"card":"plain":"none"))}const ip=n=>{var{children:e,separator:t="auto",mode:r,padding:i="m",tabIndex:o}=n,a=J(n,["children","separator","mode","padding","tabIndex"]);const{isInsideModal:s}=k.useContext(oi),{sizeX:l="none"}=$e(),c=B8(r,l,s),f=a.role==="tabpanel"&&o===void 0?0:o;let u=null;switch(t){case"auto":u=h.jsx("div",{className:"vkuiGroup__separator-sibling"});break;case"show":u=h.jsx("div",{className:$("vkuiGroup__separator-sibling",c==="plain"||c==="none"?"vkuiGroup__separator-sibling--forced":void 0)});break}return h.jsxs(h.Fragment,{children:[h.jsx(Ce,Q(B({Component:"section"},a),{tabIndex:f,baseClassName:$("vkuiInternalGroup","vkuiGroup",R8[l],c==="plain"&&s&&"vkuiGroup--mode-plain-inside-modal",O8[c],j8[i]),children:e})),u]})};ip.displayName="GroupContainer";const op=n=>{var{className:e}=n,t=J(n,["className"]);return h.jsx(Rn,B({className:$(e,"vkuiGroup__description")},t))};op.displayName="GroupDescription";const D8={inline:"vkuiGroup__expanded-content--inline",block:"vkuiGroup__expanded-content--block"},z8=n=>{var{direction:e="inline"}=n,t=J(n,["direction"]);return h.jsx(Ce,Q(B({Component:"div"},t),{baseClassName:$("vkuiGroup__expanded-content",D8[e])}))},ap=n=>{var{className:e}=n,t=J(n,["className"]);return h.jsx("div",B({className:$(e,"vkuiGroup__header")},t))};ap.displayName="GroupHeader";const ot=n=>{var{header:e,description:t,children:r}=n,i=J(n,["header","description","children"]);return h.jsxs(ip,Q(B({},i),{children:[Pe(e)&&h.jsx(ap,{children:e}),r,Pe(t)&&h.jsx(op,{children:t})]}))};ot.displayName="Group";ot.Container=ip;ot.Container.displayName="Group.Container";ot.Header=ap;ot.Header.displayName="Group.Header";ot.Description=op;ot.Description.displayName="Group.Description";ot.ExpandedContent=z8;ot.ExpandedContent.displayName="Group.ExpandedContent";const F8=300,Ts=-1,H8="data-draggable-placeholder",U8=n=>{let e=[],t=null;const r=(...i)=>{e=i,!t&&(t=requestAnimationFrame(()=>{t=null,n(...e)}))};return r.cancel=()=>{t&&(cancelAnimationFrame(t),t=null)},r},B0=10,Xi=50,V8=(n,e)=>{const t=Math.floor(wu(e).scrollTop),{relative:r,edges:i}=L4(e),o=r.height,s=P4(e)-o,l=t>0,c=t<s,[d,f]=i.y,u=n-d,p=f-n,g=u<=Xi,m=p<=Xi,w={shouldScrolling:l&&g||c&&m,y:0};return g?w.y=-1*((Xi-u)/Xi)*B0:m&&(w.y=(Xi-p)/Xi*B0),w},$8=n=>{let e=!1;const t=U8(r);function r(a){const{shouldScrolling:s,y:l}=a();s?(e=!0,n.scrollBy(0,l),t(a)):(e=!1,t.cancel())}return{tryAutoScroll:a=>{t(a)},stop:()=>{e=!1,t.cancel()},get isRunning(){return e}}},W8=(n,e)=>{const t=e.height/2;return{isUnderEl:n<=e.bottom-t,isOverEl:n>=e.top+t}},D0=(n,e)=>{requestAnimationFrame(()=>{n.style.transform="translateY(".concat(e,"px)")})},z0=([{el:n,draggingElRect:{height:e}},t],r=0)=>{requestAnimationFrame(()=>{t==="up"?(n.style.setProperty("transition","transform 0.3s ease-in 0s"),n.style.removeProperty("transform")):(n.style.setProperty("transition","transform 0.3s ease-out 0s"),n.style.setProperty("transform","translateY(".concat(e+r,"px)")))})},Y8=({el:n,draggingElRect:e})=>{const{top:t,left:r,width:i,height:o}=e;requestAnimationFrame(()=>{n.style.setProperty("pointer-events","none"),n.style.setProperty("position","fixed"),n.style.setProperty("top","".concat(t,"px")),n.style.setProperty("left","".concat(r,"px")),n.style.setProperty("width","".concat(i,"px")),n.style.setProperty("height","".concat(o,"px")),n.style.setProperty("z-index","var(--vkui_internal--z_index_cell_dragging)"),n.style.setProperty("box-sizing","border-box"),n.style.setProperty("transform","translateY(0)")})},X8=({el:n})=>{requestAnimationFrame(()=>{n.style.removeProperty("pointer-events"),n.style.removeProperty("position"),n.style.removeProperty("top"),n.style.removeProperty("left"),n.style.removeProperty("width"),n.style.removeProperty("height"),n.style.removeProperty("z-index"),n.style.removeProperty("box-sizing"),n.style.removeProperty("transform")})},G8=({el:n,draggingElRect:e})=>{if(n.firstElementChild)return;const{width:t,height:r}=e,i=n.cloneNode();i.style.setProperty("display","block"),i.style.setProperty("width","".concat(t,"px")),i.style.setProperty("height","".concat(r,"px")),i.style.setProperty("pointer-events","none"),n.appendChild(i),n.style.setProperty("display","block")},F0=({el:n})=>{n.style.display="",n.removeAttribute("style"),n.firstElementChild&&n.firstElementChild.remove()},K8=({el:n,shifted:e,draggingElRect:t},r=0)=>{const{height:i}=t;requestAnimationFrame(()=>{n.style.setProperty("pointer-events","none"),n.style.setProperty("transition","none 0s ease 0s"),e&&n.style.setProperty("transform","translateY(".concat(i+r,"px)"))})},q8=({el:n})=>{requestAnimationFrame(()=>{n.style.removeProperty("pointer-events"),n.style.removeProperty("transition"),n.style.removeProperty("transform")})},Q8=({elRef:n,onDragFinish:e})=>{const[t,r]=k.useState(!1),i=k.useRef(0),o=k.useRef(0),a=k.useRef(null),s=k.useRef(0),l=k.useRef(null),c=D=>{const W=A4(D);W&&(a.current=W,s.current=wu(W).scrollTop,l.current=$8(a.current))},d=()=>{var D;s.current=0,(D=l.current)===null||D===void 0||D.stop(),a.current=l.current=null},f=k.useRef(void 0),u=(D,W)=>{const H=D-W;return H<0?"down":H>0?"up":f.current},p=k.useRef(Ts),g=k.useRef(Ts),m=k.useRef(null),w=k.useRef(null),y=k.useRef([]),x=k.useRef(0),v=D=>{const W=_u(D,!0),H=D.parentElement;x.current=H?parseInt(H.style.gridGap):0;const{children:M}=H||{children:[]};Array.prototype.forEach.call(M,(L,j)=>{L===D?(p.current=g.current=j,m.current={index:j,el:L,draggingElRect:W}):L.getAttribute(H8)!==null?w.current={index:j,el:L,draggingElRect:W}:y.current.push({index:j,el:L,shifted:p.current!==Ts&&p.current<j,draggingElRect:W})}),w.current&&G8(w.current),m.current&&Y8(m.current),y.current.forEach(L=>K8(L,x.current))},S=()=>{w.current&&F0(w.current),m.current&&X8(m.current),y.current.forEach(q8),y.current=[],w.current=m.current=null;const D={from:p.current,to:g.current};return p.current=g.current=Ts,D},_=D=>{const W=[],H=[];return g.current=p.current,y.current.forEach(M=>{const{isOverEl:L,isUnderEl:j}=W8(D,_u(M.el));p.current<M.index?(L&&(g.current=g.current+1,f.current==="down"&&M.shifted&&(M.shifted=!1,W.push([M,"up"]))),j&&f.current==="up"&&!M.shifted&&(M.shifted=!0,H.push([M,"down"]))):p.current>M.index&&(j&&(g.current=g.current-1,f.current==="up"&&!M.shifted&&(M.shifted=!0,W.push([M,"down"]))),L&&f.current==="down"&&M.shifted&&(M.shifted=!1,H.push([M,"up"])))}),[W,H]},b=(D,W)=>{D.forEach(H=>z0(H,x.current)),W.forEach(H=>z0(H,x.current))},C=k.useRef(null),N=()=>{C.current&&(clearTimeout(C.current),C.current=null)},I=()=>{l.current&&l.current.tryAutoScroll(()=>a.current?V8(i.current,a.current):{shouldScrolling:!1,y:0})},E=()=>{N(),C.current=setTimeout(()=>{C.current=null,I()},F8)},A=D=>{D.originalEvent.stopPropagation(),D.originalEvent.preventDefault()},T=D=>{D.originalEvent.stopPropagation(),D.originalEvent.preventDefault();const W=n.current;if(W)if(t)if(f.current=u(o.current,D.shiftY),o.current=D.shiftY,i.current=D.clientY,l.current&&l.current.isRunning)D0(W,o.current);else{const[H,M]=_(i.current);D0(W,o.current),b(H,M),E()}else r(H=>H||(c(W),v(W),!0))},P=D=>{if(D.originalEvent.stopPropagation(),D.originalEvent.preventDefault(),N(),d(),i.current=o.current=0,f.current=void 0,t){const W=S();e&&e(W),r(!1)}},O=k.useCallback(()=>{if(!n.current||!a.current)return;const D=wu(a.current).scrollTop;f.current=u(s.current,D);const W=s.current-D,H=i.current+W;s.current=D;const[M,L]=_(H);b(M,L)},[n]);return je(function(){const W=a.current;if(!(!t||!W))return W.addEventListener("scroll",O),()=>{W&&W.removeEventListener("scroll",O)}},[t,O]),je(()=>function(){w.current&&F0(w.current)},[]),{dragging:t,onDragStart:A,onDragMove:T,onDragEnd:P}},J8=({onRemove:n,removePlaceholder:e,removePlaceholderString:t,children:r,toggleButtonTestId:i,removeButtonTestId:o,disabled:a})=>{const{window:s}=Tt(),l=k.useRef(null),c=k.useRef(!0),[d,f]=k.useState(0);No(s,"click",()=>{d>0&&f(0)},{capture:!0});const u=()=>{if(d>0){var g;l==null||(g=l.current)===null||g===void 0||g.focus()}else c.current=!0},p=g=>{if(g.stopPropagation(),!l.current)return;const{offsetWidth:m}=l.current;c.current=!1,f(m)};return h.jsxs("div",{className:$("vkuiRemovable__content","vkuiInternalRemovable__content"),style:{transform:"translateX(-".concat(d!=null?d:0,"px)")},onTransitionEnd:u,children:[h.jsxs(Yf,{hasActive:!1,hasHover:!1,className:$("vkuiRemovable__action","vkuiRemovable__toggle","vkuiInternalRemovable__action"),onClick:p,disabled:d>0||a,"data-testid":i,children:[h.jsx(Sn,{children:t}),h.jsx("i",{className:"vkuiRemovable__toggle-in",role:"presentation"})]}),typeof r=="function"?r({isRemoving:d>0}):r,h.jsx("span",{className:"vkuiRemovable__offset","aria-hidden":!0}),h.jsx(sr,{Component:"button",hasActive:!1,hasHover:!1,disabled:c.current,getRootRef:l,className:"vkuiRemovable__remove",onClick:n,"data-testid":o,children:h.jsx("span",{className:"vkuiRemovable__remove-in",children:e})})]})},Jv=n=>{var{children:e,onRemove:t,removePlaceholder:r="Удалить",align:i="center",indent:o=!1,toggleButtonTestId:a,removeButtonTestId:s,disabled:l}=n,c=J(n,["children","onRemove","removePlaceholder","align","indent","toggleButtonTestId","removeButtonTestId","disabled"]);const d=De(),f=p=>{p.preventDefault(),t==null||t(p)},u=Of(r);return h.jsxs(Ce,Q(B({},c),{baseClassName:$(d==="ios"&&"vkuiRemovable--ios",i==="start"&&"vkuiRemovable--align-start",o&&"vkuiRemovable--indent"),children:[d!=="ios"&&h.jsxs("div",{className:$("vkuiRemovable__content","vkuiInternalRemovable__content"),children:[typeof e=="function"?e({isRemoving:!1}):e,h.jsx(Yf,{activeMode:"opacity",hoverMode:"opacity",className:$("vkuiRemovable__action","vkuiInternalRemovable__action"),onClick:f,label:u,"data-testid":s,disabled:l,children:h.jsx(Nv,{role:"presentation"})}),h.jsx("span",{className:"vkuiRemovable__offset","aria-hidden":!0})]}),d==="ios"&&h.jsx(J8,{onRemove:f,removePlaceholder:r,removePlaceholderString:u,toggleButtonTestId:a,removeButtonTestId:s,disabled:l,children:e})]}))},Z8={s:g6,m:R6},ew=n=>{var{size:e="m"}=n,t=J(n,["size"]);const r=Z8[e];return h.jsx(r,B({},t))},tw={none:"vkuiSimpleCell--sizeY-none",compact:"vkuiSimpleCell--sizeY-compact"},dd=n=>{var{badgeBeforeTitle:e,badgeAfterTitle:t,badgeBeforeSubtitle:r,badgeAfterSubtitle:i,before:o,indicator:a,children:s,after:l,expandable:c,multiline:d,subhead:f,subtitle:u,extraSubtitle:p,className:g,chevronSize:m="m"}=n,w=J(n,["badgeBeforeTitle","badgeAfterTitle","badgeBeforeSubtitle","badgeAfterSubtitle","before","indicator","children","after","expandable","multiline","subhead","subtitle","extraSubtitle","className","chevronSize"]);const y=De(),x=c==="always"||c==="auto"&&y==="ios",v=Pe(l)||x,{sizeY:S="none"}=$e();return h.jsxs(sr,Q(B({},w),{className:$("vkuiSimpleCell",w.disabled&&"vkuiSimpleCell--disabled",S!=="regular"&&tw[S],d&&"vkuiSimpleCell--mult",g),children:[h.jsx("div",{className:$("vkuiSimpleCell__before",y==="ios"&&"vkuiSimpleCell__before--ios"),children:o}),h.jsxs("div",{className:"vkuiSimpleCell__middle",children:[f&&h.jsx(ts,{Component:"span",className:$("vkuiSimpleCell__text","vkuiSimpleCell__subhead"),children:f}),h.jsxs("div",{className:"vkuiSimpleCell__content",children:[e&&h.jsx("span",{className:"vkuiSimpleCell__badge",children:e}),h.jsx(Va,{Component:"span",className:"vkuiSimpleCell__children",weight:"3",children:s}),Pe(t)&&h.jsx("span",{className:"vkuiSimpleCell__badge",children:t})]}),u&&h.jsxs("div",{className:"vkuiSimpleCell__content",children:[r&&h.jsx("span",{className:"vkuiSimpleCell__badge",children:r}),h.jsx(Rn,{normalize:!1,className:$("vkuiSimpleCell__text","vkuiSimpleCell__subtitle"),children:u}),i&&h.jsx("span",{className:"vkuiSimpleCell__badge",children:i})]}),p&&h.jsx(Rn,{className:$("vkuiSimpleCell__text","vkuiSimpleCell__extraSubtitle"),children:p})]}),Pe(a)&&h.jsx(Va,{Component:"span",weight:"3",className:"vkuiSimpleCell__indicator",children:a}),v&&h.jsxs("div",{className:$("vkuiSimpleCell__after","vkuiInternalSimpleCell__after"),children:[l,x&&h.jsx(ew,{size:m,className:"vkuiSimpleCell__chevronIcon"})]})]}))},nw=()=>h.jsx(ji,{IconCompact:S6,IconRegular:P6}),rw=()=>h.jsx(ji,{IconCompact:_6,IconRegular:A6}),iw=()=>h.jsx(ji,{IconCompact:C6,IconRegular:T6}),ow=()=>h.jsx(ji,{IconCompact:k6,IconRegular:L6});function aw(n){const e=De();return n!=="auto"?n:e==="ios"||e==="vkcom"?"circle":"square"}const Zv=n=>{var{getRootRef:e,getRef:t,className:r,style:i,type:o="auto"}=n,a=J(n,["getRootRef","getRef","className","style","type"]);const s=aw(o),l=s==="circle"?ow:rw,c=s==="circle"?iw:nw;return h.jsxs("span",{className:$("vkuiCellCheckbox",r),style:i,ref:e,children:[h.jsx(Sn,Q(B({},a),{Component:"input",type:"checkbox",className:"vkuiCellCheckbox__input",getRootRef:t})),h.jsx("span",{className:$("vkuiCellCheckbox__icon","vkuiCellCheckbox__icon--off"),"aria-hidden":!0,children:h.jsx(l,{})}),h.jsx("span",{className:$("vkuiCellCheckbox__icon","vkuiCellCheckbox__icon--on"),"aria-hidden":!0,children:h.jsx(c,{})})]})},sw=n=>{var{elRef:e,disabled:t,className:r,onDragStateChange:i,onDragFinish:o,children:a}=n,s=J(n,["elRef","disabled","className","onDragStateChange","onDragFinish","children"]);const c=De()==="ios"?F6:z6,{dragging:d,onDragStart:f,onDragMove:u,onDragEnd:p}=Q8({elRef:e,onDragFinish:o});return je(()=>{i&&i(d)},[d,i]),h.jsxs(hc,Q(B({className:$("vkuiCellDragger",r),onStart:t?void 0:f,onMoveY:t?void 0:u,onEnd:t?void 0:p},s),{children:[a&&h.jsx(Sn,{children:a}),h.jsx(c,{className:"vkuiCellDragger__icon"})]}))},lw="Перенести ячейку",e2=n=>{var{mode:e,onRemove:t,removePlaceholder:r="Удалить",onDragFinish:i,before:o,after:a,disabled:s,draggable:l,Component:c,onChange:d,name:f,value:u,checked:p,defaultChecked:g,getRootRef:m,draggerLabel:w=lw,className:y,style:x,toggleButtonTestId:v,removeButtonTestId:S}=n,_=J(n,["mode","onRemove","removePlaceholder","onDragFinish","before","after","disabled","draggable","Component","onChange","name","value","checked","defaultChecked","getRootRef","draggerLabel","className","style","toggleButtonTestId","removeButtonTestId"]);const[b,C]=k.useState(!1),N=e==="selectable",I=e==="removable",E=N?"label":c,A=De(),T=Ut(m),P=l?h.jsx(sw,{elRef:T,className:$("vkuiCell__dragger",!o&&!N&&"vkuiCell__control--noBefore"),onDragStateChange:C,onDragFinish:i,children:w}):null;let O;if(N){const M={name:f,value:u,defaultChecked:g,checked:p,disabled:s,onChange:d};O=h.jsx(Zv,B({className:$("vkuiCell__checkbox",!o&&"vkuiCell__control--noBefore")},M))}const D=!s&&!b,W=$("vkuiCell",b&&"vkuiCell--dragging",A==="ios"&&"vkuiCell--ios",I&&"vkuiCell--removable",E==="label"&&"vkuiCell--selectable"),H=Q(B(Q(B({hasActive:D,hasHover:D&&!I,disabled:s},_),{className:"vkuiCell__content"}),E&&{Component:E}),{before:h.jsxs(k.Fragment,{children:[l&&A!=="ios"&&P,N&&O,o]}),after:h.jsxs(k.Fragment,{children:[l&&A==="ios"&&P,a]})});return I?h.jsx(Jv,{className:$(W,y),style:x,getRootRef:T,removePlaceholder:r,onRemove:M=>t==null?void 0:t(M,T.current),toggleButtonTestId:v,removeButtonTestId:S,disabled:s,children:A==="ios"?({isRemoving:M})=>h.jsx(dd,B({},H,M?{onClick:void 0}:{})):h.jsx(dd,B({},H))}):h.jsx("div",{className:$(W,y),style:x,ref:T,children:h.jsx(dd,B({},H))})};e2.Checkbox=Zv;const t2=n=>{var{className:e}=n,t=J(n,["className"]);const{size:r}=k.useContext(Vf);return h.jsx(Mr.Badge,Q(B({},t),{className:$("vkuiAvatarBadge",r<96&&"vkuiAvatarBadge--shifted",e)}))};t2.displayName="Avatar.Badge";const cw=n=>{var{width:e,height:t}=n,r=J(n,["width","height"]);return h.jsx(p6,Q(B({},r),{width:e>=24?15:12,height:t>=24?15:12}))},dw=n=>{var{width:e,height:t}=n,r=J(n,["width","height"]);return h.jsx(h6,Q(B({},r),{width:e>=24?9:8,height:t>=24?15:12}))},n2=n=>{var{preset:e="online",className:t}=n,r=J(n,["preset","className"]);const{size:i}=k.useContext(Vf),o=$f(i),a=e==="online",s=a?"vkuiAvatarBadge--preset-online":"vkuiAvatarBadge--preset-onlineMobile",l=a?cw:dw;return h.jsx(Mr.Badge,Q(B({background:"stroke",className:$("vkuiAvatarBadge",s,t)},r),{children:h.jsx(l,{width:o,height:o})}))};n2.displayName="Avatar.BadgeWithPreset";const r2=30,i2=96,uw=r2/i2;function o2(n){if(n<=16)return 5;if(n<=24)return 8;if(n<=32)return 10;if(n<=36)return 13;if(n<=44)return 14;if(n<=48)return 17;if(n<56)return 18;if(n<=64)return 21;if(n<=88)return 26;if(n<=i2)return r2;const e=Math.ceil(n*uw),t=e%2;return e+t}const fw=48,pw={1:"red",2:"orange",3:"yellow",4:"green",5:"l-blue",6:"violet"},hw={red:"vkuiAvatar--gradient-red",orange:"vkuiAvatar--gradient-orange",yellow:"vkuiAvatar--gradient-yellow",green:"vkuiAvatar--gradient-green",blue:"vkuiAvatar--gradient-blue","l-blue":"vkuiAvatar--gradient-l-blue",violet:"vkuiAvatar--gradient-violet"},qt=n=>{var{size:e=fw,className:t,gradientColor:r,initials:i,fallbackIcon:o,children:a}=n,s=J(n,["size","className","gradientColor","initials","fallbackIcon","children"]);const l=typeof r=="number"?pw[r]:r,c=l&&l!=="custom",d=i?h.jsx("div",{className:"vkuiAvatar__initials",style:{fontSize:o2(e)},children:i}):o;return h.jsx(Mr,Q(B({},s),{size:e,fallbackIcon:d,className:$("vkuiAvatar",l&&"vkuiAvatar--has-gradient",c&&hw[l],t),children:a}))};qt.displayName="Avatar";qt.Badge=t2;qt.Badge.displayName="Avatar.Badge";qt.BadgeWithPreset=n2;qt.BadgeWithPreset.displayName="Avatar.BadgeWithPreset";qt.Overlay=Mr.Overlay;qt.Overlay.displayName="Avatar.Overlay";qt.getInitialsFontSize=o2;const mw=n=>{var{hasVisited:e,children:t,className:r}=n,i=J(n,["hasVisited","children","className"]);return h.jsx(sr,Q(B({Component:i.href?"a":"button"},i),{className:$("vkuiLink",e&&"vkuiLink--has-visited",r),hasHover:!1,activeMode:"opacity",hoverMode:"none",focusVisibleMode:"outside",children:t}))},a2=n=>{var{stretched:e,noPadding:t=!1}=n,r=J(n,["stretched","noPadding"]);return h.jsx(Ce,B({baseClassName:$("vkuiPlaceholder",e&&"vkuiPlaceholder--stretched",!t&&"vkuiPlaceholder--withPadding")},r))},s2=n=>h.jsx(Ce,B({baseClassName:"vkuiPlaceholder__icon"},n)),l2=n=>{var{className:e}=n,t=J(n,["className"]);return h.jsx(ki,B({level:"2",weight:"2",className:$(e,"vkuiPlaceholder__header")},t))},c2=n=>{var{className:e}=n,t=J(n,["className"]);return h.jsx(Va,B({weight:"3",className:$(e,"vkuiPlaceholder__text")},t))},d2=n=>h.jsx(Ce,B({baseClassName:"vkuiPlaceholder__action"},n)),Vo=n=>{var{icon:e,header:t,children:r,action:i,noPadding:o=!1}=n,a=J(n,["icon","header","children","action","noPadding"]);return h.jsxs(a2,Q(B({noPadding:o},a),{children:[Pe(e)&&h.jsx(s2,{children:e}),Pe(t)&&h.jsx(l2,{children:t}),Pe(r)&&h.jsx(c2,{children:r}),Pe(i)&&h.jsx(d2,{children:i})]}))};Vo.Container=a2;Vo.Icon=s2;Vo.Header=l2;Vo.Text=c2;Vo.Actions=d2;function gw(n,e){const t=k.useRef(null),r=k.useRef(),i=k.useCallback(a=>{e&&a.offsetParent&&(a.style.height="",a.style.height="".concat(a.scrollHeight,"px"),a.scrollHeight!==r.current&&n&&(n(a),r.current=a.scrollHeight))},[e,n]),o=k.useCallback(()=>{const a=t.current;a&&i(a)},[t,i]);return[t,o]}const sp=n=>h.jsx(Ce,Q(B({},n),{baseClassName:"vkuiFormItem__top"}));sp.displayName="FormItemTop";const u2=n=>{var{children:e}=n,t=J(n,["children"]);return h.jsx(ts,Q(B({className:"vkuiFormItemTop__aside"},t),{children:e}))};u2.displayName="FormItemTopAside";const f2=k.createContext({required:!1,topMultiline:!1}),lp=n=>{var{children:e,Component:t,htmlFor:r,multiline:i}=n,o=J(n,["children","Component","htmlFor","multiline"]);const a=t||r&&"label"||"span",{required:s,topMultiline:l}=k.useContext(f2);return h.jsxs(ts,Q(B({className:$("vkuiFormItemTop__label",(i!=null?i:l)&&"vkuiFormItemTop__label--multiline"),Component:a,htmlFor:r},o),{children:[e,s&&h.jsx("span",{className:"vkuiFormItemTop__label--required","aria-hidden":!0,children:"*"})]}))};lp.displayName="FormItemTopLabel";const vw={none:$("vkuiFormItem--sizeY-none","vkuiInternalFormItem--sizeY-none"),compact:$("vkuiFormItem--sizeY-compact","vkuiInternalFormItem--sizeY-compact")},yw={error:$("vkuiFormItem--status-error","vkuiInternalFormItem--status-error"),valid:$("vkuiFormItem--status-valid","vkuiInternalFormItem--status-valid")},en=n=>{var{children:e,top:t,topId:r,topMultiline:i,topComponent:o,bottom:a,status:s="default",removable:l,onRemove:c,removePlaceholder:d="Удалить",getRootRef:f,htmlFor:u,bottomId:p,noPadding:g,topNode:m,required:w=!1}=n,y=J(n,["children","top","topId","topMultiline","topComponent","bottom","status","removable","onRemove","removePlaceholder","getRootRef","htmlFor","bottomId","noPadding","topNode","required"]);const x=Ut(f),{sizeY:v="none"}=$e(),S=h.jsxs(k.Fragment,{children:[Pe(m)?m:Pe(t)?h.jsx(sp,{children:h.jsx(lp,{htmlFor:u,Component:o,multiline:i,id:r,children:t})}):null,e,Pe(a)&&h.jsx(Rn,{className:"vkuiFormItem__bottom",id:p,role:s==="error"?"alert":void 0,children:a})]}),_=Ui({required:w,topMultiline:i});return h.jsx(Ce,Q(B({},y),{getRootRef:x,baseClassName:$("vkuiFormItem",!g&&"vkuiFormItem--withPadding","vkuiInternalFormItem",s!=="default"&&yw[s],v!=="regular"&&vw[v],Pe(t)&&$("vkuiFormItem--withTop","vkuiInternalFormItem--withTop"),l&&$("vkuiFormItem--removable","vkuiInternalFormItem--removable")),children:h.jsx(f2.Provider,{value:_,children:l?h.jsx(Jv,{align:"start",onRemove:b=>{x!=null&&x.current&&(c==null||c(b,x.current))},removePlaceholder:d,indent:l==="indent",children:h.jsx("div",{className:$("vkuiFormItem__removable","vkuiInternalFormItem__removable"),children:S})}):S})}))};en.displayName="FormItem";en.Top=sp;en.Top.displayName="FormItem.Top";en.TopLabel=lp;en.TopLabel.displayName="FormItem.TopLabel";en.TopAside=u2;en.TopAside.displayName="FormItem.TopAside";const xw={none:"vkuiFormField--sizeY-none",compact:"vkuiFormField--sizeY-compact"},bw={error:"vkuiFormField--status-error",valid:"vkuiFormField--status-valid"},ww={center:void 0,start:"vkuiFormField__icon--align-start",end:"vkuiFormField__icon--align-end"},H0=(n,e,t)=>h.jsx("div",{className:"vkuiFormField__iconWrapper",children:h.jsx("span",{className:$(ww[e],t),children:n})}),yc=n=>{var{Component:e="span",status:t="default",children:r,getRootRef:i,before:o,after:a,beforeAlign:s="center",afterAlign:l="center",disabled:c,mode:d="default",className:f,maxHeight:u,style:p}=n,g=J(n,["Component","status","children","getRootRef","before","after","beforeAlign","afterAlign","disabled","mode","className","maxHeight","style"]);const m=Ut(i),{sizeY:w="none"}=$e(),[y,x]=k.useState(!1),v=dc(m),S=Ff({focusVisible:v,mode:"vkuiFormField--focus-visible"}),_=C=>{C.stopPropagation(),x(!0)},b=C=>{C.stopPropagation(),x(!1)};return h.jsxs(e,Q(B({},g),{ref:m,style:u!==void 0?Q(B({},p),{maxHeight:u}):p,onMouseEnter:_,onMouseLeave:b,className:$("vkuiFormField",d==="default"&&"vkuiFormField--mode-default",t!=="default"&&bw[t],w!=="regular"&&xw[w],c&&"vkuiFormField--disabled",!c&&y&&"vkuiFormField--hover",S,f),children:[h.jsxs("div",{className:"vkuiFormField_scrollContainer",children:[o&&H0(o,s,"vkuiFormField__before"),h.jsx("div",{className:"vkuiFormField__content",children:r}),a&&H0(a,l,$("vkuiFormField__after","vkuiInternalFormField__after"))]}),h.jsx("span",{"aria-hidden":!0,className:"vkuiFormField__border"})]}))},_w=n=>{var{children:e="Выберите файл",align:t="left",size:r,mode:i,stretched:o,before:a,after:s,loading:l,className:c,style:d,getRef:f,getRootRef:u,appearance:p}=n,g=J(n,["children","align","size","mode","stretched","before","after","loading","className","style","getRef","getRootRef","appearance"]);return h.jsxs(yt,{Component:"label",align:t,className:c,stretched:o,mode:i,appearance:p,size:r,before:a,after:s,loading:l,style:d,getRootRef:u,disabled:g.disabled,children:[h.jsx(Sn,Q(B({title:""},g),{Component:"input",type:"file",getRootRef:f})),e]})},Sw={none:"vkuiInput--sizeY-none",compact:"vkuiInput--sizeY-compact"},Ke=n=>{var{type:e="text",align:t="left",getRef:r,className:i,getRootRef:o,style:a,before:s,after:l,status:c,mode:d}=n,f=J(n,["type","align","getRef","className","getRootRef","style","before","after","status","mode"]);const{sizeY:u="none"}=$e();return h.jsx(yc,{style:a,className:$("vkuiInput",t==="right"&&"vkuiInput--align-right",t==="center"&&"vkuiInput--align-center",u!=="regular"&&Sw[u],s&&"vkuiInput--hasBefore",l&&"vkuiInput--hasAfter",i),getRootRef:o,before:s,after:l,disabled:f.disabled,mode:d,status:c,children:h.jsx(av,Q(B({},f),{as:"input",type:e,className:"vkuiInput__el",getRootRef:r}))})};function kw(n){return n.label}function Cw(...n){const[e="",t,r]=n,i=r?r(t):kw(t);if(i===void 0)return!1;const o=e.toLocaleLowerCase(),a=Of(i).toLocaleLowerCase();if(a.startsWith(o))return!0;const l=((c="",d="")=>{const f=[];let u=c.indexOf(d);for(;u!==-1;)f.push(u),u=c.indexOf(d,u+1);return f})(a,o);if(l.length){const c=new RegExp("\\p{L}","u");for(const d of l)if(!c.test(a[d-1]))return!0}return!1}const p2=(n="default")=>n==="default"?"default":"plain",h2=(n,e,t)=>{const{document:r}=Tt(),[i,o]=k.useState(!1),a=f=>{i&&(f.preventDefault(),t(f),d())},l=[Ol("mousemove",f=>{i&&(f.preventDefault(),e(f))}),Ol("mouseup",a)];function c(f){f&&l.forEach(u=>u.add(f))}function d(){l.forEach(f=>f.remove())}return{onDragStart:f=>{f.preventDefault(),o(!0),n(f),c(r)}}},m2=(n=!1,e=500)=>{const[t,r]=k.useState(n?"hidden":"visible"),i=k.useRef(!1),o=k.useRef(!1);k.useEffect(()=>{r(n?"hidden":"visible")},[n]);const a=k.useCallback(()=>{o.current=!0,r("visible")},[]),s=k.useCallback(()=>{o.current=!1,i.current||r("temporary-visible")},[]),l=k.useCallback(()=>{i.current=!0,r("visible")},[]),c=k.useCallback(()=>{i.current=!1,o.current||r("temporary-visible")},[]),d=k.useCallback(()=>{i.current||o.current||r("temporary-visible")},[]);return k.useEffect(function(){let u=null;return t==="temporary-visible"&&(u=setTimeout(()=>{r("hidden")},e)),function(){u&&clearTimeout(u)}},[t,e]),{trackerVisible:t!=="hidden",onTrackerDragStart:a,onTrackerDragStop:s,onTrackerMouseEnter:l,onTrackerMouseLeave:c,onTargetScroll:d}},Ew=(n,e,t)=>{const r=k.useRef(null),i=k.useRef(NaN),o=k.useRef(0),a=k.useRef(0),s=k.useRef(0),l=k.useRef(0),c=k.useRef(0),d=k.useRef(0),f=k.useRef(null),{trackerVisible:u,onTargetScroll:p,onTrackerDragStart:g,onTrackerDragStop:m,onTrackerMouseEnter:w,onTrackerMouseLeave:y}=m2(e,t),x=E=>{o.current=E,f.current!==null&&(f.current.style.transform="translate(".concat(E,"px, 0)"))},v=E=>{const A=E/(l.current-a.current);x((a.current-s.current)*A)},S=()=>{if(!n.current||!r.current||!f.current)return;const E=n.current.clientWidth,A=n.current.scrollWidth,T=E/A,P=Math.max(E*T,40);i.current=T,a.current=E,l.current=A,s.current=P;const O=n.current.scrollLeft;T>=1?r.current.style.display="none":(r.current.style.display="",f.current.style.width="".concat(P,"px"),v(O))},_=E=>{const A=E/(a.current-s.current);n.current!==null&&n.current.scroll({left:(l.current-a.current)*A})};return{barRef:r,trackerVisible:u,trackerRef:f,resize:S,dragging:E=>{const A=E.clientX-c.current,T=Math.min(Math.max(d.current+A,0),a.current-s.current);_(T)},dragEnd:()=>{e&&m()},scroll:()=>{n.current&&(e&&p(),v(n.current.scrollLeft))},dragStart:E=>{c.current=E.clientX,d.current=o.current,e&&g()},trackerMouseEnter:w,trackerMouseLeave:y}},Iw=({barHandlers:n,boxRef:e,autoHideScrollbar:t,autoHideScrollbarDelay:r})=>{const{barRef:i,trackerVisible:o,trackerRef:a,resize:s,scroll:l,dragStart:c,dragging:d,dragEnd:f,trackerMouseEnter:u,trackerMouseLeave:p}=Ew(e,t,r),{onDragStart:g}=h2(c,d,f);return k.useImperativeHandle(n,()=>({resize:s,scroll:l}),[s,l]),h.jsx("div",{className:"vkuiCustomScrollView__barX",ref:i,onClick:Ll,children:h.jsx("div",{className:$("vkuiCustomScrollView__trackerX",!o&&"vkuiCustomScrollView__trackerX--hidden"),onMouseEnter:t?u:void 0,onMouseLeave:t?p:void 0,ref:a,onMouseDown:g})})},Nw=(n,e,t)=>{const r=k.useRef(null),i=k.useRef(NaN),o=k.useRef(0),a=k.useRef(0),s=k.useRef(0),l=k.useRef(0),c=k.useRef(0),d=k.useRef(0),f=k.useRef(null),{trackerVisible:u,onTargetScroll:p,onTrackerDragStart:g,onTrackerDragStop:m,onTrackerMouseEnter:w,onTrackerMouseLeave:y}=m2(e,t),x=E=>{o.current=E,f.current!==null&&(f.current.style.transform="translate(0, ".concat(E,"px)"))},v=E=>{const A=E/(l.current-a.current);x((a.current-s.current)*A)},S=()=>{if(!n.current||!r.current||!f.current)return;const E=n.current.clientHeight,A=n.current.scrollHeight,T=E/A,P=Math.max(E*T,40);i.current=T,a.current=E,l.current=A,s.current=P;const O=n.current.scrollTop;T>=1?r.current.style.display="none":(r.current.style.display="",f.current.style.height="".concat(P,"px"),v(O))},_=E=>{const A=E/(a.current-s.current);n.current!==null&&n.current.scroll({top:(l.current-a.current)*A})};return{barRef:r,trackerVisible:u,trackerRef:f,resize:S,dragging:E=>{const A=E.clientY-c.current,T=Math.min(Math.max(d.current+A,0),a.current-s.current);_(T)},dragEnd:()=>{e&&m()},scroll:()=>{n.current&&(e&&p(),v(n.current.scrollTop))},dragStart:E=>{c.current=E.clientY,d.current=o.current,e&&g()},trackerMouseEnter:w,trackerMouseLeave:y}},Mw=({barHandlers:n,boxRef:e,autoHideScrollbar:t,autoHideScrollbarDelay:r})=>{const{barRef:i,trackerVisible:o,trackerRef:a,resize:s,scroll:l,dragStart:c,dragging:d,dragEnd:f,trackerMouseEnter:u,trackerMouseLeave:p}=Nw(e,t,r),{onDragStart:g}=h2(c,d,f);return k.useImperativeHandle(n,()=>({resize:s,scroll:l}),[s,l]),h.jsx("div",{className:"vkuiCustomScrollView__barY",ref:i,onClick:Ll,children:h.jsx("div",{className:$("vkuiCustomScrollView__trackerY",!o&&"vkuiCustomScrollView__trackerY--hidden"),onMouseEnter:t?u:void 0,onMouseLeave:t?p:void 0,ref:a,onMouseDown:g})})},Aw=({windowResize:n,onResize:e,boxContentRef:t})=>{const{window:r}=Tt(),i=Mo(e),o=Ol("resize",i);je(()=>{n&&r&&o.add(r)},[n,r]),yv(t,i),je(i,[])},Pw=()=>{const n=k.useRef(0),e=k.useRef(0);return k.useCallback(t=>{const{scrollTop:r,scrollLeft:i}=t.currentTarget;return r!==e.current?(e.current=r,"vertical"):i!==n.current?(n.current=i,"horizontal"):null},[])};function Lw(n){switch(n){case!0:return"vkuiCustomScrollView--hasPointer-true";case!1:return"vkuiCustomScrollView--hasPointer-false";case void 0:default:return"vkuiCustomScrollView--hasPointer-none"}}const Tw={auto:void 0,contain:"vkuiCustomScrollView__box--overscrollBehavior-contain",none:"vkuiCustomScrollView__box--overscrollBehavior-none"},Rw=n=>{var{className:e,children:t,boxRef:r,windowResize:i,autoHideScrollbar:o=!1,autoHideScrollbarDelay:a,enableHorizontalScroll:s=!1,onScroll:l,getRootRef:c,overscrollBehavior:d="auto"}=n,f=J(n,["className","children","boxRef","windowResize","autoHideScrollbar","autoHideScrollbarDelay","enableHorizontalScroll","onScroll","getRootRef","overscrollBehavior"]);const{hasPointer:u}=$e(),p=Ut(r),g=k.useRef(null),m=Pw(),w=k.useRef(null),y=k.useRef(null);Aw({windowResize:i,boxContentRef:g,onResize:()=>{var v,S;(v=w.current)===null||v===void 0||v.resize(),(S=y.current)===null||S===void 0||S.resize()}});const x=v=>{switch(m(v)){case"horizontal":var _;(_=y.current)===null||_===void 0||_.scroll();break;case"vertical":var b;(b=w.current)===null||b===void 0||b.scroll();break}l==null||l(v)};return h.jsxs("div",Q(B({className:$(e,"vkuiCustomScrollView",Lw(u)),ref:c},f),{children:[h.jsx("div",{className:$("vkuiCustomScrollView__box",s&&"vkuiCustomScrollView__box--horizontalEnabled",Tw[d]),tabIndex:-1,ref:p,onScroll:x,children:h.jsx("div",{ref:g,className:"vkuiCustomScrollView__box-content",children:t})}),h.jsx(Mw,{barHandlers:w,boxRef:p,autoHideScrollbar:o,autoHideScrollbarDelay:a}),s&&h.jsx(Iw,{barHandlers:y,boxRef:p,autoHideScrollbar:o,autoHideScrollbarDelay:a})]}))},Ow=n=>{var{children:e,targetRef:t,scrollBoxRef:r,placement:i="bottom",fetching:o,offsetDistance:a=0,autoWidth:s=!1,forcePortal:l=!0,autoHideScrollbar:c,autoHideScrollbarDelay:d,className:f,noMaxHeight:u=!1,overscrollBehavior:p}=n,g=J(n,["children","targetRef","scrollBoxRef","placement","fetching","offsetDistance","autoWidth","forcePortal","autoHideScrollbar","autoHideScrollbarDelay","className","noMaxHeight","overscrollBehavior"]);return h.jsx(a8,Q(B({targetRef:t,offsetByMainAxis:a,sameWidth:!s,placement:i,className:$("vkuiCustomSelectDropdown","vkuiInternalCustomSelectDropdown",a===0&&(i.includes("top")?"vkuiCustomSelectDropdown--top":"vkuiCustomSelectDropdown--bottom"),s&&$("vkuiCustomSelectDropdown--wide","vkuiInternalCustomSelectDropdown--wide"),f),usePortal:l,autoUpdateOnTargetResize:!0},g),{children:h.jsx(Rw,{boxRef:r,className:u?void 0:"vkuiCustomSelectDropdown__in--withMaxHeight",autoHideScrollbar:c,autoHideScrollbarDelay:d,overscrollBehavior:p,children:o?h.jsx("div",{className:"vkuiCustomSelectDropdown__fetching",children:h.jsx(fc,{size:"small"})}):e})}))},jw={none:"vkuiCustomSelectOption--sizeY-none",regular:"vkuiCustomSelectOption--sizeY-regular"},Bw=n=>{var{children:e,hierarchy:t=0,hovered:r,selected:i,before:o,after:a,description:s,disabled:l,style:c,className:d,onClick:f}=n,u=J(n,["children","hierarchy","hovered","selected","before","after","description","disabled","style","className","onClick"]);const{sizeY:p="none"}=$e(),g=k.useMemo(()=>t>0?B({"--vkui_internal--custom_select_option_hierarchy_level":t},c):c,[t,c]),m=!!(r&&!l);return h.jsxs(ov,Q(B({},u),{onClick:l?void 0:f,Component:"div",role:"option","aria-disabled":l,"aria-selected":i,"data-hovered":m,className:$("vkuiCustomSelectOption",p!=="compact"&&jw[p],m&&"vkuiCustomSelectOption--hover",l&&"vkuiCustomSelectOption--disabled",t>0&&"vkuiCustomSelectOption--hierarchy",d),style:g,children:[Pe(o)&&h.jsx("div",{className:"vkuiCustomSelectOption__before",children:o}),h.jsxs("div",{className:"vkuiCustomSelectOption__main",children:[h.jsx("div",{className:"vkuiCustomSelectOption__children",children:e}),Pe(s)&&h.jsxs(Rn,{className:"vkuiCustomSelectOption__description",children:[h.jsx(Sn,{children:" "}),s]})]}),h.jsxs("div",{className:"vkuiCustomSelectOption__after",children:[Pe(a)&&h.jsx("div",{children:a}),i&&h.jsx(y6,{className:"vkuiCustomSelectOption__selectedIcon"})]})]}))},g2=n=>{var{opened:e=!1,className:t}=n,r=J(n,["opened","className"]);const{sizeY:i}=pc(),o=e?I6:N6,a=e?j6:O6;return h.jsxs(k.Fragment,{children:[i.compact&&h.jsx(o,B({className:$(i.compact.className,t)},r)),i.regular&&h.jsx(a,B({className:$(i.regular.className,t)},r))]})},Dw={none:"vkuiTextarea--sizeY-none",compact:"vkuiTextarea--sizeY-compact"},xc=n=>{var{grow:e=!0,style:t,onResize:r,className:i,getRootRef:o,getRef:a,rows:s=2,maxHeight:l,status:c,onChange:d,align:f,mode:u,after:p,before:g,afterAlign:m,beforeAlign:w,value:y}=n,x=J(n,["grow","style","onResize","className","getRootRef","getRef","rows","maxHeight","status","onChange","align","mode","after","before","afterAlign","beforeAlign","value"]);const{sizeY:v="none"}=$e(),S=De(),{window:_}=Tt(),[b,C]=gw(r,e),N=Ut(a,b);return k.useEffect(C,[C,v,S,y]),No(_,"resize",C),h.jsx(yc,{className:$("vkuiTextarea",v!=="regular"&&Dw[v],f==="right"&&"vkuiTextarea--align-right",f==="center"&&"vkuiTextarea--align-center",i),style:t,getRootRef:o,disabled:x.disabled,status:c,mode:u,after:p,before:g,afterAlign:m,beforeAlign:w,maxHeight:l,children:h.jsx(av,Q(B({},x),{value:y,as:"textarea",rows:s,className:"vkuiTextarea__el",onChange:zf(d,C),getRootRef:N}))})},zw={none:"vkuiSelectionControlLabel--sizeY-none",compact:"vkuiSelectionControlLabel--sizeY-compact"};function v2(n){var{children:e,titleAfter:t,description:r}=n,i=J(n,["children","titleAfter","description"]);const{sizeY:o="none"}=$e();return h.jsxs(Ce,Q(B({baseClassName:$("vkuiSelectionControlLabel",o!=="regular"&&zw[o])},i),{children:[h.jsxs("div",{className:"vkuiSelectionControlLabel__titleLayout",children:[h.jsx(zo,{className:"vkuiSelectionControlLabel__title",children:e}),h.jsx("div",{className:"vkuiSelectionControlLabel__titleAfter",children:t})]}),Pe(r)&&h.jsx(Rn,{className:"vkuiSelectionControlLabel__description",children:r})]}))}const Fw={none:"vkuiSelectionControl--sizeY-none",compact:"vkuiSelectionControl--sizeY-compact"},y2=n=>{const{sizeY:e="none"}=$e(),t=De();return h.jsx(sr,B({Component:"label",baseClassName:$("vkuiSelectionControl",e!=="regular"&&Fw[e]),activeEffectDelay:t==="ios"?100:fv},n))};y2.Label=v2;function Hw(n){return h.jsxs("svg",Q(B({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24","aria-hidden":!0},n),{children:[h.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2",fill:"none"}),h.jsx("circle",{cx:"12",cy:"12",r:"7",className:"vkuiRadioInput__pin",fill:"currentColor"})]}))}function Uw(n){return h.jsxs("svg",Q(B({xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20","aria-hidden":!0},n),{children:[h.jsx("circle",{cx:"10",cy:"10",r:"7.75",stroke:"currentColor",strokeWidth:"1.5",fill:"none"}),h.jsx("circle",{cx:"10",cy:"10",r:"5.5",className:"vkuiRadioInput__pin",fill:"currentColor"})]}))}function Vw(){return h.jsx("div",{className:"vkuiRadioInput__icon",children:h.jsx(ji,{IconCompact:Uw,IconRegular:Hw})})}function x2(n){var{className:e,style:t,getRootRef:r,getRef:i}=n,o=J(n,["className","style","getRootRef","getRef"]);return h.jsxs(Ce,{className:e,style:t,getRootRef:r,children:[h.jsx(Sn,Q(B({},o),{Component:"input",type:"radio",baseClassName:"vkuiRadioInput__input",getRootRef:i})),h.jsx(Vw,{})]})}const Yn=n=>{var{children:e,description:t,style:r,className:i,getRootRef:o,titleAfter:a,getRef:s,labelProps:l,hoverMode:c,activeMode:d,hasHover:f,hasActive:u,focusVisibleMode:p}=n,g=J(n,["children","description","style","className","getRootRef","titleAfter","getRef","labelProps","hoverMode","activeMode","hasHover","hasActive","focusVisibleMode"]);return h.jsxs(y2,Q(B({style:r,className:$("vkuiRadio",i),disabled:g.disabled,getRootRef:o,hoverMode:c,activeMode:d,hasHover:f,hasActive:u,focusVisibleMode:p},l),{children:[h.jsx(x2,Q(B({},g),{getRef:s})),h.jsx(v2,{titleAfter:a,description:t,children:e})]}))};Yn.Input=x2;const rs=n=>{var{mode:e="vertical"}=n,t=J(n,["mode"]);return h.jsx(Ce,B({baseClassName:$("vkuiRadioGroup","vkuiInternalRadioGroup",e==="horizontal"&&"vkuiRadioGroup--mode-horizontal"),role:"radiogroup"},t))},$w=n=>{var{className:e,onClick:t}=n,r=J(n,["className","onClick"]);return h.jsx(Yf,Q(B({Component:"button",label:"Очистить поле",onKeyDown:Ll,type:"button",activeMode:"opacity",hoverMode:"opacity"},r),{className:e,onClick:i=>{Ll(i),i.preventDefault(),t()},children:h.jsx(Wf,{})}))},b2=n=>{var{selectType:e="default",children:t}=n,r=J(n,["selectType","children"]);return h.jsx(zo,Q(B({weight:e==="accent"?"2":"3"},r),{children:t}))},Ww={none:"vkuiCustomSelectInput--sizeY-none",compact:"vkuiCustomSelectInput--sizeY-compact"},Yw=n=>{var{align:e="left",getRef:t,className:r,getRootRef:i,style:o,before:a,after:s,status:l,children:c,placeholder:d,selectType:f="default",multiline:u,disabled:p,fetching:g,labelTextTestId:m}=n,w=J(n,["align","getRef","className","getRootRef","style","before","after","status","children","placeholder","selectType","multiline","disabled","fetching","labelTextTestId"]);const{sizeY:y="none"}=$e(),x=c||d,v=!w.value,S=Ut(i),_=dc(S),b=h.jsx(zo,Q(B({type:"text"},w),{disabled:p&&!g,readOnly:w.readOnly||p&&g,Component:"input",normalize:!1,className:$("vkuiCustomSelectInput__el",(w.readOnly||v&&!_)&&"vkuiCustomSelectInput__el--cursor-pointer"),getRootRef:t,placeholder:c?"":d})),C=De();return h.jsx(yc,{Component:"div",style:o,className:$("vkuiCustomSelectInput",e==="right"&&"vkuiCustomSelectInput--align-right",e==="center"&&"vkuiCustomSelectInput--align-center",!c&&"vkuiCustomSelectInput--empty",u&&"vkuiCustomSelectInput--multiline",y!=="regular"&&Ww[y],a&&"vkuiCustomSelectInput--hasBefore",s&&"vkuiCustomSelectInput--hasAfter",r),getRootRef:S,before:a,after:s,disabled:p,mode:p2(f),status:l,children:h.jsxs("div",{className:"vkuiCustomSelectInput__input-group",children:[h.jsx("div",{className:$("vkuiCustomSelectInput__container",r),tabIndex:-1,"aria-hidden":!0,"data-testid":m,children:h.jsx(b2,{selectType:f,className:"vkuiCustomSelectInput__title",children:v&&x})}),w.readOnly&&C==="ios"?h.jsx(Sn,{children:b}):b]})})},Xw={none:"vkuiCustomSelect--sizeY-none",compact:"vkuiCustomSelect--sizeY-compact"},U0=(n=[],e=-1)=>e>=n.length-1?-1:n.findIndex((t,r)=>r>e&&!t.disabled),V0=(n=[],e=n.length)=>{let t=-1;if(e<=0)return t;for(let r=e-1;r>=0;r--)if(!n[r].disabled){t=r;break}return t};function Gw(n){var e=J(n,["option"]);return h.jsx(Bw,B({},e))}const Kw=n=>{n.preventDefault()};function Rs(n=[],e,t){if(t&&e==="")return-1;var r;return(r=n.findIndex(i=>(e=typeof i.value=="number"?Number(e):e,i.value===e)))!==null&&r!==void 0?r:-1}const $0=(n,e,t)=>typeof t=="function"?n.filter(r=>t(e,r)):n;function qw(n){const[e,t]=k.useState(!1),{before:r,name:i,className:o,getRef:a,getRootRef:s,popupDirection:l="bottom",style:c,onChange:d,children:f,onInputChange:u,renderDropdown:p,onOpen:g,onClose:m,fetching:w,forceDropdownPortal:y,selectType:x="default",autoHideScrollbar:v,autoHideScrollbarDelay:S,searchable:_=!1,renderOption:b=Gw,options:C,emptyText:N="Ничего не найдено",filterFn:I=Cw,icon:E,ClearButton:A=$w,allowClearButton:T=!1,dropdownOffsetDistance:P=0,dropdownAutoWidth:O=!1,noMaxHeight:D=!1,"aria-labelledby":W,clearButtonTestId:H,nativeSelectTestId:M,defaultValue:L,required:j,getSelectInputRef:F,overscrollBehavior:q}=n,Y=J(n,["before","name","className","getRef","getRootRef","popupDirection","style","onChange","children","onInputChange","renderDropdown","onOpen","onClose","fetching","forceDropdownPortal","selectType","autoHideScrollbar","autoHideScrollbarDelay","searchable","renderOption","options","emptyText","filterFn","icon","ClearButton","allowClearButton","dropdownOffsetDistance","dropdownAutoWidth","noMaxHeight","aria-labelledby","clearButtonTestId","nativeSelectTestId","defaultValue","required","getSelectInputRef","overscrollBehavior"]),{sizeY:K="none"}=$e(),U=k.useRef(null),X=Ut(U,s),Z=k.useRef(null),ae=Ut(a),Ee=k.useRef(null),[Oe,Le]=k.useState(-1),[Ie,ct]=k.useState(n.value!==void 0),[Te,Ne]=k.useState(""),[ze,xt]=k.useState(()=>{var ne,ie;return(ie=(ne=n.value)!==null&&ne!==void 0?ne:L)!==null&&ie!==void 0?ie:T?"":void 0}),[Rt,un]=k.useState(l),[ve,we]=k.useState(C);var Ye;const[he,dt]=k.useState(Rs(C,(Ye=n.value)!==null&&Ye!==void 0?Ye:L,T));k.useEffect(()=>{ct(n.value!==void 0),xt(ne=>{var ie;return(ie=n.value)!==null&&ie!==void 0?ie:ne})},[n.value]),je(()=>{if(ve.some(({value:ie})=>ze===ie)||T&&ze===""){var ne;const ie=new Event("change",{bubbles:!0});(ne=ae.current)===null||ne===void 0||ne.dispatchEvent(ie)}},[ze]);const mt=k.useMemo(()=>ve.length?he!==void 0?ve[he]:void 0:null,[ve,he]),Cn=k.useMemo(()=>e&&P===0&&(Rt.includes("top")?"vkuiCustomSelect--pop-up":"vkuiCustomSelect--pop-down")||void 0,[P,e,Rt]),bt=k.useCallback((ne,ie=!1)=>{const Me=Z.current,ut=Ee.current,St=Me&&ut?ut.children[ne]:null;if(!St||!Me)return;const Pr=Me.offsetHeight,pi=Me.scrollTop,be=St.offsetTop,Xe=St.offsetHeight;ie?Me.scrollTop=be-Pr/2+Xe/2:be+Xe>Pr+pi?Me.scrollTop=be-Pr+Xe:be<pi&&(Me.scrollTop=be)},[]),Re=k.useCallback((ne,ie=!0)=>{var Me;if(ne===void 0||ne<0||ne>((Me=ve.length)!==null&&Me!==void 0?Me:0)-1)return;const ut=ve[ne];ut!=null&&ut.disabled||(ie&&bt(ne),Le(St=>St!==ne?ne:St))},[ve,bt]),We=k.useCallback(ne=>{var ie;return ne>=0&&ne<((ie=ve.length)!==null&&ie!==void 0?ie:0)},[ve.length]),Ct=k.useCallback(ne=>{Z.current=ne,ne&&he!==void 0&&We(he)&&bt(he,!0)},[We,bt,he]),[Fe,wt]=k.useState(""),re=k.useCallback(()=>{wt("")},[]),fe=k.useCallback(()=>{Le(-1)},[]),He=k.useCallback(ne=>{e||t(!0),fe();const ie=Fe+ne;wt(ie)},[Fe,e,fe]),Qe=k.useCallback(()=>{re(),Ne(""),t(!1),fe(),m==null||m()},[m,re,fe]),_t=k.useCallback(ne=>{const ie=ve[ne];if(xt(ie==null?void 0:ie.value),Qe(),Ie&&n.value!==ze&&ze===(ie==null?void 0:ie.value)){var ut;const St=new Event("change",{bubbles:!0});(ut=ae.current)===null||ut===void 0||ut.dispatchEvent(St)}},[Qe,ve,ae,Ie,n.value,ze]),Dt=k.useCallback(()=>{Oe===void 0||!We(Oe)||_t(Oe)},[Oe,We,_t]),$t=k.useCallback(()=>{t(!0),Le(he),typeof g=="function"&&g()},[g,he]),rn=k.useCallback(()=>{var ne;Qe();const ie=new Event("focusout",{bubbles:!0});(ne=ae.current)===null||ne===void 0||ne.dispatchEvent(ie)},[Qe,ae]),Xn=k.useCallback(()=>{var ne;const ie=new Event("focusin",{bubbles:!0});(ne=ae.current)===null||ne===void 0||ne.dispatchEvent(ie)},[ae]),gt=k.useCallback(()=>{e?Qe():$t()},[Qe,$t,e]),Qt=k.useMemo(()=>e4(re,1e3),[re]),Wo=k.useCallback(ne=>{let ie=Oe;if(ne==="next"){const Me=U0(ve,ie);ie=Me===-1?U0(ve):Me}else if(ne==="prev"){const Me=V0(ve,ie);ie=Me===-1?V0(ve):Me}Re(ie)},[Re,Oe,ve]);k.useEffect(function(){var ie,Me;const ut=(Me=(ie=n.value)!==null&&ie!==void 0?ie:ze)!==null&&Me!==void 0?Me:L,St=_&&Te!==void 0?$0(C,Te,I):C;we(St),dt(Rs(St,ut,T))},[I,Te,ze,C,L,n.value,_,T]);const ls=ne=>{const ie=Rs(ve,ne.currentTarget.value,T);he!==ie&&(Ie||dt(ie),d==null||d(ne))},Vi=k.useCallback(ne=>{u&&u(ne);const ie=$0(C,ne.target.value,I);we(ie),dt(Rs(ie,ze,T)),Ne(ne.target.value)},[I,ze,u,C,T]),Gn=k.useCallback(()=>Z.current!==null,[]),Sc=k.useCallback(ne=>{if(ne.key.length===1&&ne.key!==" "){He(ne.key);return}switch(["ArrowUp","ArrowDown","Escape","Enter"].includes(ne.key)&&Gn()&&ne.preventDefault(),ne.key){case"ArrowUp":e?Gn()&&Wo("prev"):$t();break;case"ArrowDown":e?Gn()&&Wo("next"):$t();break;case"Escape":Qe();break;case"Backspace":case"Delete":{e||t(!0),fe();break}case"Enter":case"Spacebar":case" ":e?Gn()&&Dt():$t();break}},[Gn,Qe,Wo,He,$t,e,Dt,fe]),cs=k.useCallback(ne=>{var ie;const Me=Array.prototype.indexOf.call((ie=ne.currentTarget.parentNode)===null||ie===void 0?void 0:ie.children,ne.currentTarget),ut=ve[Me];ut&&!ut.disabled&&_t(Me)},[ve,_t]),R=k.useRef({x:0,y:0}),z=k.useCallback((ne,ie)=>{(Math.abs(R.current.x-ne.clientX)>=1||Math.abs(R.current.y-ne.clientY)>=1)&&Re(ie,!1),R.current={x:ne.clientX,y:ne.clientY}},[Re]),V=k.useId(),ee=k.useCallback((ne,ie)=>{const Me=ie===Oe,ut=ie===he;return h.jsx(k.Fragment,{children:b({option:ne,hovered:Me,children:ne.label,selected:ut,disabled:ne.disabled,onClick:cs,onMouseDown:Kw,onMouseMove:St=>z(St,ie),id:"".concat(V,"-").concat(ne.value)})},"".concat(typeof ne.value,"-").concat(ne.value))},[Oe,cs,z,b,he,V]),se=k.useMemo(()=>{const ne=ve.length>0?h.jsx("div",{ref:Ee,children:ve.map(ee)}):h.jsx(Rn,{className:"vkuiCustomSelect__empty",children:N});return typeof p=="function"?p({defaultDropdownContent:ne}):ne},[N,ve,p,ee]),le=Ut(F),ge=Ie&&n.value!=="",oe=T&&!e&&(ge||!Ie&&ze!==""),ce=k.useMemo(()=>oe?h.jsx(A,{className:E===void 0?"vkuiCustomSelect--clear-icon":void 0,onClick:function(){xt(""),Ne(""),le.current&&le.current.focus()},disabled:Y.disabled,"data-testid":H}):null,[oe,A,E,Y.disabled,H,le]),pe=k.useMemo(()=>E!==void 0?E:h.jsx(g2,{className:oe?"vkuiCustomSelect__dropdown-icon":void 0,opened:e}),[oe,E,e]),xe=(pe||oe)&&h.jsxs(k.Fragment,{children:[ce,pe]}),{document:ye}=Tt(),Mt=k.useCallback(ne=>{if(!le.current||!ye)return;ne.target!==le.current&&(le.current.click(),ye.activeElement!==le.current&&le.current.focus())},[ye,le]),Ue=ne=>{ye&&ye.activeElement===le.current&&ne.preventDefault()},Se=Oe!==-1?Oe:void 0,Je=Se!==void 0?ve[Se]&&ve[Se].value:null,Ar={role:"combobox","aria-controls":V,"aria-owns":V,"aria-expanded":e,"aria-activedescendant":Je&&e?"".concat(V,"-").concat(Je):void 0,"aria-labelledby":W,"aria-haspopup":"listbox","aria-autocomplete":"none"},fi=dc(X);return h.jsxs("div",{className:$("vkuiCustomSelect",K!=="regular"&&Xw[K],o),style:c,ref:X,onClick:Mt,onMouseDown:Ue,children:[fi&&mt&&!e&&h.jsx(Sn,{"aria-live":"polite",children:mt.label}),h.jsx(Yw,Q(B({autoComplete:"off",autoCapitalize:"none",autoCorrect:"off",spellCheck:"false"},Y,Ar),{getRef:le,onFocus:Xn,onBlur:rn,className:Cn,readOnly:!_,fetching:w,value:Te,onKeyUp:Qt,onKeyDown:Sc,onChange:Vi,onClick:gt,before:r,after:xe,selectType:x,children:mt==null?void 0:mt.label})),h.jsxs("select",{ref:ae,name:i,onChange:ls,onBlur:n.onBlur,onFocus:n.onFocus,onClick:n.onClick,value:ze,"aria-hidden":!0,className:"vkuiCustomSelect__control","data-testid":M,required:j,children:[T&&h.jsx("option",{value:""},""),C.map(ne=>h.jsx("option",{value:ne.value},"".concat(ne.value)))]}),e&&h.jsx(Ow,{targetRef:U,placement:Rt,scrollBoxRef:Ct,onPlacementChange:un,onMouseLeave:fe,fetching:w,overscrollBehavior:q,offsetDistance:P,autoWidth:O,forcePortal:y,autoHideScrollbar:v,autoHideScrollbarDelay:S,noMaxHeight:D,role:"listbox",id:V,"aria-labelledby":W,tabIndex:-1,children:se})]})}const Qw={none:"vkuiSelect--sizeY-none",compact:"vkuiSelect--sizeY-compact"},Jw=n=>{var{style:e,align:t,placeholder:r,children:i,className:o,getRef:a,getRootRef:s,disabled:l,multiline:c,selectType:d="default",status:f,icon:u=h.jsx(g2,{}),before:p,onChange:g}=n,m=J(n,["style","align","placeholder","children","className","getRef","getRootRef","disabled","multiline","selectType","status","icon","before","onChange"]);const[w,y]=k.useState(""),[x,v]=k.useState(!1),S=Ut(a),{sizeY:_="none"}=$e(),b=()=>{var C;const N=(C=S.current)===null||C===void 0?void 0:C.options[S.current.selectedIndex];N&&(y(N.text),v(N.value===""&&r!=null))};return je(b,[i]),h.jsxs(yc,{Component:"div",className:$("vkuiSelect","vkuiInternalNativeSelect",p&&"vkuiSelect--hasBefore",x&&"vkuiSelect--empty",c&&"vkuiSelect--multiline",t==="center"&&"vkuiSelect--align-center",t==="right"&&"vkuiSelect--align-right",_!=="regular"&&Qw[_],o),style:e,getRootRef:s,disabled:l,before:p,after:u,status:f,mode:p2(d),children:[h.jsxs("select",Q(B({},m),{disabled:l,className:"vkuiSelect__el",onChange:zf(g,b),ref:S,children:[r&&h.jsx("option",{value:"",children:r}),i]})),h.jsx("div",{className:"vkuiSelect__container","aria-hidden":!0,children:h.jsx(b2,{className:"vkuiSelect__title",selectType:d,children:w})})]})},lt=n=>{var{children:e,className:t}=n,r=J(n,["children","className"]);const{options:i=[],searchable:o,emptyText:a,onInputChange:s,filterFn:l,popupDirection:c,renderOption:d,renderDropdown:f,fetching:u,onClose:p,onOpen:g,icon:m,ClearButton:w,allowClearButton:y,clearButtonTestId:x,dropdownOffsetDistance:v,dropdownAutoWidth:S,forceDropdownPortal:_,noMaxHeight:b,autoHideScrollbar:C,autoHideScrollbarDelay:N,labelTextTestId:I,nativeSelectTestId:E,after:A,mode:T,pattern:P,minLength:O,maxLength:D,readOnly:W,getSelectInputRef:H,overscrollBehavior:M,beforeAlign:L,afterAlign:j}=r,F=J(r,["options","searchable","emptyText","onInputChange","filterFn","popupDirection","renderOption","renderDropdown","fetching","onClose","onOpen","icon","ClearButton","allowClearButton","clearButtonTestId","dropdownOffsetDistance","dropdownAutoWidth","forceDropdownPortal","noMaxHeight","autoHideScrollbar","autoHideScrollbarDelay","labelTextTestId","nativeSelectTestId","after","mode","pattern","minLength","maxLength","readOnly","getSelectInputRef","overscrollBehavior","beforeAlign","afterAlign"]),{deviceType:q}=pc(),Y=F;return h.jsxs(k.Fragment,{children:[q.desktop&&h.jsx(qw,B({className:$(t,q.desktop.className)},r)),q.mobile&&h.jsx(Jw,Q(B({className:$(t,q.mobile.className)},Y),{children:i.map(({label:K,value:U,disabled:X})=>h.jsx("option",{value:U,disabled:X,children:K},"".concat(U)))}))]})},w2=({viewWidth:n,viewHeight:e,sizeX:t,sizeY:r,hasPointer:i,hasHover:o,children:a})=>{const s=k.useMemo(()=>{const l={viewWidth:n,viewHeight:e,sizeX:t,sizeY:r,hasPointer:i,hasHover:o};return t===void 0&&n!==void 0&&(l.sizeX=sv(n)),r===void 0&&(lv(n,i)||cv(e)?l.sizeY="compact":(n!==void 0||e!==void 0)&&(l.sizeY="regular")),l},[n,e,t,r,i,o]);return h.jsx(Bo.Provider,{value:s,children:a})},G=n=>h.jsx(Ce,B({baseClassName:"vkuiDiv"},n)),Zw=n=>{switch(n){case"ios":return h.jsx(W6,{});case"vkcom":return h.jsx(ji,{IconCompact:E6,IconRegular:Y6});default:return h.jsx(ji,{IconCompact:M6,IconRegular:$6})}},e9=n=>{var{label:e,className:t,children:r="Назад"}=n,i=J(n,["label","className","children"]);const o=De(),{sizeX:a="none"}=$e(),s=o==="vkcom"||o==="ios";return h.jsxs(Mb,Q(B({},i),{className:$(a==="compact"&&"vkuiPanelHeaderBack--sizeX-compact",o==="ios"&&"vkuiPanelHeaderBack--ios",o==="vkcom"&&"vkuiPanelHeaderBack--vkcom",s&&!!e&&"vkuiPanelHeaderBack--has-label",t),label:s&&e,children:[r&&h.jsx(Sn,{children:r}),Zw(o)]}))},t9=n=>{const{window:e}=Tt(),[t,r]=k.useState(n||ed.LIGHT);return je(()=>{if(n)return r(n),ke;const i=e?e.matchMedia("(prefers-color-scheme: dark)"):void 0;if(!i)return ke;const o=a=>{r(a.matches?ed.DARK:ed.LIGHT)};return o(i),Wa(i,o),()=>uc(i,o)},[e,n]),t},_2=n=>{const e=hx(n),t=Nr(),{children:r,hasCustomPanelHeaderAfter:i,customPanelHeaderAfterMinWidth:o,isWebView:a,transitionMotionEnabled:s,platform:l,locale:c,appearance:d,tokensClassNames:f}=B({},t,e),u=t9(d),p=Ui({hasCustomPanelHeaderAfter:i,customPanelHeaderAfterMinWidth:o,isWebView:a,transitionMotionEnabled:s,platform:l,locale:c,tokensClassNames:f,appearance:u});return h.jsx(Za.Provider,{value:p,children:h.jsx(Cv,{value:u,children:h.jsx(Zg,{children:r})})})};/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function at(){return at=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},at.apply(this,arguments)}var tt;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(tt||(tt={}));const W0="popstate";function n9(n){n===void 0&&(n={});function e(i,o){let{pathname:a="/",search:s="",hash:l=""}=ui(i.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),Ya("",{pathname:a,search:s,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){let a=i.document.querySelector("base"),s="";if(a&&a.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");s=c===-1?l:l.slice(0,c)}return s+"#"+(typeof o=="string"?o:Er(o))}function r(i,o){Di(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return i9(e,t,r,n)}function Ge(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Di(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch(t){}}}function r9(){return Math.random().toString(36).substr(2,8)}function Y0(n,e){return{usr:n.state,key:n.key,idx:e}}function Ya(n,e,t,r){return t===void 0&&(t=null),at({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?ui(e):e,{state:t,key:e&&e.key||r||r9()})}function Er(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ui(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function i9(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=tt.Pop,l=null,c=d();c==null&&(c=0,a.replaceState(at({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function f(){s=tt.Pop;let w=d(),y=w==null?null:w-c;c=w,l&&l({action:s,location:m.location,delta:y})}function u(w,y){s=tt.Push;let x=Ya(m.location,w,y);t(x,w),c=d()+1;let v=Y0(x,c),S=m.createHref(x);try{a.pushState(v,"",S)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(S)}o&&l&&l({action:s,location:m.location,delta:1})}function p(w,y){s=tt.Replace;let x=Ya(m.location,w,y);t(x,w),c=d();let v=Y0(x,c),S=m.createHref(x);a.replaceState(v,"",S),o&&l&&l({action:s,location:m.location,delta:0})}function g(w){let y=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof w=="string"?w:Er(w);return x=x.replace(/ $/,"%20"),Ge(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let m={get action(){return s},get location(){return n(i,a)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(W0,f),l=w,()=>{i.removeEventListener(W0,f),l=null}},createHref(w){return e(i,w)},createURL:g,encodeLocation(w){let y=g(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:u,replace:p,go(w){return a.go(w)}};return m}var Ve;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Ve||(Ve={}));const o9=new Set(["lazy","caseSensitive","path","id","index","children"]);function a9(n){return n.index===!0}function zl(n,e,t,r){return t===void 0&&(t=[]),r===void 0&&(r={}),n.map((i,o)=>{let a=[...t,String(o)],s=typeof i.id=="string"?i.id:a.join("-");if(Ge(i.index!==!0||!i.children,"Cannot specify children on an index route"),Ge(!r[s],'Found a route id collision on id "'+s+"\".  Route id's must be globally unique within Data Router usages"),a9(i)){let l=at({},i,e(i),{id:s});return r[s]=l,l}else{let l=at({},i,e(i),{id:s,children:void 0});return r[s]=l,i.children&&(l.children=zl(i.children,e,a,r)),l}})}function Ki(n,e,t){return t===void 0&&(t="/"),tl(n,e,t,!1)}function tl(n,e,t,r){let i=typeof e=="string"?ui(e):e,o=bc(i.pathname||"/",t);if(o==null)return null;let a=S2(n);l9(a);let s=null;for(let l=0;s==null&&l<a.length;++l){let c=x9(o);s=v9(a[l],c,r)}return s}function s9(n,e){let{route:t,pathname:r,params:i}=n;return{id:t.id,pathname:r,params:i,data:e[t.id],handle:t.handle}}function S2(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(o,a,s)=>{let l={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(Ge(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Sa([r,l.relativePath]),d=t.concat(l);o.children&&o.children.length>0&&(Ge(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),S2(o.children,e,d,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:m9(c,o.index),routesMeta:d})};return n.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let l of k2(o.path))i(o,a,l)}),e}function k2(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=k2(r.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>n.startsWith("/")&&l===""?"/":l)}function l9(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:g9(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const c9=/^:[\w-]+$/,d9=3,u9=2,f9=1,p9=10,h9=-2,X0=n=>n==="*";function m9(n,e){let t=n.split("/"),r=t.length;return t.some(X0)&&(r+=h9),e&&(r+=u9),t.filter(i=>!X0(i)).reduce((i,o)=>i+(c9.test(o)?d9:o===""?f9:p9),r)}function g9(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function v9(n,e,t){t===void 0&&(t=!1);let{routesMeta:r}=n,i={},o="/",a=[];for(let s=0;s<r.length;++s){let l=r[s],c=s===r.length-1,d=o==="/"?e:e.slice(o.length)||"/",f=G0({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),u=l.route;if(!f&&c&&t&&!r[r.length-1].route.index&&(f=G0({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:Sa([o,f.pathname]),pathnameBase:S9(Sa([o,f.pathnameBase])),route:u}),f.pathnameBase!=="/"&&(o=Sa([o,f.pathnameBase]))}return a}function G0(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=y9(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:u,isOptional:p}=d;if(u==="*"){let m=s[f]||"";a=o.slice(0,o.length-m.length).replace(/(.)\/+$/,"$1")}const g=s[f];return p&&!g?c[u]=void 0:c[u]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:a,pattern:n}}function y9(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Di(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function x9(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Di(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function bc(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function b9(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?ui(n):n;return{pathname:t?t.startsWith("/")?t:w9(t,e):e,search:k9(r),hash:C9(i)}}function w9(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function ud(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function C2(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function _9(n,e){let t=C2(n);return e?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function E2(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=ui(n):(i=at({},n),Ge(!i.pathname||!i.pathname.includes("?"),ud("?","pathname","search",i)),Ge(!i.pathname||!i.pathname.includes("#"),ud("#","pathname","hash",i)),Ge(!i.search||!i.search.includes("#"),ud("#","search","hash",i)));let o=n===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=t;else{let f=e.length-1;if(!r&&a.startsWith("..")){let u=a.split("/");for(;u[0]==="..";)u.shift(),f-=1;i.pathname=u.join("/")}s=f>=0?e[f]:"/"}let l=b9(i,s),c=a&&a!=="/"&&a.endsWith("/"),d=(o||a===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Sa=n=>n.join("/").replace(/\/\/+/g,"/"),S9=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),k9=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,C9=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;class Mu{constructor(e,t,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=t||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function cp(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const I2=["post","put","patch","delete"],E9=new Set(I2),I9=["get",...I2],N9=new Set(I9),M9=new Set([301,302,303,307,308]),A9=new Set([307,308]),fd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},P9={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},oa={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},dp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,L9=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),N2="remix-router-transitions";function T9(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!t;Ge(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(n.mapRouteProperties)i=n.mapRouteProperties;else if(n.detectErrorBoundary){let R=n.detectErrorBoundary;i=z=>({hasErrorBoundary:R(z)})}else i=L9;let o={},a=zl(n.routes,i,void 0,o),s,l=n.basename||"/",c=n.dataStrategy||B9,d=n.patchRoutesOnNavigation,f=at({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},n.future),u=null,p=new Set,g=null,m=null,w=null,y=n.hydrationData!=null,x=Ki(a,n.history.location,l),v=null;if(x==null&&!d){let R=on(404,{pathname:n.history.location.pathname}),{matches:z,route:V}=o1(a);x=z,v={[V.id]:R}}x&&!n.hydrationData&&Vi(x,a,n.history.location.pathname).active&&(x=null);let S;if(x)if(x.some(R=>R.route.lazy))S=!1;else if(!x.some(R=>R.route.loader))S=!0;else if(f.v7_partialHydration){let R=n.hydrationData?n.hydrationData.loaderData:null,z=n.hydrationData?n.hydrationData.errors:null;if(z){let V=x.findIndex(ee=>z[ee.route.id]!==void 0);S=x.slice(0,V+1).every(ee=>!Pu(ee.route,R,z))}else S=x.every(V=>!Pu(V.route,R,z))}else S=n.hydrationData!=null;else if(S=!1,x=[],f.v7_partialHydration){let R=Vi(null,a,n.history.location.pathname);R.active&&R.matches&&(x=R.matches)}let _,b={historyAction:n.history.action,location:n.history.location,matches:x,initialized:S,navigation:fd,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||v,fetchers:new Map,blockers:new Map},C=tt.Pop,N=!1,I,E=!1,A=new Map,T=null,P=!1,O=!1,D=[],W=new Set,H=new Map,M=0,L=-1,j=new Map,F=new Set,q=new Map,Y=new Map,K=new Set,U=new Map,X=new Map,Z;function ae(){if(u=n.history.listen(R=>{let{action:z,location:V,delta:ee}=R;if(Z){Z(),Z=void 0;return}Di(X.size===0||ee!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let se=$t({currentLocation:b.location,nextLocation:V,historyAction:z});if(se&&ee!=null){let le=new Promise(ge=>{Z=ge});n.history.go(ee*-1),Dt(se,{state:"blocked",location:V,proceed(){Dt(se,{state:"proceeding",proceed:void 0,reset:void 0,location:V}),le.then(()=>n.history.go(ee))},reset(){let ge=new Map(b.blockers);ge.set(se,oa),Le({blockers:ge})}});return}return Ne(z,V)}),t){Q9(e,A);let R=()=>J9(e,A);e.addEventListener("pagehide",R),T=()=>e.removeEventListener("pagehide",R)}return b.initialized||Ne(tt.Pop,b.location,{initialHydration:!0}),_}function Ee(){u&&u(),T&&T(),p.clear(),I&&I.abort(),b.fetchers.forEach((R,z)=>Ct(z)),b.blockers.forEach((R,z)=>_t(z))}function Oe(R){return p.add(R),()=>p.delete(R)}function Le(R,z){z===void 0&&(z={}),b=at({},b,R);let V=[],ee=[];f.v7_fetcherPersist&&b.fetchers.forEach((se,le)=>{se.state==="idle"&&(K.has(le)?ee.push(le):V.push(le))}),[...p].forEach(se=>se(b,{deletedFetchers:ee,viewTransitionOpts:z.viewTransitionOpts,flushSync:z.flushSync===!0})),f.v7_fetcherPersist&&(V.forEach(se=>b.fetchers.delete(se)),ee.forEach(se=>Ct(se)))}function Ie(R,z,V){var ee,se;let{flushSync:le}=V===void 0?{}:V,ge=b.actionData!=null&&b.navigation.formMethod!=null&&Dn(b.navigation.formMethod)&&b.navigation.state==="loading"&&((ee=R.state)==null?void 0:ee._isRedirect)!==!0,ue;z.actionData?Object.keys(z.actionData).length>0?ue=z.actionData:ue=null:ge?ue=b.actionData:ue=null;let oe=z.loaderData?r1(b.loaderData,z.loaderData,z.matches||[],z.errors):b.loaderData,ce=b.blockers;ce.size>0&&(ce=new Map(ce),ce.forEach((ye,Mt)=>ce.set(Mt,oa)));let pe=N===!0||b.navigation.formMethod!=null&&Dn(b.navigation.formMethod)&&((se=R.state)==null?void 0:se._isRedirect)!==!0;s&&(a=s,s=void 0),P||C===tt.Pop||(C===tt.Push?n.history.push(R,R.state):C===tt.Replace&&n.history.replace(R,R.state));let xe;if(C===tt.Pop){let ye=A.get(b.location.pathname);ye&&ye.has(R.pathname)?xe={currentLocation:b.location,nextLocation:R}:A.has(R.pathname)&&(xe={currentLocation:R,nextLocation:b.location})}else if(E){let ye=A.get(b.location.pathname);ye?ye.add(R.pathname):(ye=new Set([R.pathname]),A.set(b.location.pathname,ye)),xe={currentLocation:b.location,nextLocation:R}}Le(at({},z,{actionData:ue,loaderData:oe,historyAction:C,location:R,initialized:!0,navigation:fd,revalidation:"idle",restoreScrollPosition:ls(R,z.matches||b.matches),preventScrollReset:pe,blockers:ce}),{viewTransitionOpts:xe,flushSync:le===!0}),C=tt.Pop,N=!1,E=!1,P=!1,O=!1,D=[]}async function ct(R,z){if(typeof R=="number"){n.history.go(R);return}let V=Au(b.location,b.matches,l,f.v7_prependBasename,R,f.v7_relativeSplatPath,z==null?void 0:z.fromRouteId,z==null?void 0:z.relative),{path:ee,submission:se,error:le}=K0(f.v7_normalizeFormMethod,!1,V,z),ge=b.location,ue=Ya(b.location,ee,z&&z.state);ue=at({},ue,n.history.encodeLocation(ue));let oe=z&&z.replace!=null?z.replace:void 0,ce=tt.Push;oe===!0?ce=tt.Replace:oe===!1||se!=null&&Dn(se.formMethod)&&se.formAction===b.location.pathname+b.location.search&&(ce=tt.Replace);let pe=z&&"preventScrollReset"in z?z.preventScrollReset===!0:void 0,xe=(z&&z.flushSync)===!0,ye=$t({currentLocation:ge,nextLocation:ue,historyAction:ce});if(ye){Dt(ye,{state:"blocked",location:ue,proceed(){Dt(ye,{state:"proceeding",proceed:void 0,reset:void 0,location:ue}),ct(R,z)},reset(){let Mt=new Map(b.blockers);Mt.set(ye,oa),Le({blockers:Mt})}});return}return await Ne(ce,ue,{submission:se,pendingError:le,preventScrollReset:pe,replace:z&&z.replace,enableViewTransition:z&&z.viewTransition,flushSync:xe})}function Te(){if(Cn(),Le({revalidation:"loading"}),b.navigation.state!=="submitting"){if(b.navigation.state==="idle"){Ne(b.historyAction,b.location,{startUninterruptedRevalidation:!0});return}Ne(C||b.historyAction,b.navigation.location,{overrideNavigation:b.navigation,enableViewTransition:E===!0})}}async function Ne(R,z,V){I&&I.abort(),I=null,C=R,P=(V&&V.startUninterruptedRevalidation)===!0,Wo(b.location,b.matches),N=(V&&V.preventScrollReset)===!0,E=(V&&V.enableViewTransition)===!0;let ee=s||a,se=V&&V.overrideNavigation,le=Ki(ee,z,l),ge=(V&&V.flushSync)===!0,ue=Vi(le,ee,z.pathname);if(ue.active&&ue.matches&&(le=ue.matches),!le){let{error:Ue,notFoundMatches:Se,route:Je}=rn(z.pathname);Ie(z,{matches:Se,loaderData:{},errors:{[Je.id]:Ue}},{flushSync:ge});return}if(b.initialized&&!O&&V9(b.location,z)&&!(V&&V.submission&&Dn(V.submission.formMethod))){Ie(z,{matches:le},{flushSync:ge});return}I=new AbortController;let oe=Gi(n.history,z,I.signal,V&&V.submission),ce;if(V&&V.pendingError)ce=[xi(le).route.id,{type:Ve.error,error:V.pendingError}];else if(V&&V.submission&&Dn(V.submission.formMethod)){let Ue=await ze(oe,z,V.submission,le,ue.active,{replace:V.replace,flushSync:ge});if(Ue.shortCircuited)return;if(Ue.pendingActionResult){let[Se,Je]=Ue.pendingActionResult;if(hn(Je)&&cp(Je.error)&&Je.error.status===404){I=null,Ie(z,{matches:Ue.matches,loaderData:{},errors:{[Se]:Je.error}});return}}le=Ue.matches||le,ce=Ue.pendingActionResult,se=pd(z,V.submission),ge=!1,ue.active=!1,oe=Gi(n.history,oe.url,oe.signal)}let{shortCircuited:pe,matches:xe,loaderData:ye,errors:Mt}=await xt(oe,z,le,ue.active,se,V&&V.submission,V&&V.fetcherSubmission,V&&V.replace,V&&V.initialHydration===!0,ge,ce);pe||(I=null,Ie(z,at({matches:xe||le},i1(ce),{loaderData:ye,errors:Mt})))}async function ze(R,z,V,ee,se,le){le===void 0&&(le={}),Cn();let ge=K9(z,V);if(Le({navigation:ge},{flushSync:le.flushSync===!0}),se){let ce=await Gn(ee,z.pathname,R.signal);if(ce.type==="aborted")return{shortCircuited:!0};if(ce.type==="error"){let pe=xi(ce.partialMatches).route.id;return{matches:ce.partialMatches,pendingActionResult:[pe,{type:Ve.error,error:ce.error}]}}else if(ce.matches)ee=ce.matches;else{let{notFoundMatches:pe,error:xe,route:ye}=rn(z.pathname);return{matches:pe,pendingActionResult:[ye.id,{type:Ve.error,error:xe}]}}}let ue,oe=pa(ee,z);if(!oe.route.action&&!oe.route.lazy)ue={type:Ve.error,error:on(405,{method:R.method,pathname:z.pathname,routeId:oe.route.id})};else if(ue=(await dt("action",b,R,[oe],ee,null))[oe.route.id],R.signal.aborted)return{shortCircuited:!0};if(Ci(ue)){let ce;return le&&le.replace!=null?ce=le.replace:ce=e1(ue.response.headers.get("Location"),new URL(R.url),l)===b.location.pathname+b.location.search,await he(R,ue,!0,{submission:V,replace:ce}),{shortCircuited:!0}}if(Fr(ue))throw on(400,{type:"defer-action"});if(hn(ue)){let ce=xi(ee,oe.route.id);return(le&&le.replace)!==!0&&(C=tt.Push),{matches:ee,pendingActionResult:[ce.route.id,ue]}}return{matches:ee,pendingActionResult:[oe.route.id,ue]}}async function xt(R,z,V,ee,se,le,ge,ue,oe,ce,pe){let xe=se||pd(z,le),ye=le||ge||s1(xe),Mt=!P&&(!f.v7_partialHydration||!oe);if(ee){if(Mt){let Xe=Rt(pe);Le(at({navigation:xe},Xe!==void 0?{actionData:Xe}:{}),{flushSync:ce})}let be=await Gn(V,z.pathname,R.signal);if(be.type==="aborted")return{shortCircuited:!0};if(be.type==="error"){let Xe=xi(be.partialMatches).route.id;return{matches:be.partialMatches,loaderData:{},errors:{[Xe]:be.error}}}else if(be.matches)V=be.matches;else{let{error:Xe,notFoundMatches:$i,route:Yo}=rn(z.pathname);return{matches:$i,loaderData:{},errors:{[Yo.id]:Xe}}}}let Ue=s||a,[Se,Je]=Q0(n.history,b,V,ye,z,f.v7_partialHydration&&oe===!0,f.v7_skipActionErrorRevalidation,O,D,W,K,q,F,Ue,l,pe);if(Xn(be=>!(V&&V.some(Xe=>Xe.route.id===be))||Se&&Se.some(Xe=>Xe.route.id===be)),L=++M,Se.length===0&&Je.length===0){let be=fe();return Ie(z,at({matches:V,loaderData:{},errors:pe&&hn(pe[1])?{[pe[0]]:pe[1].error}:null},i1(pe),be?{fetchers:new Map(b.fetchers)}:{}),{flushSync:ce}),{shortCircuited:!0}}if(Mt){let be={};if(!ee){be.navigation=xe;let Xe=Rt(pe);Xe!==void 0&&(be.actionData=Xe)}Je.length>0&&(be.fetchers=un(Je)),Le(be,{flushSync:ce})}Je.forEach(be=>{wt(be.key),be.controller&&H.set(be.key,be.controller)});let Ar=()=>Je.forEach(be=>wt(be.key));I&&I.signal.addEventListener("abort",Ar);let{loaderResults:fi,fetcherResults:ne}=await mt(b,V,Se,Je,R);if(R.signal.aborted)return{shortCircuited:!0};I&&I.signal.removeEventListener("abort",Ar),Je.forEach(be=>H.delete(be.key));let ie=Os(fi);if(ie)return await he(R,ie.result,!0,{replace:ue}),{shortCircuited:!0};if(ie=Os(ne),ie)return F.add(ie.key),await he(R,ie.result,!0,{replace:ue}),{shortCircuited:!0};let{loaderData:Me,errors:ut}=n1(b,V,fi,pe,Je,ne,U);U.forEach((be,Xe)=>{be.subscribe($i=>{($i||be.done)&&U.delete(Xe)})}),f.v7_partialHydration&&oe&&b.errors&&(ut=at({},b.errors,ut));let St=fe(),Pr=He(L),pi=St||Pr||Je.length>0;return at({matches:V,loaderData:Me,errors:ut},pi?{fetchers:new Map(b.fetchers)}:{})}function Rt(R){if(R&&!hn(R[1]))return{[R[0]]:R[1].data};if(b.actionData)return Object.keys(b.actionData).length===0?null:b.actionData}function un(R){return R.forEach(z=>{let V=b.fetchers.get(z.key),ee=aa(void 0,V?V.data:void 0);b.fetchers.set(z.key,ee)}),new Map(b.fetchers)}function ve(R,z,V,ee){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");wt(R);let se=(ee&&ee.flushSync)===!0,le=s||a,ge=Au(b.location,b.matches,l,f.v7_prependBasename,V,f.v7_relativeSplatPath,z,ee==null?void 0:ee.relative),ue=Ki(le,ge,l),oe=Vi(ue,le,ge);if(oe.active&&oe.matches&&(ue=oe.matches),!ue){Re(R,z,on(404,{pathname:ge}),{flushSync:se});return}let{path:ce,submission:pe,error:xe}=K0(f.v7_normalizeFormMethod,!0,ge,ee);if(xe){Re(R,z,xe,{flushSync:se});return}let ye=pa(ue,ce),Mt=(ee&&ee.preventScrollReset)===!0;if(pe&&Dn(pe.formMethod)){we(R,z,ce,ye,ue,oe.active,se,Mt,pe);return}q.set(R,{routeId:z,path:ce}),Ye(R,z,ce,ye,ue,oe.active,se,Mt,pe)}async function we(R,z,V,ee,se,le,ge,ue,oe){Cn(),q.delete(R);function ce(Et){if(!Et.route.action&&!Et.route.lazy){let Wi=on(405,{method:oe.formMethod,pathname:V,routeId:z});return Re(R,z,Wi,{flushSync:ge}),!0}return!1}if(!le&&ce(ee))return;let pe=b.fetchers.get(R);bt(R,q9(oe,pe),{flushSync:ge});let xe=new AbortController,ye=Gi(n.history,V,xe.signal,oe);if(le){let Et=await Gn(se,V,ye.signal);if(Et.type==="aborted")return;if(Et.type==="error"){Re(R,z,Et.error,{flushSync:ge});return}else if(Et.matches){if(se=Et.matches,ee=pa(se,V),ce(ee))return}else{Re(R,z,on(404,{pathname:V}),{flushSync:ge});return}}H.set(R,xe);let Mt=M,Se=(await dt("action",b,ye,[ee],se,R))[ee.route.id];if(ye.signal.aborted){H.get(R)===xe&&H.delete(R);return}if(f.v7_fetcherPersist&&K.has(R)){if(Ci(Se)||hn(Se)){bt(R,Tr(void 0));return}}else{if(Ci(Se))if(H.delete(R),L>Mt){bt(R,Tr(void 0));return}else return F.add(R),bt(R,aa(oe)),he(ye,Se,!1,{fetcherSubmission:oe,preventScrollReset:ue});if(hn(Se)){Re(R,z,Se.error);return}}if(Fr(Se))throw on(400,{type:"defer-action"});let Je=b.navigation.location||b.location,Ar=Gi(n.history,Je,xe.signal),fi=s||a,ne=b.navigation.state!=="idle"?Ki(fi,b.navigation.location,l):b.matches;Ge(ne,"Didn't find any matches after fetcher action");let ie=++M;j.set(R,ie);let Me=aa(oe,Se.data);b.fetchers.set(R,Me);let[ut,St]=Q0(n.history,b,ne,oe,Je,!1,f.v7_skipActionErrorRevalidation,O,D,W,K,q,F,fi,l,[ee.route.id,Se]);St.filter(Et=>Et.key!==R).forEach(Et=>{let Wi=Et.key,wp=b.fetchers.get(Wi),i3=aa(void 0,wp?wp.data:void 0);b.fetchers.set(Wi,i3),wt(Wi),Et.controller&&H.set(Wi,Et.controller)}),Le({fetchers:new Map(b.fetchers)});let Pr=()=>St.forEach(Et=>wt(Et.key));xe.signal.addEventListener("abort",Pr);let{loaderResults:pi,fetcherResults:be}=await mt(b,ne,ut,St,Ar);if(xe.signal.aborted)return;xe.signal.removeEventListener("abort",Pr),j.delete(R),H.delete(R),St.forEach(Et=>H.delete(Et.key));let Xe=Os(pi);if(Xe)return he(Ar,Xe.result,!1,{preventScrollReset:ue});if(Xe=Os(be),Xe)return F.add(Xe.key),he(Ar,Xe.result,!1,{preventScrollReset:ue});let{loaderData:$i,errors:Yo}=n1(b,ne,pi,void 0,St,be,U);if(b.fetchers.has(R)){let Et=Tr(Se.data);b.fetchers.set(R,Et)}He(ie),b.navigation.state==="loading"&&ie>L?(Ge(C,"Expected pending action"),I&&I.abort(),Ie(b.navigation.location,{matches:ne,loaderData:$i,errors:Yo,fetchers:new Map(b.fetchers)})):(Le({errors:Yo,loaderData:r1(b.loaderData,$i,ne,Yo),fetchers:new Map(b.fetchers)}),O=!1)}async function Ye(R,z,V,ee,se,le,ge,ue,oe){let ce=b.fetchers.get(R);bt(R,aa(oe,ce?ce.data:void 0),{flushSync:ge});let pe=new AbortController,xe=Gi(n.history,V,pe.signal);if(le){let Se=await Gn(se,V,xe.signal);if(Se.type==="aborted")return;if(Se.type==="error"){Re(R,z,Se.error,{flushSync:ge});return}else if(Se.matches)se=Se.matches,ee=pa(se,V);else{Re(R,z,on(404,{pathname:V}),{flushSync:ge});return}}H.set(R,pe);let ye=M,Ue=(await dt("loader",b,xe,[ee],se,R))[ee.route.id];if(Fr(Ue)&&(Ue=await up(Ue,xe.signal,!0)||Ue),H.get(R)===pe&&H.delete(R),!xe.signal.aborted){if(K.has(R)){bt(R,Tr(void 0));return}if(Ci(Ue))if(L>ye){bt(R,Tr(void 0));return}else{F.add(R),await he(xe,Ue,!1,{preventScrollReset:ue});return}if(hn(Ue)){Re(R,z,Ue.error);return}Ge(!Fr(Ue),"Unhandled fetcher deferred data"),bt(R,Tr(Ue.data))}}async function he(R,z,V,ee){let{submission:se,fetcherSubmission:le,preventScrollReset:ge,replace:ue}=ee===void 0?{}:ee;z.response.headers.has("X-Remix-Revalidate")&&(O=!0);let oe=z.response.headers.get("Location");Ge(oe,"Expected a Location header on the redirect Response"),oe=e1(oe,new URL(R.url),l);let ce=Ya(b.location,oe,{_isRedirect:!0});if(t){let Se=!1;if(z.response.headers.has("X-Remix-Reload-Document"))Se=!0;else if(dp.test(oe)){const Je=n.history.createURL(oe);Se=Je.origin!==e.location.origin||bc(Je.pathname,l)==null}if(Se){ue?e.location.replace(oe):e.location.assign(oe);return}}I=null;let pe=ue===!0||z.response.headers.has("X-Remix-Replace")?tt.Replace:tt.Push,{formMethod:xe,formAction:ye,formEncType:Mt}=b.navigation;!se&&!le&&xe&&ye&&Mt&&(se=s1(b.navigation));let Ue=se||le;if(A9.has(z.response.status)&&Ue&&Dn(Ue.formMethod))await Ne(pe,ce,{submission:at({},Ue,{formAction:oe}),preventScrollReset:ge||N,enableViewTransition:V?E:void 0});else{let Se=pd(ce,se);await Ne(pe,ce,{overrideNavigation:Se,fetcherSubmission:le,preventScrollReset:ge||N,enableViewTransition:V?E:void 0})}}async function dt(R,z,V,ee,se,le){let ge,ue={};try{ge=await D9(c,R,z,V,ee,se,le,o,i)}catch(oe){return ee.forEach(ce=>{ue[ce.route.id]={type:Ve.error,error:oe}}),ue}for(let[oe,ce]of Object.entries(ge))if($9(ce)){let pe=ce.result;ue[oe]={type:Ve.redirect,response:H9(pe,V,oe,se,l,f.v7_relativeSplatPath)}}else ue[oe]=await F9(ce);return ue}async function mt(R,z,V,ee,se){let le=R.matches,ge=dt("loader",R,se,V,z,null),ue=Promise.all(ee.map(async pe=>{if(pe.matches&&pe.match&&pe.controller){let ye=(await dt("loader",R,Gi(n.history,pe.path,pe.controller.signal),[pe.match],pe.matches,pe.key))[pe.match.route.id];return{[pe.key]:ye}}else return Promise.resolve({[pe.key]:{type:Ve.error,error:on(404,{pathname:pe.path})}})})),oe=await ge,ce=(await ue).reduce((pe,xe)=>Object.assign(pe,xe),{});return await Promise.all([X9(z,oe,se.signal,le,R.loaderData),G9(z,ce,ee)]),{loaderResults:oe,fetcherResults:ce}}function Cn(){O=!0,D.push(...Xn()),q.forEach((R,z)=>{H.has(z)&&W.add(z),wt(z)})}function bt(R,z,V){V===void 0&&(V={}),b.fetchers.set(R,z),Le({fetchers:new Map(b.fetchers)},{flushSync:(V&&V.flushSync)===!0})}function Re(R,z,V,ee){ee===void 0&&(ee={});let se=xi(b.matches,z);Ct(R),Le({errors:{[se.route.id]:V},fetchers:new Map(b.fetchers)},{flushSync:(ee&&ee.flushSync)===!0})}function We(R){return f.v7_fetcherPersist&&(Y.set(R,(Y.get(R)||0)+1),K.has(R)&&K.delete(R)),b.fetchers.get(R)||P9}function Ct(R){let z=b.fetchers.get(R);H.has(R)&&!(z&&z.state==="loading"&&j.has(R))&&wt(R),q.delete(R),j.delete(R),F.delete(R),K.delete(R),W.delete(R),b.fetchers.delete(R)}function Fe(R){if(f.v7_fetcherPersist){let z=(Y.get(R)||0)-1;z<=0?(Y.delete(R),K.add(R)):Y.set(R,z)}else Ct(R);Le({fetchers:new Map(b.fetchers)})}function wt(R){let z=H.get(R);z&&(z.abort(),H.delete(R))}function re(R){for(let z of R){let V=We(z),ee=Tr(V.data);b.fetchers.set(z,ee)}}function fe(){let R=[],z=!1;for(let V of F){let ee=b.fetchers.get(V);Ge(ee,"Expected fetcher: "+V),ee.state==="loading"&&(F.delete(V),R.push(V),z=!0)}return re(R),z}function He(R){let z=[];for(let[V,ee]of j)if(ee<R){let se=b.fetchers.get(V);Ge(se,"Expected fetcher: "+V),se.state==="loading"&&(wt(V),j.delete(V),z.push(V))}return re(z),z.length>0}function Qe(R,z){let V=b.blockers.get(R)||oa;return X.get(R)!==z&&X.set(R,z),V}function _t(R){b.blockers.delete(R),X.delete(R)}function Dt(R,z){let V=b.blockers.get(R)||oa;Ge(V.state==="unblocked"&&z.state==="blocked"||V.state==="blocked"&&z.state==="blocked"||V.state==="blocked"&&z.state==="proceeding"||V.state==="blocked"&&z.state==="unblocked"||V.state==="proceeding"&&z.state==="unblocked","Invalid blocker state transition: "+V.state+" -> "+z.state);let ee=new Map(b.blockers);ee.set(R,z),Le({blockers:ee})}function $t(R){let{currentLocation:z,nextLocation:V,historyAction:ee}=R;if(X.size===0)return;X.size>1&&Di(!1,"A router only supports one blocker at a time");let se=Array.from(X.entries()),[le,ge]=se[se.length-1],ue=b.blockers.get(le);if(!(ue&&ue.state==="proceeding")&&ge({currentLocation:z,nextLocation:V,historyAction:ee}))return le}function rn(R){let z=on(404,{pathname:R}),V=s||a,{matches:ee,route:se}=o1(V);return Xn(),{notFoundMatches:ee,route:se,error:z}}function Xn(R){let z=[];return U.forEach((V,ee)=>{(!R||R(ee))&&(V.cancel(),z.push(ee),U.delete(ee))}),z}function gt(R,z,V){if(g=R,w=z,m=V||null,!y&&b.navigation===fd){y=!0;let ee=ls(b.location,b.matches);ee!=null&&Le({restoreScrollPosition:ee})}return()=>{g=null,w=null,m=null}}function Qt(R,z){return m&&m(R,z.map(ee=>s9(ee,b.loaderData)))||R.key}function Wo(R,z){if(g&&w){let V=Qt(R,z);g[V]=w()}}function ls(R,z){if(g){let V=Qt(R,z),ee=g[V];if(typeof ee=="number")return ee}return null}function Vi(R,z,V){if(d)if(R){if(Object.keys(R[0].params).length>0)return{active:!0,matches:tl(z,V,l,!0)}}else return{active:!0,matches:tl(z,V,l,!0)||[]};return{active:!1,matches:null}}async function Gn(R,z,V){if(!d)return{type:"success",matches:R};let ee=R;for(;;){let se=s==null,le=s||a,ge=o;try{await d({path:z,matches:ee,patch:(ce,pe)=>{V.aborted||Z0(ce,pe,le,ge,i)}})}catch(ce){return{type:"error",error:ce,partialMatches:ee}}finally{se&&!V.aborted&&(a=[...a])}if(V.aborted)return{type:"aborted"};let ue=Ki(le,z,l);if(ue)return{type:"success",matches:ue};let oe=tl(le,z,l,!0);if(!oe||ee.length===oe.length&&ee.every((ce,pe)=>ce.route.id===oe[pe].route.id))return{type:"success",matches:null};ee=oe}}function Sc(R){o={},s=zl(R,i,void 0,o)}function cs(R,z){let V=s==null;Z0(R,z,s||a,o,i),V&&(a=[...a],Le({}))}return _={get basename(){return l},get future(){return f},get state(){return b},get routes(){return a},get window(){return e},initialize:ae,subscribe:Oe,enableScrollRestoration:gt,navigate:ct,fetch:ve,revalidate:Te,createHref:R=>n.history.createHref(R),encodeLocation:R=>n.history.encodeLocation(R),getFetcher:We,deleteFetcher:Fe,dispose:Ee,getBlocker:Qe,deleteBlocker:_t,patchRoutes:cs,_internalFetchControllers:H,_internalActiveDeferreds:U,_internalSetRoutes:Sc},_}function R9(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function Au(n,e,t,r,i,o,a,s){let l,c;if(a){l=[];for(let f of e)if(l.push(f),f.route.id===a){c=f;break}}else l=e,c=e[e.length-1];let d=E2(i||".",_9(l,o),bc(n.pathname,t)||n.pathname,s==="path");if(i==null&&(d.search=n.search,d.hash=n.hash),(i==null||i===""||i===".")&&c){let f=fp(d.search);if(c.route.index&&!f)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&f){let u=new URLSearchParams(d.search),p=u.getAll("index");u.delete("index"),p.filter(m=>m).forEach(m=>u.append("index",m));let g=u.toString();d.search=g?"?"+g:""}}return r&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Sa([t,d.pathname])),Er(d)}function K0(n,e,t,r){if(!r||!R9(r))return{path:t};if(r.formMethod&&!Y9(r.formMethod))return{path:t,error:on(405,{method:r.formMethod})};let i=()=>({path:t,error:on(400,{type:"invalid-body"})}),o=r.formMethod||"get",a=n?o.toUpperCase():o.toLowerCase(),s=P2(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Dn(a))return i();let u=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,g)=>{let[m,w]=g;return""+p+m+"="+w+"\n"},""):String(r.body);return{path:t,submission:{formMethod:a,formAction:s,formEncType:r.formEncType,formData:void 0,json:void 0,text:u}}}else if(r.formEncType==="application/json"){if(!Dn(a))return i();try{let u=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:a,formAction:s,formEncType:r.formEncType,formData:void 0,json:u,text:void 0}}}catch(u){return i()}}}Ge(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=Lu(r.formData),c=r.formData;else if(r.body instanceof FormData)l=Lu(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=t1(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=t1(l)}catch(u){return i()}let d={formMethod:a,formAction:s,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Dn(d.formMethod))return{path:t,submission:d};let f=ui(t);return e&&f.search&&fp(f.search)&&l.append("index",""),f.search="?"+l,{path:Er(f),submission:d}}function q0(n,e,t){t===void 0&&(t=!1);let r=n.findIndex(i=>i.route.id===e);return r>=0?n.slice(0,t?r+1:r):n}function Q0(n,e,t,r,i,o,a,s,l,c,d,f,u,p,g,m){let w=m?hn(m[1])?m[1].error:m[1].data:void 0,y=n.createURL(e.location),x=n.createURL(i),v=t;o&&e.errors?v=q0(t,Object.keys(e.errors)[0],!0):m&&hn(m[1])&&(v=q0(t,m[0]));let S=m?m[1].statusCode:void 0,_=a&&S&&S>=400,b=v.filter((N,I)=>{let{route:E}=N;if(E.lazy)return!0;if(E.loader==null)return!1;if(o)return Pu(E,e.loaderData,e.errors);if(O9(e.loaderData,e.matches[I],N)||l.some(P=>P===N.route.id))return!0;let A=e.matches[I],T=N;return J0(N,at({currentUrl:y,currentParams:A.params,nextUrl:x,nextParams:T.params},r,{actionResult:w,actionStatus:S,defaultShouldRevalidate:_?!1:s||y.pathname+y.search===x.pathname+x.search||y.search!==x.search||M2(A,T)}))}),C=[];return f.forEach((N,I)=>{if(o||!t.some(O=>O.route.id===N.routeId)||d.has(I))return;let E=Ki(p,N.path,g);if(!E){C.push({key:I,routeId:N.routeId,path:N.path,matches:null,match:null,controller:null});return}let A=e.fetchers.get(I),T=pa(E,N.path),P=!1;u.has(I)?P=!1:c.has(I)?(c.delete(I),P=!0):A&&A.state!=="idle"&&A.data===void 0?P=s:P=J0(T,at({currentUrl:y,currentParams:e.matches[e.matches.length-1].params,nextUrl:x,nextParams:t[t.length-1].params},r,{actionResult:w,actionStatus:S,defaultShouldRevalidate:_?!1:s})),P&&C.push({key:I,routeId:N.routeId,path:N.path,matches:E,match:T,controller:new AbortController})}),[b,C]}function Pu(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let r=e!=null&&e[n.id]!==void 0,i=t!=null&&t[n.id]!==void 0;return!r&&i?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!i}function O9(n,e,t){let r=!e||t.route.id!==e.route.id,i=n[t.route.id]===void 0;return r||i}function M2(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function J0(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function Z0(n,e,t,r,i){var o;let a;if(n){let c=r[n];Ge(c,"No route found to patch children into: routeId = "+n),c.children||(c.children=[]),a=c.children}else a=t;let s=e.filter(c=>!a.some(d=>A2(c,d))),l=zl(s,i,[n||"_","patch",String(((o=a)==null?void 0:o.length)||"0")],r);a.push(...l)}function A2(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>{var i;return(i=e.children)==null?void 0:i.some(o=>A2(t,o))}):!1}async function j9(n,e,t){if(!n.lazy)return;let r=await n.lazy();if(!n.lazy)return;let i=t[n.id];Ge(i,"No route found in manifest");let o={};for(let a in r){let l=i[a]!==void 0&&a!=="hasErrorBoundary";Di(!l,'Route "'+i.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+a+'" will be ignored.')),!l&&!o9.has(a)&&(o[a]=r[a])}Object.assign(i,o),Object.assign(i,at({},e(i),{lazy:void 0}))}async function B9(n){let{matches:e}=n,t=e.filter(i=>i.shouldLoad);return(await Promise.all(t.map(i=>i.resolve()))).reduce((i,o,a)=>Object.assign(i,{[t[a].route.id]:o}),{})}async function D9(n,e,t,r,i,o,a,s,l,c){let d=o.map(p=>p.route.lazy?j9(p.route,l,s):void 0),f=o.map((p,g)=>{let m=d[g],w=i.some(x=>x.route.id===p.route.id);return at({},p,{shouldLoad:w,resolve:async x=>(x&&r.method==="GET"&&(p.route.lazy||p.route.loader)&&(w=!0),w?z9(e,r,p,m,x,c):Promise.resolve({type:Ve.data,result:void 0}))})}),u=await n({matches:f,request:r,params:o[0].params,fetcherKey:a,context:c});try{await Promise.all(d)}catch(p){}return u}async function z9(n,e,t,r,i,o){let a,s,l=c=>{let d,f=new Promise((g,m)=>d=m);s=()=>d(),e.signal.addEventListener("abort",s);let u=g=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+n+'" [routeId: '+t.route.id+"]"))):c({request:e,params:t.params,context:o},...g!==void 0?[g]:[]),p=(async()=>{try{return{type:"data",result:await(i?i(m=>u(m)):u())}}catch(g){return{type:"error",result:g}}})();return Promise.race([p,f])};try{let c=t.route[n];if(r)if(c){let d,[f]=await Promise.all([l(c).catch(u=>{d=u}),r]);if(d!==void 0)throw d;a=f}else if(await r,c=t.route[n],c)a=await l(c);else if(n==="action"){let d=new URL(e.url),f=d.pathname+d.search;throw on(405,{method:e.method,pathname:f,routeId:t.route.id})}else return{type:Ve.data,result:void 0};else if(c)a=await l(c);else{let d=new URL(e.url),f=d.pathname+d.search;throw on(404,{pathname:f})}Ge(a.result!==void 0,"You defined "+(n==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+n+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:Ve.error,result:c}}finally{s&&e.signal.removeEventListener("abort",s)}return a}async function F9(n){let{result:e,type:t}=n;if(L2(e)){let c;try{let d=e.headers.get("Content-Type");d&&/\bapplication\/json\b/.test(d)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(d){return{type:Ve.error,error:d}}return t===Ve.error?{type:Ve.error,error:new Mu(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:Ve.data,data:c,statusCode:e.status,headers:e.headers}}if(t===Ve.error){if(a1(e)){var r;if(e.data instanceof Error){var i;return{type:Ve.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new Mu(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:Ve.error,error:e,statusCode:cp(e)?e.status:void 0}}if(W9(e)){var o,a;return{type:Ve.deferred,deferredData:e,statusCode:(o=e.init)==null?void 0:o.status,headers:((a=e.init)==null?void 0:a.headers)&&new Headers(e.init.headers)}}if(a1(e)){var s,l;return{type:Ve.data,data:e.data,statusCode:(s=e.init)==null?void 0:s.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:Ve.data,data:e}}function H9(n,e,t,r,i,o){let a=n.headers.get("Location");if(Ge(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!dp.test(a)){let s=r.slice(0,r.findIndex(l=>l.route.id===t)+1);a=Au(new URL(e.url),s,i,!0,a,o),n.headers.set("Location",a)}return n}function e1(n,e,t){if(dp.test(n)){let r=n,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=bc(i.pathname,t)!=null;if(i.origin===e.origin&&o)return i.pathname+i.search+i.hash}return n}function Gi(n,e,t,r){let i=n.createURL(P2(e)).toString(),o={signal:t};if(r&&Dn(r.formMethod)){let{formMethod:a,formEncType:s}=r;o.method=a.toUpperCase(),s==="application/json"?(o.headers=new Headers({"Content-Type":s}),o.body=JSON.stringify(r.json)):s==="text/plain"?o.body=r.text:s==="application/x-www-form-urlencoded"&&r.formData?o.body=Lu(r.formData):o.body=r.formData}return new Request(i,o)}function Lu(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function t1(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function U9(n,e,t,r,i){let o={},a=null,s,l=!1,c={},d=t&&hn(t[1])?t[1].error:void 0;return n.forEach(f=>{if(!(f.route.id in e))return;let u=f.route.id,p=e[u];if(Ge(!Ci(p),"Cannot handle redirect results in processLoaderData"),hn(p)){let g=p.error;d!==void 0&&(g=d,d=void 0),a=a||{};{let m=xi(n,u);a[m.route.id]==null&&(a[m.route.id]=g)}o[u]=void 0,l||(l=!0,s=cp(p.error)?p.error.status:500),p.headers&&(c[u]=p.headers)}else Fr(p)?(r.set(u,p.deferredData),o[u]=p.deferredData.data,p.statusCode!=null&&p.statusCode!==200&&!l&&(s=p.statusCode),p.headers&&(c[u]=p.headers)):(o[u]=p.data,p.statusCode&&p.statusCode!==200&&!l&&(s=p.statusCode),p.headers&&(c[u]=p.headers))}),d!==void 0&&t&&(a={[t[0]]:d},o[t[0]]=void 0),{loaderData:o,errors:a,statusCode:s||200,loaderHeaders:c}}function n1(n,e,t,r,i,o,a){let{loaderData:s,errors:l}=U9(e,t,r,a);return i.forEach(c=>{let{key:d,match:f,controller:u}=c,p=o[d];if(Ge(p,"Did not find corresponding fetcher result"),!(u&&u.signal.aborted))if(hn(p)){let g=xi(n.matches,f==null?void 0:f.route.id);l&&l[g.route.id]||(l=at({},l,{[g.route.id]:p.error})),n.fetchers.delete(d)}else if(Ci(p))Ge(!1,"Unhandled fetcher revalidation redirect");else if(Fr(p))Ge(!1,"Unhandled fetcher deferred data");else{let g=Tr(p.data);n.fetchers.set(d,g)}}),{loaderData:s,errors:l}}function r1(n,e,t,r){let i=at({},e);for(let o of t){let a=o.route.id;if(e.hasOwnProperty(a)?e[a]!==void 0&&(i[a]=e[a]):n[a]!==void 0&&o.route.loader&&(i[a]=n[a]),r&&r.hasOwnProperty(a))break}return i}function i1(n){return n?hn(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function xi(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function o1(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function on(n,e){let{pathname:t,routeId:r,method:i,type:o,message:a}=e===void 0?{}:e,s="Unknown Server Error",l="Unknown @remix-run/router error";return n===400?(s="Bad Request",i&&t&&r?l="You made a "+i+' request to "'+t+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?l="defer() is not supported in actions":o==="invalid-body"&&(l="Unable to encode submission body")):n===403?(s="Forbidden",l='Route "'+r+'" does not match URL "'+t+'"'):n===404?(s="Not Found",l='No route matches URL "'+t+'"'):n===405&&(s="Method Not Allowed",i&&t&&r?l="You made a "+i.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new Mu(n||500,s,new Error(l),!0)}function Os(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,i]=e[t];if(Ci(i))return{key:r,result:i}}}function P2(n){let e=typeof n=="string"?ui(n):n;return Er(at({},e,{hash:""}))}function V9(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function $9(n){return L2(n.result)&&M9.has(n.result.status)}function Fr(n){return n.type===Ve.deferred}function hn(n){return n.type===Ve.error}function Ci(n){return(n&&n.type)===Ve.redirect}function a1(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function W9(n){let e=n;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function L2(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function Y9(n){return N9.has(n.toLowerCase())}function Dn(n){return E9.has(n.toLowerCase())}async function X9(n,e,t,r,i){let o=Object.entries(e);for(let a=0;a<o.length;a++){let[s,l]=o[a],c=n.find(u=>(u==null?void 0:u.route.id)===s);if(!c)continue;let d=r.find(u=>u.route.id===c.route.id),f=d!=null&&!M2(d,c)&&(i&&i[c.route.id])!==void 0;Fr(l)&&f&&await up(l,t,!1).then(u=>{u&&(e[s]=u)})}}async function G9(n,e,t){for(let r=0;r<t.length;r++){let{key:i,routeId:o,controller:a}=t[r],s=e[i];n.find(c=>(c==null?void 0:c.route.id)===o)&&Fr(s)&&(Ge(a,"Expected an AbortController for revalidating fetcher deferred result"),await up(s,a.signal,!0).then(c=>{c&&(e[i]=c)}))}}async function up(n,e,t){if(t===void 0&&(t=!1),!await n.deferredData.resolveData(e)){if(t)try{return{type:Ve.data,data:n.deferredData.unwrappedData}}catch(i){return{type:Ve.error,error:i}}return{type:Ve.data,data:n.deferredData.data}}}function fp(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function pa(n,e){let t=typeof e=="string"?ui(e).search:e.search;if(n[n.length-1].route.index&&fp(t||""))return n[n.length-1];let r=C2(n);return r[r.length-1]}function s1(n){let{formMethod:e,formAction:t,formEncType:r,text:i,formData:o,json:a}=n;if(!(!e||!t||!r)){if(i!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:t,formEncType:r,formData:o,json:void 0,text:void 0};if(a!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:a,text:void 0}}}function pd(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function K9(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function aa(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function q9(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function Tr(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function Q9(n,e){try{let t=n.sessionStorage.getItem(N2);if(t){let r=JSON.parse(t);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch(t){}}function J9(n,e){if(e.size>0){let t={};for(let[r,i]of e)t[r]=[...i];try{n.sessionStorage.setItem(N2,JSON.stringify(t))}catch(r){Di(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}const vr="showModal",To="showPopout",Hr="blockForward",Z9="vk-mini-app-navigation-block",T2="inflate",e_="*",is=k.createContext(null),wc=k.createContext(null),pp=k.createContext({popout:null});pp.displayName="PopoutContext";is.displayName="RouterContext";wc.displayName="RouteContext";const Fl=n=>typeof n=="string",R2=n=>typeof n=="object"&&"path"in n,hd=n=>typeof n=="object"&&!R2(n);function _c(n){var e,t;return(t=(e=n==null?void 0:n.match(/\/:[^\/]+/g))==null?void 0:e.map(r=>r.replace("/","")))!=null?t:[]}function hp(n,e){const t=_c(n),r=(i,o)=>{const a=o.replace(":","");return os(e==null?void 0:e[a],"Missing parameter ".concat(a," while building route ").concat(n)),i.replace(o,e[a])};return t.reduce(r,n)}function O2(n,e=[]){return{state:n,match:n.matches.length?n.matches[n.matches.length-1]:void 0,panelsHistory:e}}function sa(n){return n.state&&vr in n.state}function l1(n){return n.state&&To in n.state}function mp(){return Math.random().toString(36).substring(2,9)}function os(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function j2(n,e=""){if(Fl(n))return n;const t=R2(n)?n.path:n.pathname||e;return Fl(t)?t:t.path}function t_(n=""){return!Fl(n)&&!(n instanceof URLSearchParams)?"".concat(new URLSearchParams(n)):n.toString()}function gp({to:n,params:e,defaultPathname:t=""}){const r=j2(n,t),i=hd(n)?t_(n.search):"";if(_c(r).length>0){const a=hp(r,e);return hd(n)?Er({...n,pathname:a,search:i}):a}return hd(n)?Er({...n,pathname:r,search:i}):r}function n_(n,e){const t=n.route;function r(o){return Object.keys(n.params).map(a=>{var s;return+!!((s=o.path)!=null&&s.includes(":".concat(a)))}).reduce((a,s)=>a+s,0)}const i=e.routes.filter(o=>{const a=o,s=_c(a.path).map(l=>l.replace(":",""));return!a.modal&&a.tab===t.tab&&a.panel===t.panel&&a.view===t.view&&a.root===t.root&&s.every(l=>Object.keys(n.params).includes(l))}).sort((o,a)=>r(o)-r(a)).pop();return i&&hp(i.path,n.params)}class uo{constructor(e){this._value=e}static init(e){uo._instance||(uo._instance=new uo(e))}static get value(){var e;return(e=uo._instance)==null?void 0:e._value}}function r_(n){window.addEventListener("popstate",t=>{t.state||window.history.replaceState({key:mp()},"")});const e=n9();return uo.init(e.location),T9({history:e,routes:n.map(t=>({...t,index:!0}))}).initialize()}function i_(n){return Object.keys(n).reduce((e,t)=>{const r=n[t];return e.concat(Array.isArray(r)?r.map(i=>[t,i]):[[t,r]])},[])}function B2(n=""){const e=typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams;return new URLSearchParams(e?n:i_(n))}class It{constructor(){this.transactions=[]}static getInstance(){return It.instance||(It.instance=new It),It.instance}static get isRunSyncActive(){const e=It.getInstance(),t=e.transactions.length>1,r=e.transactions.length===1&&e.transactions[0].isMultiAction;return t||r}static add(e){It.getInstance().transactions.push(e)}static resetTransactions(){const e=It.getInstance();e.transactions=[]}static async doNext(){const t=It.getInstance().transactions;setTimeout(()=>{t.length&&(t[0].doNext(),t[0].finished&&t.shift())})}}class D2{constructor(e){this.actions=e,this.pointer=0,this.resolve=()=>{},this.reject=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}get isMultiAction(){return this.actions.length>1}get donePromise(){return this.promise}get finished(){return this.pointer>=this.actions.length}doNext(){this.finished||(this.actions[this.pointer](),this.pointer+=1),this.finished&&this.resolve()}}function z2(n,e){return n.map(t=>{const r={...t,parents:e};return t.children?z2(t.children,[...e,r]):r}).flat()}function o_(n,e,t){var c,d,f;const r=z2(n,[]),i=t.state.location,o=(d=(c=t.match)==null?void 0:c.params)!=null?d:{},a=(f=t.match)==null?void 0:f.route.path,s=r.find(u=>u.path===a);if(!s)return;const l=s.parents.map(({path:u})=>hp(u,o));setTimeout(()=>{if(l.length){const u=B2(i.search);u.delete(T2);const p=u.toString().length>0?"?".concat(u.toString()):"",g="".concat(i.pathname).concat(p).concat(i.hash),m=l.shift(),w=[()=>e.replace(m),...l.map(x=>()=>e.push(x)),()=>e.push(g)],y=new D2(w);It.add(y),It.doNext()}})}const F2=()=>{let n=window.location.href,e=n.indexOf("#");return e===-1?n:n.slice(0,e)},fn=class fn{constructor(){this.swipeBackConsumers=[]}static enableNativeSwipeBack(){Promise.all([jt.send("VKWebAppSetSwipeSettings",{history:!0}),jt.send("VKWebAppEnableSwipeBack")]).catch(fn.handlePlatformError);const e=fn.instance,t=mp();return e.swipeBackConsumers=[...e.swipeBackConsumers,t],t}static disableNativeSwipeBack(e){const t=fn.instance;t.swipeBackConsumers=t.swipeBackConsumers.filter(r=>r!==e),t.swipeBackConsumers.length===0&&Promise.all([jt.send("VKWebAppSetSwipeSettings",{history:!1}),jt.send("VKWebAppDisableSwipeBack")]).catch(fn.handlePlatformError)}static get instance(){return fn._instance||(fn._instance=new fn),fn._instance}};fn.UNSUPPORTED_PLATFORM_ERROR_CODE=6,fn.handlePlatformError=e=>{e.error_data.error_code!==fn.UNSUPPORTED_PLATFORM_ERROR_CODE&&console.log(e)};let c1=fn;class mr{constructor(){this.subscriptions={}}static getInstance(){return mr.instance||(mr.instance=new mr),mr.instance}isEventExist(e){return e in this.subscriptions}static broadcast(e,t){const r=mr.getInstance();r.isEventExist(e)&&r.subscriptions[e].forEach(i=>i(...t))}static subscribe(e,t){const r=mr.getInstance();r.isEventExist(e)||(r.subscriptions[e]=new Set);const i=r.subscriptions[e];return i.add(t),()=>{i.delete(t),i.size===0&&delete r.subscriptions[e]}}}class gr{constructor(){this.interval=0,this.throttled=!0,this.contextThrottleMap={}}static getInstance(){return gr.instance||(gr.instance=new gr),gr.instance}getContextThrottleInfoByName(e){return e in this.contextThrottleMap||(this.contextThrottleMap[e]={prevValue:null,throttledValue:null,lastUpdateTimestamp:0,updateTimerId:0}),this.contextThrottleMap[e]}isContextChange(e,t){const r=this.getContextThrottleInfoByName(e);return t!==r.throttledValue}getTimeUntilNextUpdate(e){const t=Date.now()-e;return this.interval-t}updateContextValue(e,t){const r=this.getContextThrottleInfoByName(e);r.prevValue=r.throttledValue,r.lastUpdateTimestamp=Date.now(),r.throttledValue=t,mr.broadcast(e,[r.throttledValue,r.prevValue])}throttleUpdateContextValue(e,t){const r=this.getContextThrottleInfoByName(e);if(clearTimeout(r.updateTimerId),this.isRunSyncActive())return;const i=r.lastUpdateTimestamp,o=this.getTimeUntilNextUpdate(i);o<=0?this.updateContextValue(e,t):r.updateTimerId=setTimeout(()=>{this.updateContextValue(e,t)},o)}isRunSyncActive(){return It.isRunSyncActive}static triggerContextUpdate(e,t){const r=gr.getInstance();r.isContextChange(e,t)&&(!r.throttled&&!r.isRunSyncActive()?r.updateContextValue(e,t):r.throttleUpdateContextValue(e,t))}static updateThrottledServiceSettings(e){const t=gr.getInstance();t.interval=e.interval,t.throttled=e.throttled}}class a_{constructor(e,t,r){this.viewHistory=t,this.blockers=new Map,this.blockerId=0,this.router=e,this.setPopout=r}async push(e,t={},r={}){var s;const{preparedOptions:i,preparedParams:o}=this.parseParams(e,t,r),a={...i,replace:!!((s=this.router.state.location.state)!=null&&s[Hr])};await this.navigate(e,a,o)}async replace(e,t={},r={}){const{preparedOptions:i,preparedParams:o}=this.parseParams(e,t,r);await this.navigate(e,{...i,replace:!0},o)}async back(e=1){e!==0&&await this.go(-Math.abs(e))}async backToFirst(){this.viewHistory.position>0?await this.go(-this.viewHistory.position):await It.doNext()}async go(e){e===0?await It.doNext():await this.router.navigate(e)}runSync(e){const t=new D2(e);return It.add(t),It.doNext(),t.donePromise}async showModal(e){await this.router.navigate(this.router.state.location,{state:{[vr]:e,[Hr]:!0},replace:sa(this.router.state.location)})}async hideModal(e=!1,t){if(!e&&!this.viewHistory.isFirstPage||sa(this.router.state.location))return await this.router.navigate(-1);const r=this.router.state.matches.find(i=>"modal"in i.route);if(r){const i=r.route,o=n_(r,this.router);return os(o,"There is no route registered for panel with ".concat(i.root?"root: ".concat(i.root," "):"",", view: ").concat(i.view,", panel: ").concat(i.panel,". Make sure this route exists or use hideModal with pushPanel set to false.")),await this.navigate(o,{keepSearchParams:!0,replace:!!(t!=null&&t.replace)})}await It.doNext()}async showPopout(e){this.setPopout(e);const t={[To]:mp(),[Hr]:!0};sa(this.router.state.location)&&(t[vr]=this.router.state.location.state[vr]);const r=sa(this.router.state.location)||l1(this.router.state.location);await this.router.navigate(this.router.state.location,{state:t,replace:r})}async hidePopout(){l1(this.router.state.location)?(this.setPopout(null),sa(this.router.state.location)?await this.router.navigate(this.router.state.location,{state:{[Hr]:!0,[vr]:this.router.state.location.state[vr]},replace:!0}):await this.router.navigate(-1)):await It.doNext()}block(e){const t=(++this.blockerId).toString(),r=i=>Array.from(this.blockers.values()).some(o=>o(i));return this.blockers.set(t,e),this.router.getBlocker(Z9,r),()=>{this.blockers.delete(t)}}async navigate(e,t,r={}){let i=gp({to:e,params:r,defaultPathname:this.router.state.location.pathname});const o=new URL(i,window.location.origin);if(t!=null&&t.keepSearchParams){const a=new URLSearchParams(this.router.state.location.search),s=new URLSearchParams(o.search);a.forEach((l,c)=>{s.has(c)||s.set(c,l)}),o.search=s.toString(),i=o.pathname+(o.search?"".concat(o.search):"")}await this.router.navigate(i,t)}validateOptions({state:e,keepSearchParams:t}={}){return e&&typeof e!="object"||t&&typeof t!="boolean"?(console.warn("Invalid navigate options type"),{}):{state:e,keepSearchParams:t}}parseParams(e,t={},r={}){const i=j2(e);return _c(i).length?{preparedParams:t,preparedOptions:this.validateOptions(r)}:{preparedParams:{},preparedOptions:this.validateOptions(t)}}}class s_{constructor(){this.history=[],this.positionInternal=-1}updateNavigation(e){const{match:t}=O2(e);if(!t)return;const r=this.createViewRecord(e,t);switch(e.historyAction){case tt.Push:this.push(r);break;case tt.Pop:this.hasKey(e.location.key)?this.pop(e):this.push(r);break;case tt.Replace:this.replace(r);break}}get isFirstPage(){return this.positionInternal<1}get panelsHistory(){if(this.history.length<0)return[];const e=this.history[this.positionInternal].view,t=this.history.slice(0,this.positionInternal+1).reverse(),r=t.findIndex(o=>o.view!==e);return t.slice(0,r>-1?r:t.length).filter(o=>!o.modal&&!o.popout).reverse().map(({panel:o})=>o)}get position(){return this.positionInternal}get historyStack(){return this.history.map(e=>({...e}))}isPopForward(e,t){const r=this.history.findIndex(({locationKey:i})=>i===t);return e===tt.Pop&&r>this.position}isPopBackward(e,t){const r=this.history.findIndex(({locationKey:i})=>i===t);return e===tt.Pop&&r<=this.position}resetHistory(){this.positionInternal=-1,this.history=[]}push(e){this.history=this.history.slice(0,this.positionInternal+1),this.history.push(e),this.positionInternal=this.history.length-1,e.position=this.position}replace(e){this.history[this.position]=e,e.position=this.position}pop(e){this.positionInternal=this.history.findIndex(({locationKey:t})=>t===e.location.key)}hasKey(e){return!!this.history.find(({locationKey:t})=>t===e)}createViewRecord(e,t){var i;const{route:r}=t;return{position:-1,path:e.location.pathname,state:e.location.state,root:"root"in r?r.root:void 0,view:r.view,panel:r.panel,modal:"modal"in r?r.modal:void 0,tab:r.tab,popout:(i=e.location.state)==null?void 0:i[To],locationKey:e.location.key}}}const js=[];function l_(n,e,t){k.useEffect(()=>{const r=({historyAction:o,nextLocation:a})=>{var c;return!!(e.isPopForward(o,a.key)&&a.key!=="default"&&((c=a.state)!=null&&c[Hr]))},i=t.block(r);return()=>i()},[t,e]),k.useEffect(()=>{n.subscribe(r=>{var a,s,l,c,d,f,u;const i=r.location.key;if(e.isPopBackward(r.historyAction,i)&&((a=r.location.state)!=null&&a[Hr])&&!js.includes(i)){js.push(i);const p={...window.history.state};(s=p.usr)!=null&&s[vr]&&(p.usr={...p.usr},(l=p.usr)==null||delete l[vr],(c=p.usr)==null||delete c[Hr]),(d=p.usr)!=null&&d[To]&&(p.usr={...p.usr},(f=p.usr)==null||delete f[To],(u=p.usr)==null||delete u[Hr]),window.history.replaceState(p,""),n.navigate(-1).then(()=>js.splice(js.findIndex(g=>g===i),1))}})},[n,e])}const c_={background:"#3f5d81 url(https://vk.com/images/error404.png) no-repeat 50% 50%",width:"100%",height:"100%",overflow:"hidden",margin:"0",cursor:"pointer",backgroundSize:"contain"};function d_({routeNavigator:n}){return h.jsx("div",{onClick:()=>void n.replace("/"),className:"default-not-found",style:c_})}function u_({router:n,children:e,notFound:t,hierarchy:r,notFoundRedirectPath:i,interval:o=400,useBridge:a=!0,throttled:s=!0}){var x,v;const[l,c]=k.useState(null),[d]=k.useState(new s_),[f,u]=k.useState([]),p=(x=n.state.location.state)==null?void 0:x[To],g=k.useMemo(()=>{const S=new a_(n,d,c);return{router:n,routeNavigator:S,viewHistory:d}},[n,d,c]),m=k.useMemo(()=>O2(n.state,f),[n.state,f]),w=k.useMemo(()=>({popout:p?l:null}),[p,l]);l_(n,d,g.routeNavigator),k.useEffect(()=>{history.scrollRestoration="manual",It.resetTransactions(),d.resetHistory(),d.updateNavigation({...n.state,historyAction:tt.Push}),u(d.panelsHistory),n.subscribe(b=>{d.updateNavigation(b),u(d.panelsHistory),It.doNext()}),a&&(jt.subscribe(b=>{b.detail.type==="VKWebAppChangeFragment"&&n.navigate(b.detail.data.location,{replace:!0})}),n.subscribe(b=>{const C=n.createHref(b.location),N=F2(),I=C.replace(N,"").replace(/^#/,"");jt.send("VKWebAppSetLocation",{location:I,replace_state:!0})}));const _=!!B2(n.state.location.search).get(T2);r&&_&&o_(r,g.routeNavigator,m)},[n]),k.useLayoutEffect(()=>{gr.updateThrottledServiceSettings({interval:o,throttled:s})},[o,s]);const y=!!(!m.match||m.state.errors&&m.state.errors[m.match.route.id]&&m.state.errors[m.match.route.id].status===404);return i&&(y||((v=m.match)==null?void 0:v.route.path)===e_)&&(n.state.location.pathname===i?console.warn("Incorrect notFoundRedirectPath"):g.routeNavigator.replace(i)),h.jsx(is.Provider,{value:g,children:h.jsxs(pp.Provider,{value:w,children:[y&&(t||h.jsx(d_,{routeNavigator:g.routeNavigator})),!y&&h.jsx(wc.Provider,{value:m,children:e})]})})}function vp(n){const e=k.useContext(n),t=n.displayName,[r,i]=k.useState(e),[o,a]=k.useState(e);return t?(k.useEffect(()=>{const s=mr.subscribe(t,(l,c)=>{a(l),i(c)});return()=>s()},[]),k.useEffect(()=>{gr.triggerContextUpdate(t,e)},[e,t]),[o,r]):(console.error("No context display name found"),[e,null])}function as(){const n=k.useContext(is);return os(n,"You can not use useNavigator hook outside of RouterContext. Make sure calling it inside RouterProvider."),n.routeNavigator}function H2(){const[n]=vp(wc);return os(n,"You can not use useLocation hook outside of RouteContext. Make sure calling it inside RouterProvider."),n.state.location}function f_(){const[n]=vp(pp);return n.popout}function p_(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function U2(n,{relative:e}={}){const{router:{state:{matches:t}}}=k.useContext(is),{pathname:r}=H2(),i=JSON.stringify(p_(t).map(o=>o.pathnameBase));return k.useMemo(()=>E2(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function h_(n,{relative:e,params:t}){const r=k.useContext(is);os(r,"You can not use useHref hook outside of RouteContext. Make sure calling it inside RouterProvider.");const i=gp({to:n,params:t,defaultPathname:r.router.state.location.pathname}),{hash:o,pathname:a,search:s}=U2(i,{relative:e}),l=F2(),d=r.router.createHref({pathname:a,search:s,hash:o}).replace(l,"");return d.startsWith("/")?d:"/"+d}function m_(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function g_(n,e){return n.button===0&&(!e||e==="_self")&&!m_(n)}function v_(n,{target:e,replace:t,preventScrollReset:r,relative:i,params:o}){const a=as(),s=H2(),l=U2(gp({to:n,params:o,defaultPathname:s.pathname}),{relative:i});return k.useCallback(c=>{if(g_(c,e)){c.preventDefault();const d=Er(l);(t!==void 0?t:Er(s)===d)?a.replace(d):a.push(d)}},[s,a,l,t,e,n,r,i])}const y_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,x_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",b_=({to:n,relative:e,replace:t,target:r,reloadDocument:i,params:o,onClick:a,...s},l)=>{let c,d=!1,f=n;if(Fl(n)&&y_.test(n)&&(c=n,x_)){const m=new URL(window.location.href),w=n.startsWith("//")?new URL(m.protocol+n):new URL(n),y=w.pathname;w.origin===m.origin?f=y+w.search+w.hash:d=!0}const u=h_(f,{relative:e,params:o}),p=v_(f,{replace:t,target:r,relative:e,params:o});function g(m){a&&a(m),m.defaultPrevented||p(m)}return h.jsx(mw,{...s,href:c||u,onClick:d||i?a:g,getRootRef:l,target:r})};k.forwardRef(b_);function V2(){var s,l;const[n]=vp(wc),e=f_(),{match:t,state:r,panelsHistory:i}=n,o=t==null?void 0:t.route,a=(l=(s=r.location.state)==null?void 0:s[vr])!=null?l:o&&"modal"in o?o.modal:void 0;return{root:o&&"root"in o?o.root:void 0,view:o==null?void 0:o.view,panel:o==null?void 0:o.panel,tab:o==null?void 0:o.tab,modal:a,hasOverlay:!!(a||e),panelsHistory:i}}function ss(n,e){if(e&&e.length&&typeof n=="object"&&n.hasOwnProperty(e)){const t="".concat(e,"_0");return n.hasOwnProperty(t)?ss(n,t):t}return e}class w_{constructor(e,t){this.id=e,this.panels=t,t.forEach(r=>{this[ss(this,r.id)]=r})}get children(){return this.panels}getRoutes(){return this.panels.map(e=>e.getRoutes()).flat().map(e=>({...e,view:this.id}))}}function __(n,e){return new w_(n,e)}class S_{constructor(e,t){if(this.id=e,this.views=t,!t.length)throw new Error("Trying to create root ".concat(e," without views. Root must have at least one view."));t.forEach(r=>{this[ss(this,r.id)]=r})}get children(){return this.views}getRoutes(){return this.views.map(e=>e.getRoutes()).flat().map(e=>({...e,root:this.id}))}}function k_(n,e){return new S_(n,e)}class C_{constructor(e,t,r){this.id=e,this.path=t,this.modals=r,r.forEach(i=>{this[ss(this,i.id)]=i})}getRoutes(){return this.modals.map(e=>e.getRoutes()).flat().map(e=>({...e,panel:this.id})).concat({path:this.path,panel:this.id})}}class E_ extends C_{constructor(e,t,r=[]){super(e,t,r),this.path=t,this.hasParams=!1}}function Bs(n,e,t,r){return new E_(n,e,t!=null?t:[])}class yp{constructor(){this.items=[]}getRoutes(){return this.items.map(e=>e.getRoutes()).flat()}static create(e){const t=new yp;return t.items=e,e.forEach(r=>{t[ss(t,r.id)]=r}),t}}const I_=__,N_=({type:n,viewportWidth:e,viewportHeight:t})=>{switch(n){case"adaptive":return{viewWidth:sx(e),viewHeight:lx(t)};case"force_mobile":case"force_mobile_compact":return{viewWidth:rt.MOBILE,sizeX:Zs.COMPACT,sizeY:n==="force_mobile_compact"?Zs.COMPACT:Zs.REGULAR};default:return{}}},M_="default_root",A_="default_view",Ur={HOME:"home",PERSIK:"persik",MY_TREE:"my_tree",TIMELINE:"timeline"},P_=yp.create([k_(M_,[I_(A_,[Bs(Ur.HOME,"/",[]),Bs(Ur.PERSIK,"/persik",[]),Bs(Ur.MY_TREE,"/my_tree",[]),Bs(Ur.TIMELINE,"/timeline",[])])])]),L_=r_(P_.getRoutes()),T_=({id:n,fetchedUser:e,openPopup:t,openQR:r,openLink:i,openAddMother:o,openAddFather:a,openEditMother:s,openEditFather:l,openAddMedia:c})=>{const{photo_200:d,city:f,first_name:u,last_name:p}={...e},g=as();return h.jsxs(Qf,{id:n,children:[h.jsx(Jf,{children:"Главная"}),e&&h.jsx(ot,{header:h.jsx(j0,{mode:"secondary",children:"User Data Fetched with VK Bridge"}),children:h.jsx(e2,{before:d&&h.jsx(qt,{src:d}),subtitle:f==null?void 0:f.title,children:"".concat(u," ").concat(p)})}),h.jsx(ot,{header:h.jsx(j0,{mode:"secondary",children:"Navigation Example"}),children:h.jsxs(G,{children:[h.jsx(yt,{stretched:!0,size:"l",mode:"secondary",onClick:()=>g.push("/persik"),children:"Покажите Персика, пожалуйста!"}),h.jsx(yt,{stretched:!0,size:"l",mode:"secondary",onClick:t,style:{marginTop:10},children:"Добавить событие"}),h.jsx(yt,{stretched:!0,size:"l",mode:"secondary",onClick:c,style:{marginTop:10},children:"Добавить медиа"}),h.jsx(yt,{stretched:!0,size:"l",mode:"secondary",onClick:r,style:{marginTop:10},children:"Поделиться QR-кодом"}),h.jsx(yt,{stretched:!0,size:"l",mode:"secondary",onClick:i,style:{marginTop:10},children:"Пригласить"}),h.jsx(yt,{stretched:!0,size:"l",mode:"secondary",onClick:o,style:{marginTop:10},children:"Добавить мать"}),h.jsx(yt,{stretched:!0,size:"l",mode:"secondary",onClick:a,style:{marginTop:10},children:"Добавить отца"}),h.jsx(yt,{stretched:!0,size:"l",mode:"secondary",onClick:s,style:{marginTop:10},children:"Редактировать мать"}),h.jsx(yt,{stretched:!0,size:"l",mode:"secondary",onClick:l,style:{marginTop:10},children:"Редактировать отца"})]})})]})},R_=""+new URL("persik-DUm5YSvO.png",import.meta.url).href,O_=({id:n})=>{const e=as();return h.jsxs(Qf,{id:n,children:[h.jsx(Jf,{before:h.jsx(e9,{onClick:()=>e.back()}),children:"Persik"}),h.jsx(Vo,{children:h.jsx("img",{width:230,src:R_,alt:"Persik The Cat"})})]})};var $2={exports:{}};(function(n){var e=function(t,r){var i=this;if((typeof t=="string"||t instanceof String)&&(t=document.querySelector(t)),this.element=t,this.config=e.mergeDeep(e._defaultConfig(r),r),this._layoutConfigs={base:{orientation:this.config.orientation,levelSeparation:this.config.levelSeparation,mixedHierarchyNodesSeparation:this.config.mixedHierarchyNodesSeparation,assistantSeparation:this.config.assistantSeparation,subtreeSeparation:this.config.subtreeSeparation,siblingSeparation:this.config.siblingSeparation,layout:this.config.layout,columns:this.config.columns,collapse:this.config.collapse,partnerNodeSeparation:this.config.partnerNodeSeparation}},this.config.tags)for(var o in this.config.tags){var a=this.config.tags[o];a.subTreeConfig!=null&&(this._layoutConfigs[o]={orientation:a.subTreeConfig.orientation!=null?a.subTreeConfig.orientation:this.config.orientation,levelSeparation:a.subTreeConfig.levelSeparation!=null?a.subTreeConfig.levelSeparation:this.config.levelSeparation,mixedHierarchyNodesSeparation:a.subTreeConfig.mixedHierarchyNodesSeparation!=null?a.subTreeConfig.mixedHierarchyNodesSeparation:this.config.mixedHierarchyNodesSeparation,assistantSeparation:a.subTreeConfig.assistantSeparation!=null?a.subTreeConfig.assistantSeparation:this.config.assistantSeparation,subtreeSeparation:a.subTreeConfig.subtreeSeparation!=null?a.subTreeConfig.subtreeSeparation:this.config.subtreeSeparation,siblingSeparation:a.subTreeConfig.siblingSeparation!=null?a.subTreeConfig.siblingSeparation:this.config.siblingSeparation,layout:a.subTreeConfig.layout!=null?a.subTreeConfig.layout:this.config.layout,columns:a.subTreeConfig.columns!=null?a.subTreeConfig.columns:this.config.columns,collapse:a.subTreeConfig.collapse!=null?a.subTreeConfig.collapse:this.config.collapse,partnerNodeSeparation:a.subTreeConfig.partnerNodeSeparation!=null?a.subTreeConfig.partnerNodeSeparation:this.config.partnerNodeSeparation})}this._event_id=e._guid(),e._validateConfig(this.config)&&(this._vScroll={},this.config.ui||(this.ui=e.ui),this.config.editUI?this.editUI=this.config.editUI:this.editUI=new e.editUI,this.editUI.init(this),this.config.filterUI?this.filterUI=this.config.filterUI:this.filterUI=new e.filterUI,this.filterUI.init(this),this.manager=new e.manager(this),this.config.searchUI?this.searchUI=this.config.searchUI:this.searchUI=new e.searchUI,this.config.nodeMenuUI?this.nodeMenuUI=this.config.nodeMenuUI:this.nodeMenuUI=new e.menuUI,this.nodeMenuUI.init(this,this.config.nodeMenu),this.config.nodeCircleMenuUI?this.nodeCircleMenuUI=this.config.nodeCircleMenuUI:this.nodeCircleMenuUI=new e.circleMenuUI,this.nodeCircleMenuUI.init(this,this.config.nodeCircleMenu),this.config.nodeContextMenuUI?this.nodeContextMenuUI=this.config.nodeContextMenuUI:this.nodeContextMenuUI=new e.menuUI,this.nodeContextMenuUI.init(this,this.config.nodeContextMenu),this.config.toolbarUI?this.toolbarUI=this.config.toolbarUI:this.toolbarUI=new e.toolbarUI,this.config.notifierUI?this.notifierUI=this.config.notifierUI:this.notifierUI=new e.notifierUI,this.notifierUI.init(this),this.config.menuUI?this.menuUI=this.config.menuUI:this.menuUI=new e.menuUI,this.menuUI.init(this,this.config.menu),this.config.xScrollUI||(this.xScrollUI=new e.xScrollUI(this.element,this.config,function(){return{boundary:i.response.boundary,scale:i.getScale(),viewBox:i.getViewBox(),padding:i.config.padding}},function(s){i.setViewBox(s)},function(){i._draw(!0,e.action.xScroll)})),this.config.yScrollUI||(this.yScrollUI=new e.yScrollUI(this.element,this.config,function(){return{boundary:i.response.boundary,scale:i.getScale(),viewBox:i.getViewBox(),padding:i.config.padding}},function(s){i.setViewBox(s)},function(){i._draw(!0,e.action.xScroll)})),this.config.undoRedoUI?this.undoRedoUI=this.config.undoRedoUI:this.undoRedoUI=new e.undoRedoUI,this.element.classList.add("bft-"+this.config.mode),this._gragStartedId=null,this._timeout=null,this._touch=null,this._initialized=!1,this._loaded=!1,this._moveInterval=null,this._movePosition=null,this.response=null,this.nodes=null,this.isVisible=null,e._intersectionObserver(this.element,function(s){i.isVisible=s,e.events.publish("visibility-change",[i])!==!1&&e.LAZY_LOADING&&i.isVisible&&(i._loaded?i._draw(!1,e.action.update):(i._setInitialSizeIfNotSet(),i._draw(!1,e.action.init)))}))};e._defaultConfig=function(t){return{interactive:!0,mode:"light",lazyLoading:!0,enableDragDrop:!1,enableSearch:!0,enableTouch:!1,enablePan:!0,keyNavigation:!1,miniMap:!1,nodeMenu:null,nodeCircleMenu:null,nodeContextMenu:null,menu:null,toolbar:!1,sticky:!0,nodeMouseClick:e.action.details,nodeMouseDbClick:e.none,mouseScrool:e.action.zoom,showXScroll:e.none,showYScroll:e.none,template:"ana",tags:{},min:!1,nodeBinding:{},linkBinding:{},searchFields:null,searchDisplayField:null,searchFieldsWeight:null,searchFieldsAbbreviation:null,nodes:[],clinks:[],slinks:[],backdrops:[],groupDottedLines:[],dottedLines:[],undoRedoStorageName:null,levelSeparation:60,siblingSeparation:20,subtreeSeparation:40,backdropSeparation:15,mixedHierarchyNodesSeparation:15,assistantSeparation:100,minPartnerSeparation:50,partnerChildrenSplitSeparation:20,partnerNodeSeparation:15,columns:10,padding:30,orientation:e.orientation.top,layout:e.layout.normal,layoutGridColumns:"dynamic",scaleInitial:1,movable:null,scaleMin:.1,scaleMax:5,orderBy:null,editUI:null,filterUI:null,searchUI:null,xScrollUI:null,yScrollUI:null,nodeMenuUI:null,nodeCircleMenuUI:null,nodeContextMenuUI:null,toolbarUI:null,notifierUI:null,menuUI:null,undoRedoUI:null,exportUrl:"https://balkan.app/export",collapse:{},expand:{},align:e.CENTER,UI:null,anim:{func:e.anim.outPow,duration:200},zoom:{speed:120,smooth:12},roots:null,state:null,editForm:{readOnly:!1,titleBinding:"name",photoBinding:"img",addMore:"Add more fields",addMoreBtn:"Add",addMoreFieldName:"Field name",saveAndCloseBtn:"Save and close",cancelBtn:"Cancel",generateElementsFromFields:!0,focusBinding:null,buttons:{edit:{icon:e.icon.edit(24,24,"#fff"),text:"Edit",hideIfEditMode:!0,hideIfDetailsMode:!1},share:{icon:e.icon.share(24,24,"#fff"),text:"Share"},pdf:{icon:e.icon.pdf(24,24,"#fff"),text:"Save as PDF"},remove:{icon:e.icon.remove(24,24,"#fff"),text:"Remove",hideIfDetailsMode:!0}},elements:[]}}},e.prototype.load=function(t,r){var i=this;return this.config.nodes=t,this._draw(!1,e.action.init,void 0,function(){i.filterUI.update(),r&&r()}),this},e.prototype.loadXML=function(t,r){var i=e._xml2json(t);return this.load(i,r)},e.prototype.getXML=function(){return e._json2xml(this.config.nodes)},e.prototype.on=function(t,r){return e.events.on(t,r,this._event_id),this},e.prototype.removeListener=function(t,r){return e.events.remove(t,r,this._event_id)},e.prototype.draw=function(t,r,i){t==null&&(t=e.action.update),this._draw(!1,t,r,i)},e.prototype._draw=function(t,r,i,o){var a=this;if(!e.LAZY_LOADING||this.isVisible)if(e.LAZY_LOADING||this._initialized||(this._setInitialSizeIfNotSet(),this.width()!=0&&this.height()!=0)){this._hideBeforeAnimationCompleted=!1;var s=r==e.action.init?null:this.getViewBox();this.manager.read(t,this.width(),this.height(),s,r,i,function(l){if(!a.notifierUI.show(l.notif)){r!=e.action.exporting&&(a.nodes=l.nodes,a.visibleNodeIds=l.visibleNodeIds,a.roots=l.roots),a.editUI.fields=l.allFields;var c={defs:""};e.events.publish("renderdefs",[a,c]);var d=a.ui.defs(c.defs),f=a.getScale(l.viewBox);d+=a.ui.pointer(a.config,r,f);var u=a.getViewBox(),p=l.viewBox;c={content:d,res:l},e.events.publish("prerender",[a,c]),d=c.content;var g=[];if(e.RENDER_LINKS_BEFORE_NODES)for(var m=0;m<l.visibleNodeIds.length;m++){var w=l.nodes[l.visibleNodeIds[m]];e.getRootOf(w).stParent?g.push(w.id):d+=a.ui.link(w,a,f,l.bordersByRootIdAndLevel,l.nodes,r)}for(m=0;m<l.visibleNodeIds.length;m++){w=l.nodes[l.visibleNodeIds[m]];var y=a._get(w.id);e.RENDER_LINKS_BEFORE_NODES&&g.includes(w.id)&&(d+=a.ui.link(w,a,f,l.bordersByRootIdAndLevel,l.nodes,r)),d+=a.ui.node(w,y,l.animations,a.config,void 0,void 0,void 0,r,f,a)}for(m=0;m<l.visibleNodeIds.length;m++)w=l.nodes[l.visibleNodeIds[m]],e.RENDER_LINKS_BEFORE_NODES||(d+=a.ui.link(w,a,f,l.bordersByRootIdAndLevel,l.nodes,r)),d+=a.ui.expandCollapseBtn(a,w,a._layoutConfigs,r,f);if(c={content:d,res:l},e.events.publish("render",[a,c]),d=c.content,l=c.res,d+=a.ui.lonely(a.config),r!==e.action.exporting){if(r!==e.action.centernode&&r!==e.action.insert&&r!==e.action.expand&&r!==e.action.collapse&&r!==e.action.update||(p=u),r===e.action.init&&u!=null&&(p=u),a.response=l,I=a.ui.svg(a.width(),a.height(),p,a.config,d),a._initialized){var x=a.getSvg(),v=x.parentNode;v.removeChild(x),v.insertAdjacentHTML("afterbegin",I),a._attachEventHandlers(),a.xScrollUI.addListener(a.getSvg()),a.yScrollUI.addListener(a.getSvg()),a.xScrollUI.setPosition(),a.yScrollUI.setPosition()}else a.element.innerHTML=a.ui.css()+I+a.ui.menuButton(a.config),a._attachInitEventHandlers(),a._attachEventHandlers(),a.xScrollUI.create(a.width(),a.config.padding),a.xScrollUI.setPosition(),a.xScrollUI.addListener(a.getSvg()),a.yScrollUI.create(a.height(),a.config.padding),a.yScrollUI.setPosition(),a.yScrollUI.addListener(a.getSvg()),a.config.enableSearch&&a.searchUI.init(a),a.toolbarUI.init(a,a.config.toolbar),a.undoRedoUI.init(a);var S=!1,_=a.response.animations;if(_[0].length>0){for(a._hideBeforeAnimation(_[0].length),m=0;m<_[0].length;m++)_[0][m]=a.getNodeElement(_[0][m]);e.animate(_[0],_[1],_[2],a.config.anim.duration,a.config.anim.func,function(){S||(o&&o(),e.events.publish("redraw",[a]),a._showAfterAnimation(),S=!0)})}r===e.action.centerNode?e.animate(a.getSvg(),{viewbox:u},{viewbox:a.response.viewBox},a.config.anim.duration,a.config.anim.func,function(){a.ripple(i.options.rippleId),S||(o&&o(),e.events.publish("redraw",[a]),a._showAfterAnimation(),S=!0)},function(){a.xScrollUI.setPosition(),a.yScrollUI.setPosition()}):!u||!a.response||u[0]==a.response.viewBox[0]&&u[1]==a.response.viewBox[1]&&u[2]==a.response.viewBox[2]&&u[3]==a.response.viewBox[3]||r!==e.action.insert&&r!==e.action.expand&&r!==e.action.collapse&&r!==e.action.update&&r!==e.action.init?_[0].length==0&&(S||(o&&o(),e.events.publish("redraw",[a]),S=!0)):e.animate(a.getSvg(),{viewbox:u},{viewbox:a.response.viewBox},2*a.config.anim.duration,a.config.anim.func,function(){a.xScrollUI.setPosition(),a.yScrollUI.setPosition(),S||(o&&o(),e.events.publish("redraw",[a]),S=!0)}),a._initialized||(a._initialized=!0,a.filterUI.update(),e.events.publish("init",[a])),!a._loaded&&l&&l.nodes&&Object.keys(l.nodes).length&&(a._loaded=!0)}else{var b=l.boundary,C=b.maxX-b.minX,N=b.maxY-b.minY,I=a.ui.svg(C,N,[b.minX,b.minY,C,N],a.config,d,f);o(I,l)}}},function(l){e.events.publish("ready",[a,l])})}else console.error("Cannot load the family with size 0! If you are using the FamilyTree within tabs set FamilyTree.LAZY_LOADING to true! ")},e.prototype._setInitialSizeIfNotSet=function(){this.element.style.overflow="hidden",this.element.style.position="relative",this.element.offsetHeight==0&&(this.element.style.height="100%",this.element.offsetHeight==0&&(this.element.style.height="700px")),this.element.offsetWidth==0&&(this.element.style.width="100%",this.element.offsetWidth==0&&(this.element.style.width="700px"))},e.prototype.width=function(){return this.element.offsetWidth},e.prototype.height=function(){return this.element.offsetHeight},e.prototype.getViewBox=function(){var t=this.getSvg();return e._getViewBox(t)},e.prototype.setViewBox=function(t){this.getSvg().setAttribute("viewBox",t.toString())},e.prototype.getScale=function(t){return t||(t=this.getViewBox()),e.getScale(t,this.width(),this.height(),this.config.scaleInitial,this.config.scaleMax,this.config.scaleMin)},e.prototype.setScale=function(t){t>this.config.scaleMax&&(t=this.config.scaleMax),t<this.config.scaleMin&&(t=this.config.scaleMin);var r=this.getViewBox().slice(0),i=this.width(),o=this.height(),a=i/r[2],s=o/r[3],l=a>s?s:a,c=r,d=r[2],f=r[3];return r[2]=r[2]/(t/l),r[3]=r[3]/(t/l),r[0]=c[0]-(r[2]-d)/2,r[1]=c[1]-(r[3]-f)/2,this.setViewBox(r),e.events.publish("redraw",[this]),t},e.prototype.ripple=function(t,r,i){var o=this.getNode(t);if(o!=null){var a=this.getNodeElement(t);if(a!=null){var s=this.getScale(),l=o.w/2,c=o.h/2;if(r!==void 0&&i!==void 0){var d=a.getBoundingClientRect();l=r/s-d.left/s,c=i/s-d.top/s}var f=o.w,u=o.h,p=f-l>l?f-l:l,g=u-c>c?u-c:c,m=p>g?p:g,w=document.createElementNS("http://www.w3.org/2000/svg","g"),y=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),x=document.createElementNS("http://www.w3.org/2000/svg","rect"),v=document.createElementNS("http://www.w3.org/2000/svg","circle"),S=e.randomId();y.setAttribute("id",S);var _={ripple:e.t(o.templateName,o.min,this.getScale()).ripple,node:o};e.events.publish("ripple",[this,_]),x.setAttribute("x",_.ripple.rect?_.ripple.rect.x:0),x.setAttribute("y",_.ripple.rect?_.ripple.rect.y:0),x.setAttribute("width",_.ripple.rect?_.ripple.rect.width:o.w),x.setAttribute("height",_.ripple.rect?_.ripple.rect.height:o.h),x.setAttribute("rx",_.ripple.radius),x.setAttribute("ry",_.ripple.radius),v.setAttribute("clip-path","url(#"+S+")"),v.setAttribute("cx",l),v.setAttribute("cy",c),v.setAttribute("r",0),v.setAttribute("fill",_.ripple.color),v.setAttribute("class","bft-ripple"),y.appendChild(x),w.appendChild(y),w.appendChild(v),a.appendChild(w),e.animate(v,{r:0,opacity:1},{r:m,opacity:0},500,e.anim.outPow,function(){a.removeChild(w)})}}},e.prototype.center=function(t,r,i){var o,a,s=t,l=!0,c=!0;r&&r.parentState!=null&&(o=r.parentState),r&&r.childrenState!=null&&(a=r.childrenState),r&&r.rippleId!=null&&(s=r.rippleId),r&&r.vertical!=null&&(l=r.vertical),r&&r.horizontal!=null&&(c=r.horizontal);var d={parentState:o,childrenState:a,rippleId:s,vertical:l,horizontal:c};this._draw(!1,e.action.centerNode,{id:t,options:d},i)},e.prototype.fit=function(t){this.config.scaleInitial=e.match.boundary,this._draw(!0,e.action.init,{method:"fit"},t)},e.prototype.toggleFullScreen=function(){var t=document.querySelector("["+e.attr.tlbr+"r='fullScreen']");document.fullscreenElement==this.element||document.webkitFullscreenElement==this.element||document.mozFullScreenElement==this.element||document.msFullscreenElement==this.element?(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen(),t&&(t.innerHTML=e.toolbarUI.openFullScreenIcon)):(this.element.requestFullscreen?this.element.requestFullscreen():this.element.mozRequestFullScreen?this.element.mozRequestFullScreen():this.element.webkitRequestFullscreen?this.element.webkitRequestFullscreen():this.element.msRequestFullscreen&&this.element.msRequestFullscreen(),t&&(t.innerHTML=e.toolbarUI.closeFullScreenIcon))},e.prototype.getNode=function(t){return this.nodes[t]},e.prototype.setLayout=function(t,r){r||(r="base"),this._layoutConfigs[r].layout=t,r=="base"&&(this.config.layout=t),this._draw(!1,e.action.update)},e.prototype.setOrientation=function(t,r,i){var o=this;r||(r="base"),this._layoutConfigs[r].orientation=t,r=="base"&&(this.config.orientation=t),this._draw(!1,e.action.update,void 0,function(){e._moveToBoundaryArea(o.getSvg(),o.getViewBox(),o.response.boundary,function(){o._draw(!0,e.action.pan),i&&i()})})},e.prototype.search=function(t,r,i){return e.isNEU(r)&&(r=this.searchUI._searchFields),e.isNEU(i)&&(i=r),e._search.search(this.config.nodes,t,r,i,this.config.searchDisplayField,this.config.searchFieldsWeight,this.searchUI._searchFieldsAbbreviation)},e.prototype._hideBeforeAnimation=function(t){if(this._hideBeforeAnimationCompleted!=1&&!(t&&t<e.ANIM_THRESHOLD)){var r=this.element.getElementsByTagName("text");if(r.length>e.TEXT_THRESHOLD)for(var i=0;i<r.length;i++)r[i].style.display="none";var o=this.element.getElementsByTagName("image");if(o.length>e.IMAGES_THRESHOLD)for(i=0;i<o.length;i++)o[i].style.display="none";var a=this.element.querySelectorAll("["+e.attr.link_id+"]");if(a.length>e.LINKS_THRESHOLD)for(i=0;i<a.length;i++)a[i].style.display="none";var s=this.element.querySelectorAll("["+e.attr.control_expcoll_id+"]");if(s.length>e.BUTTONS_THRESHOLD)for(i=0;i<s.length;i++)s[i].style.display="none";var l=this.element.querySelectorAll("["+e.attr.control_up_id+"]");if(l.length>e.BUTTONS_THRESHOLD)for(i=0;i<l.length;i++)l[i].style.display="none";this._hideBeforeAnimationCompleted=!0}},e.prototype._showAfterAnimation=function(){for(var t=this.element.getElementsByTagName("text"),r=0;r<t.length;r++)t[r].style.display="";var i=this.element.getElementsByTagName("image");for(r=0;r<i.length;r++)i[r].style.display="";var o=this.element.querySelectorAll("["+e.attr.link_id+"]");for(r=0;r<o.length;r++)o[r].style.display="";var a=this.element.querySelectorAll("["+e.attr.control_expcoll_id+"]");for(r=0;r<a.length;r++)a[r].style.display="";var s=this.element.querySelectorAll("["+e.attr.control_up_id+"]");for(r=0;r<s.length;r++)s[r].style.display="";this._hideBeforeAnimationCompleted=!1},e.prototype.isChild=function(t,r){for(var i=this.getNode(r);i;){if(i.id==t)return!0;i=i.parent?i.parent:i.stParent}return!1},e.prototype.getCollapsedIds=function(t){for(var r=[],i=0;i<t.childrenIds.length;i++){var o=this.getNode(t.childrenIds[i]);o.collapsed==1&&r.push(o.id)}return r},e.prototype.stateToUrl=function(){if(this.manager.state){var t={};return t.exp=this.manager.state.exp.join("*"),t.min=this.manager.state.min.join("*"),t.adjustify=this.manager.state.adjustify.x+"*"+this.manager.state.adjustify.y,t.scale=this.manager.state.scale,t.y=this.manager.state.x,t.x=this.manager.state.y,new URLSearchParams(t).toString()}return""},e.prototype.generateId=function(){for(;;){var t="_"+("0000"+(Math.random()*Math.pow(36,4)|0).toString(36)).slice(-4);if(this.nodes==null||!this.nodes.hasOwnProperty(t))return t}},e.prototype.moveNodesToVisibleArea=function(t,r){for(var i=this,o=this.getSvg(),a=this.getViewBox(),s=null,l=null,c=null,d=null,f=0;f<t.length;f++){var u=this.nodes[t[f]];(s===null||s<u.x+u.w)&&(s=u.x+u.w),(l===null||l<u.y+u.h)&&(l=u.y+u.h),(c===null||c>u.x)&&(c=u.x),(d===null||d>u.y)&&(d=u.y)}var p=this.width(),g=this.height(),m=p/(S=s-c+2*this.config.padding),w=g/(_=l-d+2*this.config.padding),y=m>w?w:m,x=Math.ceil(p/y),v=Math.ceil(g/y),S=0,_=0;if(x-2*this.config.padding>=s-c)S=(s+c)/2-x/2;else switch(S=firstRoot.x-x/2+e.manager._getNodeWidth(firstRoot,this.config)/2,this.config.orientation){case e.orientation.right:case e.orientation.right_top:(S=-(x/2-(c-s)/2))<this.config.padding-x&&(S=this.config.padding-x);break;case e.orientation.left:case e.orientation.bottom_left:case e.orientation.top_left:case e.orientation.left_top:(S=-(x/2-(s-c)/2))>-this.config.padding&&(S=-this.config.padding)}if(v-2*this.config.padding>=l-d)_=(l+d)/2-v/2;else switch((_=-(v/2-(l-d)/2))>-this.config.padding&&(_=-this.config.padding),this.config.orientation){case e.orientation.bottom:case e.orientation.bottom_left:(_=-(v/2-(d-l)/2))<this.config.padding-v&&(_=this.config.padding-v);break;case e.orientation.left:case e.orientation.right:_=firstRoot.y-v/2+e.manager._getNodeWidth(firstRoot,this.config)/2}var b=[S,_,x,v];a[0]!==b[0]||a[1]!==b[1]?e.animate(o,{viewBox:a},{viewBox:b},this.config.anim.duration,this.config.anim.func,function(){i.draw(e.action.update,void 0,r)}):r&&r()},e.prototype._nodeHasHiddenParent=function(t){return!t.parent&&!e.isNEU(t.pid)&&this.getNode(t.pid)},e.prototype.destroy=function(){this._removeEvent(window,"resize"),e.events.removeForEventId(this._event_id),this.element.innerHTML=null},e.__defaultConfig=e._defaultConfig,e._defaultConfig=function(t){var r=e.__defaultConfig();return r.nodeTreeMenu=null,r.template="tommy",r.mode="light",r.minPartnerSeparation=30,r.partnerChildrenSplitSeparation=10,r.siblingSeparation=35,r.tags["children-group"]={template:"cgroup",subTreeConfig:{siblingSeparation:7,columns:1}},t&&t.template?(r.tags.male={template:t.template+"_male"},r.tags.female={template:t.template+"_female"}):(r.tags.male={template:r.template+"_male"},r.tags.female={template:r.template+"_female"}),r},e.prototype.load=function(t,r){var i=this;return this.config.nodes=t,this.config.roots=null,this._draw(!1,e.action.init,void 0,function(){i.filterUI.update(),r&&r()}),this},e.prototype.getRecentRootsByNodeId=function(t){this.recentRoots||(this.recentRoots=[]);var r=this.recentRoots,i=this.getNode(t);return i?(i.rids.sort(function(o,a){var s=r.indexOf(o),l=r.indexOf(a);return s==-1?1e3:l==-1?-1e3:s-l}),i.rids):[]},e.prototype._nodeHasHiddenParent=function(t){return!(t.parent||e.isNEU(t.pid)||!this.getNode(t.pid))||!(!t.isPartner||e.isNEU(t.mid)||!this.getNode(t.mid))||!(!t.isPartner||e.isNEU(t.fid)||!this.getNode(t.fid))||!!(t.isPartner&&t.pids.length>1)},e.prototype._center=e.prototype.center,e.prototype.center=function(t,r,i){var o=this.getRecentRootsByNodeId(t);Array.isArray(this.config.roots)||(roots=[]),e._changeRootOption(this.config.roots,o,this.manager.rootList),this._center(t,r,i)},e.localStorage={},e.localStorage.getItem=function(t){var r=localStorage.getItem("to_date");if(r){if((r=new Date(r))<new Date){for(var i=0,o=localStorage.length;i<o;++i){var a=localStorage.key(i);a&&a.startsWith&&a.startsWith('{"n"')&&localStorage.removeItem(a)}localStorage.removeItem("to_date")}}else(r=new Date).setDate(r.getDate()+5),r=r.toISOString(),localStorage.setItem("to_date",r);return localStorage.getItem(t)},e.localStorage.setItem=function(t,r){try{localStorage.setItem(t,r)}catch(i){i.code==i.QUOTA_EXCEEDED_ERR?(console.warn("Local storage quota exceeded"),localStorage.clear()):(console.error("Local storage error code:"+i.code),console.error(i))}},e.prototype.canUpdateLink=function(t,r){if(r==null||r==null||t==null||t==null||t==r)return!1;var i=this.getNode(r),o=this.getNode(t);return!(i&&o&&(i.isPartner||i.hasPartners&&o.isAssistant||i.hasAssistants&&o.isPartner))&&!this.isChild(t,r)},e.prototype._canUpdateLink=e.prototype.canUpdateLink,e.prototype.updateNode=function(t,r,i){var o=this,a=this.get(t.id);if(i===!0&&e.events.publish("update",[this,a,t])===!1)return!1;this.update(t),e.events.publish("updated",[this]),this.filterUI.update();var s=this.getNode(t.id),l=s.pid;l==null&&(l=s.stpid),this._draw(!1,e.action.update,{id:l},function(){o.ripple(t.id),r&&r()})},e.prototype.update=function(t){for(var r=0;r<this.config.nodes.length;r++)if(this.config.nodes[r].id==t.id){this._putInUndoStack(),this.clearRedo(),this.config.nodes[r]=t;break}return this},e.prototype.removeNode=function(t,r,i){var o=this;if(!this.canRemove(t))return!1;var a=this._getNewPidsAndStpidsForIds(t);return i===!0&&e.events.publish("remove",[this,t,a])===!1?!1:(this.remove(t),e.events.publish("updated",[this]),this.filterUI.update(),this._draw(!1,e.action.update,null,function(){o.config.sticky&&e._moveToBoundaryArea(o.getSvg(),o.getViewBox(),o.response.boundary),r&&r()}),!0)},e.prototype.remove=function(t){var r=this.get(t);if(r){this._putInUndoStack(),this.clearRedo();for(var i=this.config.nodes.length-1;i>=0;i--)this.config.nodes[i].pid!=t&&this.config.nodes[i].stpid!=t||(this.config.nodes[i].pid=r.pid,this.config.nodes[i].stpid=r.stpid),this.config.nodes[i].id==t&&this.config.nodes.splice(i,1)}return this},e.prototype._getNewPidsAndStpidsForIds=function(t){var r=this.get(t),i={},o={};if(r)for(var a=this.config.nodes.length-1;a>=0;a--)this.config.nodes[a].pid==t?i[this.config.nodes[a].id]=r.pid:this.config.nodes[a].stpid==t&&(o[this.config.nodes[a].id]=r.stpid);return{newPidsForIds:i,newStpidsForIds:o}},e.prototype.addNode=function(t,r,i){var o=this;if(i===!0&&e.events.publish("add",[this,t])===!1)return!1;this.add(t),e.events.publish("updated",[this]),this.filterUI.update(),o._draw(!1,e.action.insert,{id:t.pid,insertedNodeId:t.id},function(){o.ripple(t.id),r&&r()})},e.prototype.add=function(t){if(t.id==null&&console.error("Call addNode without id"),this._putInUndoStack(),this.clearRedo(),this.config.movable&&!e.isNEU(t.pid)){var r=this._get(t.pid);r&&(r.movex!=null&&(t.movex=r.movex),r.movey!=null&&(t.movey=r.movey))}return this.config.nodes.push(t),this},e.prototype.replaceIds=function(t,r){this._replaceIds(t),this._draw(!1,e.action.update,void 0,r)},e.prototype._replaceIds=function(t){for(var r=function(d){for(var f=0;f<d.length;f++){var u=d[f];for(var p in t){var g=t[p];u.from==p&&(u.from=g),u.to==p&&(u.to=g)}}},i=0;i<this.config.nodes.length;i++){var o=this.config.nodes[i];for(var a in t){var s=t[a];o.id==a&&(o.id=s),o.pid==a&&(o.pid=s),o.stpid==a&&(o.stpid=s),o.ppid==a&&(o.ppid=s)}}if(Array.isArray(this.config.roots))for(i=0;i<this.config.roots.length;i++)e.isNEU(t[this.config.roots[i]])||(this.config.roots[i]=t[this.config.roots[i]]);if(this.nodes)for(var l in this.nodes)e.isNEU(t[l])||(s=t[l],(c=this.nodes[l]).id=s,this.nodes[s]=c);if(this.manager.oldNodes)for(var l in this.manager.oldNodes)e.isNEU(t[l])||(s=t[l],(c=this.manager.oldNodes[l]).id=s,this.manager.oldNodes[s]=c);if(this.roots){for(var l in this.roots)if(!e.isNEU(t[l])){var c;s=t[l],(c=this.roots[l]).id=s,this.roots[s]=c}}r(this.config.clinks),r(this.config.slinks),r(this.config.groupDottedLines),r(this.config.dottedLines)},e.prototype._get=function(t){var r=this.__get(t);if(r)return r;if((this.config.groupDottedLines.length||this.config.dottedLines.length)&&!e.isNEU(t)&&typeof t=="string"&&(t.indexOf("balkan_group_dotted_")!=-1||t.indexOf("balkan_dotted_")!=-1)){var i=(t=(t=t.replace("balkan_group_dotted_","")).replace("balkan_dotted_","")).indexOf("_balkan_id_");if(t=t.substring(i+11),r=this.__get(t))return r}return null},e.prototype.__get=function(t){for(var r=0;r<this.config.nodes.length;r++)if(this.config.nodes[r].id==t)return this.config.nodes[r];return null},e.prototype.get=function(t){var r=this._get(t);return r==null?null:JSON.parse(JSON.stringify(r))},e.prototype.canRemove=function(t){var r=this.getNode(t);return!!r&&!r.hasPartners&&!r.hasAssistants},e.prototype.addChildNode=function(t,r,i){this.hideTreeMenu(!1);var o=this;if(!t||e.isNEU(t.mid)&&e.isNEU(t.fid))console.error("addSonNode invalid data");else{e.isNEU(t.id)&&(t.id=this.generateId());var a={addNodesData:[t],updateNodesData:[],removeNodeId:null};if(i===!0&&e.events.publish("update",[this,a])===!1)return!1;o._fireUpdate_addUpdateRemove(a,i);var s="";e.isNEU(a.addNodesData[0].pid)?e.isNEU(a.addNodesData[0].mid)?e.isNEU(a.addNodesData[0].fid)||(s=a.addNodesData[0].fid):s=a.addNodesData[0].mid:s=a.addNodesData[0].pid,o._draw(!1,e.action.insert,{id:s,insertedNodeId:a.addNodesData[0].id},function(){o.ripple(a.addNodesData[0].id),r&&r(),i===!0&&e.events.publish("updated",[o,a]),o.filterUI.update()})}},e.prototype.addChildAndPartnerNodes=function(t,r,i,o,a){this.hideTreeMenu(!1);var s=this;if(!r||e.isNEU(r.mid)&&e.isNEU(r.fid))console.error("addChildAndPartnerNodes invalid childData");else if(i){e.isNEU(r.id)&&(r.id=this.generateId()),e.isNEU(i.id)&&(i.id=this.generateId()),r.mid=="_ft_partner"?r.mid=i.id:r.fid=="_ft_partner"&&(r.fid=i.id);var l=[],c=null;Array.isArray(i.pids)&&(i.pids.length!=1&&console.error("addChildAndPartnerNodes partnerData.pids has to have one partner"),c=this.get(i.pids[0]),Array.isArray(c.pids)||(c.pids=[]),c.pids.push(i.id),l.push(c));var d={addNodesData:[r,i],updateNodesData:l,removeNodeId:null};if(a===!0&&e.events.publish("update",[this,d])===!1)return!1;s._fireUpdate_addUpdateRemove(d,a);var f=s.getRecentRootsByNodeId(t);e._changeRootOption(s.config.roots,f,s.manager.rootList);var u="";c?u=c.id:e.isNEU(r.pid)?e.isNEU(r.mid)?e.isNEU(r.fid)||(u=r.fid):u=r.mid:u=r.pid,s._draw(!1,e.action.update,{id:u},function(){s.ripple(r.id),s.ripple(i.id),o&&o(),a===!0&&e.events.publish("updated",[s,d]),s.filterUI.update()}),a===!0&&e.events.publish("updating",[s,d])}else console.error("addChildAndPartnerNodes invalid data")},e.prototype.addPartnerAndParentNodes=function(t,r,i,o,a){this.hideTreeMenu(!1);var s=this;if(!e.isNEU(r)&&r.length)if(i){e.isNEU(i.id)&&(i.id=this.generateId());for(var l=[],c=0;c<r.length;c++){var d=this.get(r[c]);if(!e.isNEU(d.mid)&&!e.isNEU(d.fid))return void console.error("father id (fid) or mather id (mid) has to be null or undefined");e.isNEU(d.mid)?d.mid=i.id:e.isNEU(d.mid)||(d.fid=i.id),l.push(d)}var f=null;Array.isArray(i.pids)&&(i.pids.length!=1&&console.error("addChildAndPartnerNodes partnerData.pids has to have one partner"),f=this.get(i.pids[0]),Array.isArray(f.pids)||(f.pids=[]),f.pids.push(i.id),l.push(f));var u={addNodesData:[i],updateNodesData:l,removeNodeId:null};if(a===!0&&e.events.publish("update",[this,u])===!1)return!1;s._fireUpdate_addUpdateRemove(u,a);var p=s.getRecentRootsByNodeId(t);e._changeRootOption(s.config.roots,p,s.manager.rootList);var g="";f&&(g=f.id),s._draw(!1,e.action.update,{id:g},function(){s.ripple(i.id),o&&o(),a===!0&&e.events.publish("updated",[s,u]),s.filterUI.update()}),a===!0&&e.events.publish("updating",[s,u])}else console.error("addPartnerAndParentNodes invalid data");else console.error("addPartnerAndParentNodes invalid data")},e.prototype.addPartnerNode=function(t,r,i){this.hideTreeMenu(!1);var o=this;if(t&&Array.isArray(t.pids)&&t.pids.length==1){e.isNEU(t.id)&&(t.id=this.generateId());var a=this.get(t.pids[0]);Array.isArray(a.pids)||(a.pids=[]),a.pids.push(t.id);var s={removeNodeId:null,updateNodesData:[a],addNodesData:[t]};if(i===!0&&e.events.publish("update",[this,s])===!1)return!1;o._fireUpdate_addUpdateRemove(s,i);var l=o.getRecentRootsByNodeId(s.updateNodesData[0].id);e._changeRootOption(o.config.roots,l,o.manager.rootList);var c=s.updateNodesData[0].id;o._draw(!1,e.action.insert,{id:c,insertedNodeId:s.addNodesData[0].id},function(){o.ripple(s.addNodesData[0].id),r&&r(),i===!0&&e.events.publish("updated",[o,s]),o.filterUI.update()}),i===!0&&e.events.publish("updating",[o,s])}else console.error("addPartnerNode invalid data")},e.prototype.addParentNode=function(t,r,i,o,a){this.hideTreeMenu(!1);var s=this;if(i)if(["mid","fid"].has(r))if(e.isNEU(t))console.error("addParentNode invalid childId");else{e.isNEU(i.id)&&(i.id=this.generateId());var l=[],c=this.get(t);c[r]=i.id,l.push(c);var d=null;Array.isArray(i.pids)&&(i.pids.length!=1&&console.error("addParentNode: data has to have one partner"),d=this.get(i.pids[0]),Array.isArray(d.pids)||(d.pids=[]),d.pids.push(i.id),l.push(d));var f={removeNodeId:null,updateNodesData:l,addNodesData:[i]};if(a===!0&&e.events.publish("update",[this,f])===!1)return!1;s._fireUpdate_addUpdateRemove(f,a);var u=t;s.config.roots=[f.addNodesData[0].id],s._draw(!1,e.action.insert,{id:u,insertedNodeId:f.addNodesData[0].id},function(){s.ripple(f.addNodesData[0].id),o&&o(),a===!0&&e.events.publish("updated",[s,f]),s.filterUI.update()}),a===!0&&e.events.publish("updating",[s,f])}else console.error("addParentNode invalid type");else console.error("addParentNode invalid data")},e.prototype.canRemove=function(t){var r=this.getNode(t);if(!r)return!1;var i=this.getNode(r.mid),o=this.getNode(r.fid),a=r.ftChildrenIds.length>0,s=!1,l=r.pids.length>0,c=r.pids.length>1;if(r.pids.length==1){var d=this.getNode(r.pids[0]);s=r.ftChildrenIds.compare(d.ftChildrenIds)}return!(!i&&!o||a||l)||!(i||o||a||c||!l||s)||!(i||o||!a||!s)||!(i||o||!a||s)||!(i||o||a||!s)},e.prototype.removeNode=function(t,r,i){var o=this;if(this.canRemove(t)){var a=this.getNode(t),s=[];if(Array.isArray(a.pids))for(var l=0;l<a.pids.length;l++){var c=this.get(a.pids[l]);c&&(f=c.pids.indexOf(a.id))!=-1&&(c.pids.splice(f,1),s.push(c))}if(Array.isArray(a.ftChildrenIds))for(l=0;l<a.ftChildrenIds.length;l++){var d=this.get(a.ftChildrenIds[l]);d&&(d.mid==a.id?(d.mid=void 0,s.push(d)):d.fid==a.id&&(d.fid=void 0,s.push(d)))}var f,u={removeNodeId:t,updateNodesData:s,addNodesData:[]};if(i===!0&&e.events.publish("update",[this,u])===!1)return!1;o._fireUpdate_addUpdateRemove(u,i),(f=o.config.roots.indexOf(t))!=-1&&o.config.roots.splice(f,1),o._draw(!1,e.action.update,null,function(){o.config.sticky&&e._moveToBoundaryArea(o.getSvg(),o.getViewBox(),o.response.boundary),r&&r(),i===!0&&e.events.publish("updated",[o,u]),o.filterUI.update()}),i===!0&&e.events.publish("updating",[o,u])}},e.prototype.updateNode=function(t,r,i){var o=this,a=this.getNode(t.id);t.pids||(t.pids=[]);var s=[];s.push(t);for(var l=0;l<a.pids.length;l++)if(!t.pids.has(a.pids[l])&&(d=this._get(a.pids[l]))&&d.pids){var c=d.pids.indexOf(t.id);c!=-1&&(d.pids.splice(c,1),s.push(t)),a.pids.splice(l,1),s.push(d)}for(l=0;l<t.pids.length;l++){var d;(!a.pids||!a.pids.has(t.pids[l]))&&((d=this._get(t.pids[l])).pids||(d.pids=[]),d.pids.push(t.pids[l]),s.push(d))}var f={removeNodeId:null,updateNodesData:s,addNodesData:[]};if(i===!0&&e.events.publish("update",[this,f])===!1)return!1;o._fireUpdate_addUpdateRemove(f,i),o._draw(!1,e.action.update,null,function(){o.config.sticky&&e._moveToBoundaryArea(o.getSvg(),o.getViewBox(),o.response.boundary),r&&r(),i===!0&&e.events.publish("updated",[o,f]),o.filterUI.update()})},e.prototype._fireUpdate_addUpdateRemove=function(t,r){for(var i=0;i<t.addNodesData.length;i++)this.add(t.addNodesData[i]);for(i=0;i<t.updateNodesData.length;i++)this.update(t.updateNodesData[i]);e.isNEU(t.removeNodeId)||this.remove(t.removeNodeId),r===!0&&e.events.publish("updating",[this,t])},e.prototype.__replaceIds=e.prototype._replaceIds,e.prototype._replaceIds=function(t){this.__replaceIds(t);for(var r=0;r<this.config.nodes.length;r++){var i=this.config.nodes[r];for(var o in t){var a=t[o];if(i.fid==o&&(i.fid=a),i.mid==o&&(i.mid=a),Array.isArray(i.pids))for(var s=0;s<i.pids.length;s++)i.pids[s]==o&&(i.pids[s]=a)}}},e===void 0&&(e={}),e._ajax=function(t,r,i,o,a){o==null&&(o="arraybuffer");var s=new XMLHttpRequest;s.onload=function(l){s.readyState==4&&this.status===200&&(l.target==null?a(this.response):a(l.target.response))},s.onerror=function(l){a({error:l})},s.open(r,t),s.responseType=o,s.setRequestHeader("Content-Type","application/json"),i==null?s.send():s.send(i)},e===void 0&&(e={}),e.animate=function(t,r,i,o,a,s,l){var c,d=10,f=1,u=o/d+1;return document.getElementsByTagName("g"),Array.isArray(t)||(t=[t]),Array.isArray(r)||(r=[r]),Array.isArray(i)||(i=[i]),c=setInterval(function(){for(var p=0;p<t.length;p++)for(var g in i[p]){var m=e._arrayContains(["top","left","right","bottom","width","height"],g.toLowerCase())?"px":"";switch(g.toLowerCase()){case"d":var w=a((f*d-d)/o)*(i[p][g][0]-r[p][g][0])+r[p][g][0],y=a((f*d-d)/o)*(i[p][g][1]-r[p][g][1])+r[p][g][1];t[p].setAttribute("d",t[p].getAttribute("d")+" L"+w+" "+y);break;case"r":var x=a((f*d-d)/o)*(i[p][g]-r[p][g])+r[p][g];t[p].setAttribute("r",x);break;case"x1":x=a((f*d-d)/o)*(i[p][g]-r[p][g])+r[p][g],t[p].setAttribute("x1",x);break;case"x2":x=a((f*d-d)/o)*(i[p][g]-r[p][g])+r[p][g],t[p].setAttribute("x2",x);break;case"y1":x=a((f*d-d)/o)*(i[p][g]-r[p][g])+r[p][g],t[p].setAttribute("y1",x);break;case"y2":x=a((f*d-d)/o)*(i[p][g]-r[p][g])+r[p][g],t[p].setAttribute("y2",x);break;case"rotate3d":if(i[p][g]){var v=r[p][g],S=i[p][g],_=[0,0,0,0];for(var b in v)_[b]=a((f*d-d)/o)*(S[b]-v[b])+v[b];t[p].style.transform="rotate3d("+_.toString()+"deg)"}break;case"transform":if(i[p][g]){v=r[p][g],S=i[p][g],_=[0,0,0,0,0,0];for(var b in v)_[b]=a((f*d-d)/o)*(S[b]-v[b])+v[b];t[p].hasAttribute("transform")?t[p].setAttribute("transform","matrix("+_.toString()+")"):t[p].style.transform="matrix("+_.toString()+")"}break;case"viewbox":if(i[p][g]){v=r[p][g],S=i[p][g],_=[0,0,0,0];for(var b in v)_[b]=a((f*d-d)/o)*(S[b]-v[b])+v[b];t[p].setAttribute("viewBox",_.toString())}break;case"margin":if(i[p][g]){v=r[p][g],S=i[p][g],_=[0,0,0,0];for(var b in v)_[b]=a((f*d-d)/o)*(S[b]-v[b])+v[b];var C="";for(b=0;b<_.length;b++)C+=parseInt(_[b])+"px ";t[p]&&t[p].style&&(t[p].style[g]=C)}break;case"scrolly":x=a((f*d-d)/o)*(i[p][g]-r[p][g])+r[p][g],t[p].scrollTo(0,x);break;default:x=a((f*d-d)/o)*(i[p][g]-r[p][g])+r[p][g],t[p]&&t[p].style&&(t[p].style[g]=x+m)}}l&&l(),(f+=1)>u+1&&(clearInterval(c),s&&s(t))},d)},e.anim={},e.anim.inPow=function(t){return t<0?0:t>1?1:Math.pow(t,2)},e.anim.outPow=function(t){return t<0?0:t>1?1:-1*(Math.pow(t-1,2)+-1)},e.anim.inOutPow=function(t){return t<0?0:t>1?1:(t*=2)<1?e.anim.inPow(t,2)/2:-.5*(Math.pow(t-2,2)+-2)},e.anim.inSin=function(t){return t<0?0:t>1?1:1-Math.cos(t*(Math.PI/2))},e.anim.outSin=function(t){return t<0?0:t>1?1:Math.sin(t*(Math.PI/2))},e.anim.inOutSin=function(t){return t<0?0:t>1?1:-.5*(Math.cos(Math.PI*t)-1)},e.anim.inExp=function(t){return t<0?0:t>1?1:Math.pow(2,10*(t-1))},e.anim.outExp=function(t){return t<0?0:t>1?1:1-Math.pow(2,-10*t)},e.anim.inOutExp=function(t){return t<0?0:t>1?1:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,10*(-2*t+1)))},e.anim.inCirc=function(t){return t<0?0:t>1?1:-(Math.sqrt(1-t*t)-1)},e.anim.outCirc=function(t){return t<0?0:t>1?1:Math.sqrt(1-(t-1)*(t-1))},e.anim.inOutCirc=function(t){return t<0?0:t>1?1:t<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(2*t-2)*(2*t-2))+1)},e.anim.rebound=function(t){return t<0?0:t>1?1:t<1/2.75?1-7.5625*t*t:t<2/2.75?1-(7.5625*(t-1.5/2.75)*(t-1.5/2.75)+.75):t<2.5/2.75?1-(7.5625*(t-2.25/2.75)*(t-2.25/2.75)+.9375):1-(7.5625*(t-2.625/2.75)*(t-2.625/2.75)+.984375)},e.anim.inBack=function(t){return t<0?0:t>1?1:t*t*(2.70158*t-1.70158)},e.anim.outBack=function(t){return t<0?0:t>1?1:(t-1)*(t-1)*(2.70158*(t-1)+1.70158)+1},e.anim.inOutBack=function(t){return t<0?0:t>1?1:t<.5?4*t*t*(7.1898*t-2.5949)*.5:.5*((2*t-2)*(2*t-2)*(3.5949*(2*t-2)+2.5949)+2)},e.anim.impulse=function(t){var r=2*t;return r*Math.exp(1-r)},e.anim.expPulse=function(t){return Math.exp(-2*Math.pow(t,2))},e===void 0&&(e={}),e.prototype._attachInitEventHandlers=function(t){this._addEvent(window,"resize",this._resizeHandler)},e.prototype._attachEventHandlers=function(t){if(this.config.interactive){t=this.getSvg(),this.config.enableTouch||e.isMobile()?(this._addEvent(t,"touchstart",this._globalMouseDownHandler),this._addEvent(t,"touchend",this._globalClickHandler)):(this._addEvent(t,"mousedown",this._globalMouseDownHandler),this._addEvent(t,"click",this._globalClickHandler),this._addEvent(t,"contextmenu",this._globalContextHandler),this._addEvent(t,"dblclick",this._globalDbClickHandler),this.config.mouseScrool!=e.action.none&&this._addEvent(t,"wheel",this._mouseScrollHandler));var r=this.getMenuButton();r&&this._addEvent(r,"click",this._menuClickHandler)}},e.prototype._addEvent=function(t,r,i,o){var a,s;o||(o=""),t.getListenerList||(t.getListenerList={}),t.getListenerList[r+o]||(a=this,s=i,i=function(){if(s)return s.apply(a,[this,arguments[0]])},t.addEventListener?r=="mousewheel"?t.addEventListener(r,l,{passive:!1}):t.addEventListener(r,l,!1):t.attachEvent("on"+r,function(){var c=i.call(t,window.event);return c===!1&&(window.event.returnValue=!1,window.event.cancelBubble=!0),c}),t.getListenerList[r+o]=l);function l(c){var d=i.apply(this,arguments);return d===!1&&(c.stopPropagation(),c.preventDefault()),d}},e.prototype._removeEvent=function(t,r){if(t.getListenerList[r]){var i=t.getListenerList[r];t.removeEventListener(r,i,!1),delete t.getListenerList[r]}},e===void 0&&(e={}),e.VERSION="8.14.55",e.orientation={},e.orientation.top=0,e.orientation.bottom=1,e.orientation.right=2,e.orientation.left=3,e.orientation.top_left=4,e.orientation.bottom_left=5,e.orientation.right_top=6,e.orientation.left_top=7,e.align={},e.align.center=e.CENTER=8,e.align.orientation=e.ORIENTATION=9,e.attr={},e.attr.l="data-l",e.attr.id="data-id",e.attr.sl="data-sl",e.attr.lbl="data-lbl",e.attr.val="data-val",e.attr.tlbr="data-tlbr",e.attr.item="data-item",e.attr.layout="data-layout",e.attr.node_id="data-n-id",e.attr.link_id="data-l-id",e.attr.field_name="data-f-name",e.attr.c_link_to="data-c-l-to",e.attr.c_link_from="data-c-l-from",e.attr.s_link_to="data-s-l-to",e.attr.s_link_from="data-s-l-from",e.attr.control_add="data-ctrl-add",e.attr.control_expcoll_id="data-ctrl-ec-id",e.attr.control_up_id="data-ctrl-up-id",e.attr.control_export_menu="data-ctrl-menu",e.attr.control_node_menu_id="data-ctrl-n-menu-id",e.attr.control_node_circle_menu_id="data-ctrl-n-c-menu-id",e.attr.control_node_circle_menu_name="data-ctrl-n-c-menu-name",e.attr.control_node_circle_menu_wrraper_id="data-ctrl-n-c-menu-wrapper-id",e.attr.width="data-width",e.attr.text_overflow="data-text-overflow",e.ID="id",e.PID="pid",e.STPID="stpid",e.TAGS="tags",e.NODES="nodes",e.ELASTIC="elastic",e.ASSISTANT="Assistant",e.action={},e.action.expand=0,e.action.collapse=1,e.action.maximize=101,e.action.minimize=102,e.action.expandCollapse=501,e.action.edit=1,e.action.zoom=2,e.action.ctrlZoom=22,e.action.scroll=41,e.action.xScroll=3,e.action.yScroll=4,e.action.none=5,e.action.init=6,e.action.update=7,e.action.move=70,e.action.pan=8,e.action.centerNode=9,e.action.resize=10,e.action.insert=11,e.action.insertfirst=12,e.action.details=13,e.action.exporting=14,e.none=400001,e.scroll={},e.scroll.visible=!0,e.scroll.smooth=12,e.scroll.speed=120,e.scroll.safari={smooth:12,speed:250},e.match={},e.match.height=100001,e.match.width=100002,e.match.boundary=100003,e.movable={},e.movable.node="node",e.movable.tree="tree",e.movable.detachTree="detachTree",e.layout={},e.layout.normal=e.normal=0,e.layout.mixed=e.mixed=1,e.layout.tree=e.tree=2,e.layout.treeLeftOffset=e.treeLeftOffset=3,e.layout.treeRightOffset=e.treeRightOffset=4,e.layout.treeLeft=5,e.layout.treeRight=6,e.layout.grid=-1,e.nodeOpenTag="<g "+e.attr.node_id+'="{id}" style="opacity: {opacity}" transform="matrix(1,0,0,1,{x},{y})" class="{class}" '+e.attr.sl+'="{sl}" '+e.attr.l+"={level} {lcn}>",e.linkOpenTag="<g "+e.attr.link_id+'="[{id}][{child-id}]" class="{class}">',e.expcollOpenTag="<g "+e.attr.control_expcoll_id+'="{id}" transform="matrix(1,0,0,1,{x},{y})"  style="cursor:pointer;">',e.upOpenTag="<g "+e.attr.control_up_id+'="{id}" transform="matrix(1,0,0,1,{x},{y})" style="cursor:pointer;">',e.linkFieldsOpenTag='<g transform="matrix(1,0,0,1,{x},{y}) rotate({rotate})">',e.grCloseTag="</g>",e.A5w=420,e.A5h=595,e.A4w=595,e.A4h=842,e.A3w=842,e.A3h=1191,e.A2w=1191,e.A2h=1684,e.A1w=1684,e.A1h=2384,e.Letterw=612,e.Letterh=791,e.Legalw=612,e.Legalh=1009,e.COLLAPSE_PARENT_NEIGHBORS=1,e.COLLAPSE_SUB_CHILDRENS=2,e.COLLAPSE_PARENT_SUB_CHILDREN_EXCEPT_CLICKED=3,e.TEXT_THRESHOLD=400,e.IMAGES_THRESHOLD=100,e.LINKS_THRESHOLD=200,e.BUTTONS_THRESHOLD=70,e.ANIM_THRESHOLD=50,e.IT_IS_LONELY_HERE='<g transform="translate(-100, 0)" style="cursor:pointer;"  '+e.attr.control_add+'="control-add"><text fill="#039be5">{link}</text></g>',e.RES={},e.IT_IS_LONELY_HERE_LINK=e.RES.IT_IS_LONELY_HERE_LINK="It's lonely here, add your first node",e.FIRE_DRAG_NOT_CLICK_IF_MOVE=3,e.STRING_TAGS=!1,e.MAX_NODES_MESS="The trial has expired or 200 nodes limit was reached! <br /><a style='color: #039BE5;' target='_blank' href='https://balkan.app/FamilyTreeJS/Docs/Evaluation'>See more</a>",e.OFFLINE_MESS="The evaluation version requires internet connection! <br /><a style='color: #039BE5;' target='_blank' href='https://balkan.app/FamilyTreeJS/Docs/Evaluation'>See more</a>",e.SEARCH_PLACEHOLDER="Search... type ? to get help.",e.SEARCH_HELP_SYMBOL="?",e.SEARCH_CLOSE_RESULT_ON_ESCAPE_OR_CLICKOUTSIDE=!1,e.SEARCH_RESULT_LIMIT=10,e.IMPORT_MESSAGE="Choose the columns (fields) in your data file that contain the required information.",e.FIXED_POSITION_ON_CLICK=!1,e.RENDER_LINKS_BEFORE_NODES=!1,e.RENDER_CLINKS_BEFORE_NODES=!1,e.MIXED_LAYOUT_ALL_NODES=!0,e.MIXED_LAYOUT_FOR_NODES_WITH_COLLAPSED_CHILDREN=!1,e.MIXED_LAYOUT_IF_NUMBER_OF_CHILDREN_IS_MORE_THEN=1,e.LINK_ROUNDED_CORNERS=5,e.MOVE_STEP=5,e.CLINK_CURVE=1,e.MAX_DEPTH=200,e.SCALE_FACTOR=1.44,e.LAZY_LOADING_FACTOR=500,e.HIDE_EDIT_FORM_ON_PAN=!0,e.LAZY_LOADING=!0,e.ARRAY_FIELDS=["tags"],e.CSV_DELIMITER=",",e.EDITFORM_CLOSE_BTN='<svg data-edit-from-close class="bft-edit-form-close"><path style="fill:#ffffff;" d="M21.205,5.007c-0.429-0.444-1.143-0.444-1.587,0c-0.429,0.429-0.429,1.143,0,1.571l8.047,8.047H1.111 C0.492,14.626,0,15.118,0,15.737c0,0.619,0.492,1.127,1.111,1.127h26.554l-8.047,8.032c-0.429,0.444-0.429,1.159,0,1.587 c0.444,0.444,1.159,0.444,1.587,0l9.952-9.952c0.444-0.429,0.444-1.143,0-1.571L21.205,5.007z"></path></svg>',e.ESCAPE_HTML=!1,e.VERTICAL_CHILDREN_ASSISTANT=!1,e.EXPORT_PAGES_CUT_NODES=!1,e.RESET_MOVABLE_ONEXPANDCOLLAPSE=!1,e.FILTER_ALPHABETICALLY=!0,e.SERVER_PREFIX=".azurewebsites.net/api/OrgChartJS",e.FUNC_URL_NAME="func-url-orgfamilyjs",e.MINIMUM_SYMBOLS_IN_SEARCH_INPUT=1,n.exports=e,e.SERVER_PREFIX=".azurewebsites.net/api/FamilyTreeJS",e.FUNC_URL_NAME="func-url-familytreejs",e.OC_VERSION=e.VERSION,e.VERSION="1.09.44",e.RENDER_LINKS_BEFORE_NODES=!0,e.ARRAY_FIELDS=["tags","pids"],e._intersects=function(t,r,i){var o=t.x-i.siblingSeparation/4,a=t.y,s=t.x+t.w+i.siblingSeparation/4,l=t.y;switch(i.orientation){case e.orientation.right:case e.orientation.right_top:case e.orientation.left:case e.orientation.left_top:o=t.x,a=t.y-i.siblingSeparation/4,s=t.x,l=t.y+t.h+i.siblingSeparation/4}var c,d,f,u=r.p,p=r.q,g=r.r,m=r.s;return(c=(s-o)*(m-p)-(g-u)*(l-a))!==0&&(d=((a-l)*(g-o)+(s-o)*(m-a))/c,0<(f=((m-p)*(g-o)+(u-g)*(m-a))/c)&&f<1&&0<d&&d<1)},e._addPoint=function(t,r,i,o,a){switch(i.orientation){case e.orientation.top:case e.orientation.top_left:return e._addPointTop(t,r,i,o,a);case e.orientation.bottom:case e.orientation.bottom_left:return e._addPointBottom(t,r,i,o,a);case e.orientation.left:case e.orientation.left_top:return e._addPointLeft(t,r,i,o,a);case e.orientation.right:case e.orientation.right_top:return e._addPointRight(t,r,i,o,a)}},e._addPointTop=function(t,r,i,o,a){var s,l,c;return a=="left"?s=t.leftNeighbor?t.x+(t.leftNeighbor.x+t.leftNeighbor.w-t.x)/2:t.x-i.siblingSeparation/2:a=="right"&&(s=t.rightNeighbor?t.x+t.w+(t.rightNeighbor.x-(t.x+t.w))/2:t.x+t.w+i.siblingSeparation/2),r.push([s,r[r.length-1][1]]),r.push([s,t.y-i.levelSeparation/3]),l=r[r.length-1][1],c=s,o.p=s,o.q=l,o.r=c,o},e._addPointBottom=function(t,r,i,o,a){var s,l,c;return a=="left"?s=t.leftNeighbor?t.x+(t.leftNeighbor.x+t.leftNeighbor.w-t.x)/2:t.x-i.siblingSeparation/2:a=="right"&&(s=t.rightNeighbor?t.x+t.w+(t.rightNeighbor.x-(t.x+t.w))/2:t.x+t.w+i.siblingSeparation/2),r.push([s,r[r.length-1][1]]),r.push([s,t.y+t.h+i.levelSeparation/3]),l=r[r.length-1][1],c=s,o.p=s,o.q=l,o.r=c,o},e._addPointLeft=function(t,r,i,o,a){var s,l=r[r.length-1][0];a=="bottom"?s=t.rightNeighbor?t.y+t.h+(t.rightNeighbor.y-(t.y+t.h))/2:t.y+t.h+i.siblingSeparation/2:a=="top"&&(s=t.leftNeighbor?t.y+(t.leftNeighbor.y+t.leftNeighbor.h-t.y)/2:t.y-i.siblingSeparation/2),r.push([r[r.length-1][0],s]),r.push([t.x-i.levelSeparation/3,s]),l=r[r.length-1][0];var c=s;return o.p=l,o.q=s,o.s=c,o},e._addPointRight=function(t,r,i,o,a){var s,l=r[r.length-1][0];a=="bottom"?s=t.rightNeighbor?t.y+t.h+(t.rightNeighbor.y-(t.y+t.h))/2:t.y+t.h+i.siblingSeparation/2:a=="top"&&(s=t.leftNeighbor?t.y+(t.leftNeighbor.y+t.leftNeighbor.h-t.y)/2:t.y-i.siblingSeparation/2),r.push([r[r.length-1][0],s]),r.push([t.x+t.w+i.levelSeparation/3,s]),l=r[r.length-1][0];var c=s;return o.p=l,o.q=s,o.s=c,o},e.editUI=function(){},e.editUI.prototype.init=function(t){this.obj=t,this.fields=null,this._event_id=e._guid()},e.editUI.prototype.on=function(t,r){return e.events.on(t,r,this._event_id),this},e.editUI.prototype.show=function(t,r,i){if(this.hide(),e.events.publish("show",[this,t])===!1)return!1;var o=this,a=this.content(t,r,i);this.obj.element.appendChild(a.element),e.input.init(this.obj.element),i?r||this._focusElement(a.focusId):this.interval=e.animate(a.element,{right:-20,opacity:0},{right:0,opacity:1},300,e.anim.outSin,function(){r||o._focusElement(a.focusId)}),this.obj.element.querySelector("[data-edit-from-close]").addEventListener("click",function(c){c.preventDefault(),e.events.publish("cancel",[o,{id:t}])!==!1&&o.hide()}),this.obj.element.querySelector("[data-edit-from-cancel]").addEventListener("click",function(c){c.preventDefault(),e.events.publish("cancel",[o,{id:t}])!==!1&&o.hide()}),this.obj.element.querySelector("[data-edit-from-save]").addEventListener("click",function(c){c.preventDefault();var d=e.input.validateAndGetData(a.element);if(d!==!1){var f=o.obj.get(t),u={data:e.mergeDeep(f,d)};if(e.events.publish("save",[o,u])===!1)return;o.obj.updateNode(u.data,null,!0),o.hide()}});for(var s=this.obj.element.querySelectorAll("[data-input-btn]"),l=0;l<s.length;l++)s[l].addEventListener("click",function(c){c.preventDefault(),e.events.publish("element-btn-click",[o,{input:this.parentNode.querySelector("input"),nodeId:t,event:c}])});this.obj.element.querySelector("[data-add-more-fields-btn]").addEventListener("click",function(c){c.stopPropagation(),c.preventDefault();var d=this,f=e.elements.textbox({},{type:"textbox",label:o.obj.config.editForm.addMoreFieldName,btn:o.obj.config.editForm.addMoreBtn},"280px");d.parentNode.insertAdjacentHTML("beforebegin",f.html),d.style.display="none",e.input.init(d.parentNode.previousSibling);var u=document.getElementById(f.id);u.focus(),u.nextElementSibling.addEventListener("click",function(p){p.stopPropagation(),p.preventDefault();var g=u.value,m=o.obj.element.querySelector('[data-binding="'+e._escapeDoubleQuotes(u.value)+'"]');if(e.isNEU(g)||m)u.focus();else{var w=e.elements.textbox({},{type:"textbox",label:g,binding:g},"280px");u.parentNode.parentNode.parentNode.removeChild(u.parentNode.parentNode),d.parentNode.insertAdjacentHTML("beforebegin",w.html),d.style.display="",e.input.init(d.parentNode.previousSibling),document.getElementById(w.id).focus()}})}),this.obj.element.querySelector("[data-bft-edit-from-btns]").addEventListener("click",function(c){for(var d=c.target;d&&d.hasAttribute&&!d.hasAttribute("data-edit-from-btn");)d=d.parentNode;if(d&&d.hasAttribute){var f=d.getAttribute("data-edit-from-btn"),u={button:o.obj.config.editForm.buttons[f],name:f,nodeId:t,event:c};if(e.events.publish("button-click",[o,u])===!1)return!1;switch(f){case"edit":o.obj.editUI.show(t,!1,!0);break;case"pdf":o.obj.exportPDFProfile({id:t,filename:a.title}),o.hide();break;case"png":o.obj.exportPNGProfile({id:t,filename:a.title}),o.hide();break;case"share":o.obj.shareProfile(t);break;case"remove":o.obj.removeNode(t,null,!0),o.hide()}}})},e.editUI.prototype._focusElement=function(t){var r=null;e.isNEU(this.obj.config.editForm.focusBinding)?e.isNEU(t)||(r=document.getElementById(t)):r=this.obj.element.querySelector('[data-binding="'+this.obj.config.editForm.focusBinding+'"]'),r&&(r.value&&r.value.length&&r.setSelectionRange(r.value.length,r.value.length),r.focus())},e.editUI.prototype.setAvatar=function(t){var r=this.obj.element.querySelector("#bft-avatar");e.isNEU(t)?r.innerHTML=e.icon.user(150,150,"#8C8C8C",0,0):r.innerHTML='<img style="width: 100%;height:100%;object-fit:cover;border-radius: 50%;" src="'.concat(t,'"></img>')},e.editUI.prototype.content=function(t,r,i,o,a){var s,l=this.obj.config.editForm.readOnly,c=JSON.parse(JSON.stringify(this.obj.config.editForm.elements)),d=this.obj.config.editForm.addMore,f=this.obj.config.editForm.saveAndCloseBtn,u=this.obj.config.editForm.cancelBtn,p=this.obj.config.editForm.buttons,g=this.obj.config.editForm.titleBinding,m=this.obj.config.editForm.photoBinding,w=this.obj.getNode(t),y=this.obj._get(t),x=e.t(w.templateName,w.min,this.obj.getScale()),v=y[g],S=y[m];if(this.obj.config.editForm.generateElementsFromFields)for(var _=0;_<this.fields.length;_++){var b=this.fields[_];if(b!="tags"){for(var C=!1,N=0;N<c.length;N++){if(Array.isArray(c[N])){for(var I=0;I<c[N].length;I++)if(b==c[N][I].binding){C=!0;break}}else if(b==c[N].binding){C=!0;break}if(C)break}C||c.push({type:"textbox",label:b,binding:b})}}e.isNEU(v)&&(v=""),S=e.isNEU(S)?e.icon.user(150,150,"#8C8C8C",0,0):'<img style="width: 100%;height:100%;border-radius: 50%;object-fit:cover;" src="'.concat(S,'"></img>');var E=!r,A=r?"display:none;":"",T=r||!d?"display:none;":"",P=x.editFormHeaderColor?'style="background-color:'.concat(x.editFormHeaderColor,';"'):"",O=document.createElement("form");if(O.setAttribute("data-bft-edit-form",""),O.classList.add("bft-edit-form"),O.classList.add(this.obj.config.mode),O.classList.add(w.templateName.replaceAll(" ","")),O.classList.add(e.ui._defsIds[w.templateName]),Array.isArray(w.tags)&&w.tags.length)for(_=0;_<w.tags.length;_++)O.classList.add(w.tags[_].replaceAll(" ",""));O.style.display="flex",O.style.opacity=i?1:0,O.style.right=i?0:"-20px",o&&(O.style.width=o);var D=[],W=a?"":e.EDITFORM_CLOSE_BTN;return O.innerHTML='<div>\n                        <div class="bft-edit-form-header" '.concat(P,">\n                            ").concat(W,"\n                            ").concat(e.editUI.renderHeaderContent(v,S,w,y),'\n                        </div>\n                        <div data-bft-edit-from-btns class="bft-edit-form-instruments">\n                        ').concat(function(){if(a)return"";var H="";for(var M in p){var L=p[M];e.isNEU(L)||E&&L.hideIfEditMode||r&&L.hideIfDetailsMode||l&&L.text=="Edit"||(H+="<div data-edit-from-btn='".concat(M,'\' class="bft-img-button" ').concat(P,' title="').concat(L.text,'">').concat(L.icon,"</div>"))}return H}(),'    \n                        </div>\n                    </div>\n                    <div class="bft-edit-form-fields">\n                        <div class="bft-edit-form-fields-inner">\n                            <div class="bft-form-fieldset">\n                                ').concat(function(){for(var H="",M=0;M<c.length;M++){var L=c[M];if(Array.isArray(L)){H+='<div class="bft-form-field-100 bft-form-fieldset">';for(var j=0;j<L.length;j++){var F=L[j],q=e.elements[F.type](y,F,"unset",r);!e.isNEU(q.id)&&e.isNEU(s)&&e.isNEU(q.value)&&(s=q.id),e.isNEU(q.value)||D.push("".concat(F.label,": ").concat(q.value)),H+=q.html}H+="</div>"}else q=e.elements[L.type](y,L,"280px",r),!e.isNEU(q.id)&&e.isNEU(s)&&e.isNEU(q.value)&&(s=q.id),e.isNEU(q.value)||D.push("".concat(L.label,": ").concat(q.value)),H+=q.html}return H}(),'\n\n                                <div class="bft-form-field" style="min-width: 280px; text-align:center; ').concat(T,'">\n                                    <a data-add-more-fields-btn href="#" class="bft-link">').concat(d,'</a>\n                                </div>\n                            </div>        \n                        </div>\n                    </div>\n                    <div class="bft-form-fieldset" style="padding: 14px 10px; ').concat(A,'">\n                        <div class="bft-form-field" style="min-width: initial;">\n                            <button data-edit-from-cancel type="button" class="bft-button transparent">').concat(u,'</button>\n                        </div>\n                        <div class="bft-form-field" style="min-width: initial;">\n                            <button type="submit" data-edit-from-save type="button" class="bft-button">').concat(f,"</button>\n                        </div>\n                    </div>"),{element:O,focusId:s,title:v,shareText:D.join("\n")}},e.editUI.prototype.hide=function(){if(e.events.publish("hide",[this])===!1)return!1;e.isNEU(this.interval)&&(clearInterval(this.interval),this.interval=null);var t=this.obj.element.querySelector("[data-bft-edit-form]");t&&t.parentNode&&t.parentNode.removeChild(t)},e.editUI.renderHeaderContent=function(t,r,i,o){return'<h1 class="bft-edit-form-title">'.concat(e._escapeGreaterLessSign(t),'</h1>\n                <div id="bft-avatar" class="bft-edit-form-avatar">').concat(r,"</div>")},e.prototype.getSvg=function(){var t=this.element.getElementsByTagName("svg");return t&&t.length?t[0]:null},e.prototype.getPointerElement=function(){return this.element.querySelector("g[data-pointer]")},e.prototype.getNodeElement=function(t){return this.element.querySelector("["+e.attr.node_id+"='"+t+"']")},e.prototype.getMenuButton=function(){return this.element.querySelector("["+e.attr.control_export_menu+"]")},e.menuUI=function(){},e.menuUI.prototype.init=function(t,r){this.obj=t,this.wrapper=null,this.menu=r,this._event_id=e._guid()},e.menuUI.prototype.showStickIn=function(t,r,i,o){this._show(t,null,r,i,o)},e.menuUI.prototype.show=function(t,r,i,o,a){this._show(t,r,i,o,a)},e.menuUI.prototype._show=function(t,r,i,o,a){var s=this;this.hide();var l="";a||(a=this.menu);var c={firstNodeId:i,secondNodeId:o,menu:a};if(e.events.publish("show",[this,c])===!1)return!1;for(var d in a=c.menu){var f=a[d].icon,u=a[d].text;f===void 0&&(f=e.icon[d]?e.icon[d](24,24,"#7A7A7A"):""),typeof u=="function"&&(u=u()),typeof f=="function"&&(f=f()),l+="<div "+e.attr.item+'="'+d+'">'+f+"<span>&nbsp;&nbsp;"+u+"</span></div>"}if(l!=""){if(this.wrapper=document.createElement("div"),this.wrapper.className="bft-family-menu",this.wrapper.style.left="-99999px",this.wrapper.style.top="-99999px",this.wrapper.innerHTML=l,this.obj.element.appendChild(this.wrapper),r==null){var p=e._menuPosition(t,this.wrapper,this.obj.getSvg());t=p.x,r=p.y}var g=t+45;this.wrapper.style.left=g+"px",this.wrapper.style.top=r+"px",this.wrapper.style.left=g-this.wrapper.offsetWidth+"px";var m=t-this.wrapper.offsetWidth;e.animate(this.wrapper,{opacity:0,left:g-this.wrapper.offsetWidth},{opacity:1,left:m},300,e.anim.inOutPow);for(var w=this.wrapper.getElementsByTagName("div"),y=0;y<w.length;y++)(d=w[y]).addEventListener("click",function(x){var v,S=this.getAttribute(e.attr.item);if(a[S].onClick===void 0)if(S==="add"){var _={id:s.obj.generateId(),pid:i};s.obj.addNode(_,null,!0)}else if(S==="edit"){var b=s.obj.getNode(i);s.obj.editUI.show(b.id)}else S==="details"?(b=s.obj.getNode(i),s.obj.editUI.show(b.id,!0)):S==="remove"?s.obj.removeNode(i,null,!0):S==="svg"?s.obj.exportSVG({filename:"FamilyTree.svg",expandChildren:!1,nodeId:i}):S==="pdf"?s.obj.exportPDF({filename:"FamilyTree.pdf",expandChildren:!1,nodeId:i}):S==="png"?s.obj.exportPNG({filename:"FamilyTree.png",expandChildren:!1,nodeId:i}):S==="csv"?s.obj.exportCSV({nodeId:i}):S==="xml"?s.obj.exportXML({nodeId:i}):S==="json"&&s.obj.exportJSON({nodeId:i});else v=a[S].onClick.call(s.obj,i,o);v!=0&&s.hide()})}},e.menuUI.prototype.isVisible=function(){return this.wrapper!=null},e.menuUI.prototype.hide=function(){this.wrapper!=null&&(this.obj.element.removeChild(this.wrapper),this.wrapper=null)},e.menuUI.prototype.on=function(t,r){return e.events.on(t,r,this._event_id),this},e.circleMenuUI=function(){},e.circleMenuUI.prototype.init=function(t,r){this.obj=t,this.menu=r,this._menu=null,this._buttonsInterval=[],this._linesInterval=[],this._event_id=e._guid()},e.circleMenuUI.prototype.show=function(t,r){this._show(t,r)},e.circleMenuUI.prototype._show=function(t,r){var i=this,o=this.obj.getNode(t),a=e.t(o.templateName,o.min,this.obj.getScale());if(!e.isNEU(a.nodeCircleMenuButton)){var s=this.obj.getSvg(),l=this.obj.element.querySelector("["+e.attr.control_node_circle_menu_id+'="'+t+'"]'),c=this.obj.getNodeElement(t),d=e._getTransform(l),f=e._getTransform(c),u=d[4]+f[4],p=d[5]+f[5],g=l.querySelectorAll("line"),m=this.obj.element.querySelector("["+e.attr.control_node_circle_menu_wrraper_id+"]");if(e.isNEU(m)||m.getAttribute(e.attr.control_node_circle_menu_wrraper_id)!=t){this.hide(),r||(r=this.menu);var w={nodeId:t,menu:r},y=e.events.publish("show",[this,w]);if(this._menu=r,y===!1)return!1;for(var x=0,v=Object.keys(w.menu).length,S=2*a.nodeCircleMenuButton.radius+4,_=2*Math.PI*S,b=_/v-(2*a.nodeCircleMenuButton.radius+2);b<0;)S+=8,b=(_=2*Math.PI*S)/v-(2*a.nodeCircleMenuButton.radius+2);for(var C in(m=document.createElementNS("http://www.w3.org/2000/svg","g")).setAttribute(e.attr.control_node_circle_menu_wrraper_id,t),m.setAttribute("transform","matrix(1,0,0,1,"+u+","+p+")"),s.appendChild(m),w.menu){var N=w.menu[C].icon,I=w.menu[C].color,E=w.menu[C].text;typeof N=="function"&&(N=N()),typeof I=="function"&&(I=I()),typeof E=="function"&&(E=E());var A=document.createElementNS("http://www.w3.org/2000/svg","g");A.setAttribute("transform","matrix(1,0,0,1,0,0)"),A.setAttribute(e.attr.control_node_circle_menu_name,C),A.style.cursor="pointer";var T=document.createElementNS("http://www.w3.org/2000/svg","title");e.isNEU(E)||(T.innerHTML=E);var P=document.createElementNS("http://www.w3.org/2000/svg","circle");P.setAttribute("cx",0),P.setAttribute("cy",0),P.setAttribute("r",a.nodeCircleMenuButton.radius),P.setAttribute("fill",I),P.setAttribute("stroke-width","1"),P.setAttribute("stroke",a.nodeCircleMenuButton.stroke),A.appendChild(P),A.appendChild(T),A.innerHTML+=N,m.appendChild(A);var O=A.getElementsByTagName("svg")[0];if(O.setAttribute("pointer-events","none"),O){var D=parseInt(O.getAttribute("width")),W=parseInt(O.getAttribute("height"));O.setAttribute("x",-D/2),O.setAttribute("y",-W/2)}var H=x*Math.PI/(v/2);x++;var M=Math.cos(H)*S,L=Math.sin(H)*S;this._buttonsInterval.push(e.animate(A,{transform:[1,0,0,1,0,0]},{transform:[1,0,0,1,M,L]},250,e.anim.outBack,function(j){var F=j[0].getAttribute(e.attr.control_node_circle_menu_name),q=j[0].parentNode.getAttribute(e.attr.control_node_circle_menu_wrraper_id);j[0].addEventListener("mouseenter",function(Y){e.events.publish("mouseenter",[i,{from:q,menuItem:w.menu[F],menuItemName:F,event:Y}])}),j[0].addEventListener("mouseout",function(Y){e.events.publish("mouseout",[i,{from:q,menuItem:w.menu[F],menuItemName:F,event:Y}])})}))}this._linesInterval.push(e.animate(g[0],{x1:-a.nodeCircleMenuButton.radius/2,y1:-6,x2:a.nodeCircleMenuButton.radius/2,y2:-6},{x1:-7,y1:-7,x2:7,y2:7},500,e.anim.inOutSin)),this._linesInterval.push(e.animate(g[1],{x1:-a.nodeCircleMenuButton.radius/2,y1:0,x2:a.nodeCircleMenuButton.radius/2,y2:0},{x1:0,y1:0,x2:0,y2:0},500,e.anim.inOutSin)),this._linesInterval.push(e.animate(g[2],{x1:-a.nodeCircleMenuButton.radius/2,y1:6,x2:a.nodeCircleMenuButton.radius/2,y2:6},{x1:-7,y1:7,x2:7,y2:-7},500,e.anim.inOutSin))}else this.hide()}},e.circleMenuUI.prototype.hide=function(){for(var t=this._buttonsInterval.length-1;t>=0;t--)clearInterval(this._buttonsInterval[t]),this._buttonsInterval.splice(t,1);for(this._buttonsInterval=[],t=this._linesInterval.length-1;t>=0;t--)clearInterval(this._linesInterval[t]),this._linesInterval.splice(t,1);this._linesInterval=[];var r=this.obj.element.querySelector("["+e.attr.control_node_circle_menu_wrraper_id+"]");if(r!=null){var i=r.getAttribute(e.attr.control_node_circle_menu_wrraper_id),o=this.obj.getNode(i),a=e.t(o.templateName,o.min,this.obj.getScale()),s=this.obj.element.querySelector("["+e.attr.control_node_circle_menu_id+'="'+i+'"]').querySelectorAll("line");s[0].setAttribute("x1",-a.nodeCircleMenuButton.radius/2),s[0].setAttribute("x2",a.nodeCircleMenuButton.radius/2),s[0].setAttribute("y1",-6),s[0].setAttribute("y2",-6),s[1].setAttribute("x1",-a.nodeCircleMenuButton.radius/2),s[1].setAttribute("x2",a.nodeCircleMenuButton.radius/2),s[1].setAttribute("y1",0),s[1].setAttribute("y2",0),s[2].setAttribute("x1",-a.nodeCircleMenuButton.radius/2),s[2].setAttribute("x2",a.nodeCircleMenuButton.radius/2),s[2].setAttribute("y1",6),s[2].setAttribute("y2",6),r.parentElement.removeChild(r),r=null}},e.circleMenuUI.prototype.on=function(t,r){return e.events.on(t,r,this._event_id),this},e===void 0&&(e={}),e.idb={version:1,dbName:"BALKAN",tableName:"familytree-js",keyPath:"id"},e.idb.db=null,e.idb._open=function(t){if(e._browser().msie)t&&t(!1);else if((navigator.userAgent.toLowerCase().indexOf("safari")>0||navigator.userAgent.toLowerCase().indexOf("firefox")>0)&&window.location!==window.parent.location)t&&t(!1);else{if(!window.indexedDB)return console.error("Your browser doesn't support a stable version of IndexedDB."),void(t&&t(!1));if(e.idb.db==null){var r=indexedDB.open(e.idb.dbName,e.idb.version);r.onerror=function(i){console.error("Cannot open database!"),t&&t(!1)},r.onsuccess=function(i){e.idb.db=i.target.result,t&&t(!0)},r.onupgradeneeded=function(i){var o=i.target.result;o.objectStoreNames.contains(e.idb.tableName)&&o.deleteObjectStore(e.idb.tableName),o.createObjectStore(e.idb.tableName,{keyPath:e.idb.keyPath})}}else t&&t(!0)}},e.idb.read=function(t,r){e.idb._open(function(i){if(i){var o=e.idb.db.transaction([e.idb.tableName]).objectStore(e.idb.tableName).get(t);o.onerror=function(a){console.error("Unable to retrieve data from database!"),r&&r(!1)},o.onsuccess=function(a){o.result?r&&r(!0,o.result):r&&r(null)}}else r&&r(!1)})},e.idb.write=function(t,r){e.idb.read(t.id,function(i){if(i==null){var o=e.idb.db.transaction([e.idb.tableName],"readwrite").objectStore(e.idb.tableName).add(t);o.onerror=function(a){console.error("Unable to add data to database!"),r&&r(!1)},o.onsuccess=function(a){r&&r(!0)}}else r&&r(i)})},e.idb.put=function(t,r){e.idb._open(function(i){if(i){var o=e.idb.db.transaction([e.idb.tableName],"readwrite").objectStore(e.idb.tableName).put(t);o.onerror=function(a){console.error("Unable to put data to database!"),r&&r(!1)},o.onsuccess=function(a){r&&r(!0)}}else r&&r(!1)})},e.idb.delete=function(t,r){e.idb._open(function(i){if(i){var o=e.idb.db.transaction([e.idb.tableName],"readwrite").objectStore(e.idb.tableName).delete(t);o.onerror=function(a){console.error("Unable to retrieve data from database!"),r&&r(!1)},o.onsuccess=function(a){o.error?r&&r(!1):r&&r(!0)}}else r&&r(!1)})},e.toolbarUI=function(){},e.toolbarUI.expandAllIcon='<svg style="margin-bottom:7px;box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border: 1px solid #cacaca;background-color: #f9f9f9;display: block;cursor: pointer;" width="32px" height="32px"><marker id="arrow" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="4" markerHeight="4" orient="auto-start-reverse"><path d="M 0 0 L 10 5 L 0 10 z" fill="#757575" /></marker><line x1="11" y1="11" x2="6" y2="6" stroke="#757575" stroke-width="2" marker-end="url(#arrow)" /><line x1="21" y1="11" x2="26" y2="6" stroke="#757575" stroke-width="2" marker-end="url(#arrow)" /><line x1="21" y1="21" x2="26" y2="26" stroke="#757575" stroke-width="2" marker-end="url(#arrow)" /><line x1="11" y1="21" x2="6" y2="26" stroke="#757575" stroke-width="2" marker-end="url(#arrow)" /><rect x="12" y="12" width="8" height="8" fill="#757575"></rect></svg>',e.toolbarUI.fitIcon='<svg  style="margin-bottom:7px;box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border: 1px solid #cacaca;background-color: #f9f9f9;display: block;cursor: pointer;" width="32px" height="32px"><path stroke-width="3" fill="none" stroke="#757575" d="M4,11 L4,4 L11,4"></path><path stroke-width="3" fill="none" stroke="#757575" d="M28,11 L28,4 L21,4"></path><path stroke-width="3" fill="none" stroke="#757575" d="M28,21 L28,28 L21,28"></path><path stroke-width="3" fill="none" stroke="#757575" d="M4,21 L4,28 L11,28"></path><circle cx="16" cy="16" r="5" fill="#757575"></circle></svg>',e.toolbarUI.openFullScreenIcon='<svg  style="margin-bottom:7px;box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border: 1px solid #cacaca;background-color: #f9f9f9;display: block;cursor: pointer;" width="32px" height="32px"><path stroke-width="3" fill="none" stroke="#757575" d="M4,11 L4,4 L11,4"></path><path stroke-width="3" fill="none" stroke="#757575" d="M28,11 L28,4 L21,4"></path><path stroke-width="3" fill="none" stroke="#757575" d="M28,21 L28,28 L21,28"></path><path stroke-width="3" fill="none" stroke="#757575" d="M4,21 L4,28 L11,28"></path><line x1="5" y1="5" x2="27" y2="27" stroke-width="3" stroke="#757575"></line><line x1="5" y1="27" x2="27" y2="5" stroke-width="3" stroke="#757575"></line></svg>',e.toolbarUI.closeFullScreenIcon='<svg  style="margin-bottom:7px;box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border: 1px solid #cacaca;background-color: #f9f9f9;display: block;cursor: pointer;" width="32px" height="32px"><path stroke-width="3" fill="none" stroke="#757575" d="M4,11 L4,4 L11,4"></path><path stroke-width="3" fill="none" stroke="#757575" d="M28,11 L28,4 L21,4"></path><path stroke-width="3" fill="none" stroke="#757575" d="M28,21 L28,28 L21,28"></path><path stroke-width="3" fill="none" stroke="#757575" d="M4,21 L4,28 L11,28"></path><rect x="11" y="11" width="10" height="10" stroke-width="3" fill="none" stroke="#757575" ></rect></svg>',e.toolbarUI.zoomInIcon='<svg style="box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border-left: 1px solid #cacaca; border-right: 1px solid #cacaca; border-top: 1px solid #cacaca; background-color: #f9f9f9;display: block; cursor: pointer;" width="32px" height="32px" ><g><rect fill="#f9f9f9" x="0" y="0" width="32" height="32" ></rect><line x1="8" y1="16" x2="24" y2="16" stroke-width="3" stroke="#757575"></line><line x1="16" y1="8" x2="16" y2="24" stroke-width="3" stroke="#757575"></line></g><line x1="4" y1="32" x2="28" y2="32" stroke-width="1" stroke="#cacaca"></line></svg>',e.toolbarUI.zoomOutIcon='<svg style="box-shadow: 0px 1px 4px rgba(0,0,0,0.3); margin-bottom:7px; border-left: 1px solid #cacaca; border-right: 1px solid #cacaca; border-bottom: 1px solid #cacaca; background-color: #f9f9f9;display: block; cursor: pointer;" width="32px" height="32px" ><g><rect fill="#f9f9f9" x="0" y="0" width="32" height="32" ></rect><line x1="8" y1="16" x2="24" y2="16" stroke-width="3" stroke="#757575"></line></g></svg>',e.toolbarUI.layoutIcon="<svg "+e.attr.tlbr+'="layout" style="box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border: 1px solid #cacaca;background-color: #f9f9f9;display: block;cursor: pointer;" width="32px" height="32px"><path stroke-width="3" fill="none" stroke="#757575" d="M8,24 L16,14 L24,24"></path><path stroke-width="3" fill="none" stroke="#757575" d="M8,16 L16,8 L24,16"></path></svg>',e.toolbarUI.prototype.init=function(t,r){if(r){this.obj=t,this.toolbar=r,this._visible=!1,this.div=document.createElement("div"),this.div.classList.add("bft-toolbar-container"),Object.assign(this.div.style,{position:"absolute",padding:"3px",right:this.obj.config.padding-10+"px",bottom:this.obj.config.padding-10+"px"}),r.expandAll&&(this.div.innerHTML+="<div "+e.attr.tlbr+'="expand">'+e.toolbarUI.expandAllIcon+"</div>"),r.fit&&(this.div.innerHTML+="<div "+e.attr.tlbr+'="fit">'+e.toolbarUI.fitIcon+"</div>"),r.zoom&&(this.div.innerHTML+="<div "+e.attr.tlbr+'="plus">'+e.toolbarUI.zoomInIcon+"</div>",this.div.innerHTML+="<div "+e.attr.tlbr+'="minus">'+e.toolbarUI.zoomOutIcon+"</div>"),r.layout&&(this.div.innerHTML+="<div "+e.attr.tlbr+'="layout">'+e.toolbarUI.layoutIcon+"</div>",this.layouts=document.createElement("div"),this.layouts.classList.add("bft-toolbar-layout"),this.layouts.innerHTML='<svg data-layout="normal" style="cursor: pointer;" width="110" height="100"><rect fill="#039BE5" x="35" y="0" width="50" height="27"></rect><rect fill="#F57C00" x="7" y="41" width="50" height="27"></rect><rect fill="#F57C00" x="63" y="41" width="50" height="27"></rect><line stroke="#000000" x1="60" x2="60" y1="27" y2="35" stroke-width="1"></line><line stroke="#000000" x1="32" x2="88" y1="35" y2="35" stroke-width="1"></line><line stroke="#000000" x1="32" x2="32" y1="35" y2="41" stroke-width="1"></line><line stroke="#000000" x1="88" x2="88" y1="35" y2="41" stroke-width="1"></line></svg>\n            <svg data-layout="treeRightOffset" style="cursor: pointer;" width="110" height="100"><rect fill="#039BE5" x="35" y="0" width="50" height="27"></rect><rect fill="#F57C00" x="40" y="41" width="50" height="27"></rect><rect fill="#F57C00" x="40" y="73" width="50" height="27"></rect><line stroke="#000000" x1="60" x2="60" y1="27" y2="35" stroke-width="1"></line><line stroke="#000000" x1="60" x2="35" y1="35" y2="35" stroke-width="1"></line><line stroke="#000000" x1="35" x2="35" y1="35" y2="86" stroke-width="1"></line><line stroke="#000000" x1="35" x2="40" y1="86" y2="86" stroke-width="1"></line><line stroke="#000000" x1="35" x2="40" y1="54" y2="54" stroke-width="1"></line></svg>\n            <svg data-layout="treeLeftOffset" style="cursor: pointer;" width="110" height="100"><rect fill="#039BE5" x="35" y="0" width="50" height="27"></rect><rect fill="#F57C00" x="30" y="41" width="50" height="27"></rect><rect fill="#F57C00" x="30" y="73" width="50" height="27"></rect><line stroke="#000000" x1="60" x2="60" y1="27" y2="35" stroke-width="1"></line><line stroke="#000000" x1="60" x2="85" y1="35" y2="35" stroke-width="1"></line><line stroke="#000000" x1="85" x2="85" y1="35" y2="86" stroke-width="1"></line><line stroke="#000000" x1="80" x2="85" y1="86" y2="86" stroke-width="1"></line><line stroke="#000000" x1="80" x2="85" y1="54" y2="54" stroke-width="1"></line></svg>\n            <svg data-layout="mixed" style="cursor: pointer;" width="110" height="100"><rect fill="#039BE5" x="35" y="0" width="50" height="27"></rect><rect fill="#F57C00" x="35" y="41" width="50" height="27"></rect><rect fill="#F57C00" x="35" y="73" width="50" height="27"></rect><line stroke="#000000" x1="60" x2="60" y1="27" y2="41" stroke-width="1"></line><line stroke="#000000" x1="60" x2="60" y1="68" y2="73" stroke-width="1"></line></svg>\n            <svg data-layout="tree" style="cursor: pointer;" width="110" height="100"><rect fill="#039BE5" x="35" y="0" width="50" height="27"></rect><rect fill="#F57C00" x="7" y="41" width="50" height="27"></rect><rect fill="#F57C00" x="35" y="73" width="50" height="27"></rect><rect fill="#F57C00" x="63" y="41" width="50" height="27"></rect><line stroke="#000000" x1="60" x2="60" y1="27" y2="73" stroke-width="1"></line><line stroke="#000000" x1="57" x2="63" y1="54" y2="54" stroke-width="1"></line></svg>\n            <svg data-layout="grid" style="cursor: pointer;" width="110" height="100"><rect fill="#039BE5" x="35" y="0" width="50" height="27"></rect><rect fill="#F57C00" x="7" y="41" width="50" height="27"></rect><rect fill="#F57C00" x="7" y="73" width="50" height="27"></rect><rect fill="#F57C00" x="63" y="41" width="50" height="27"></rect><rect fill="#F57C00" x="63" y="73" width="50" height="27"></rect><line stroke="#000000" x1="60" x2="60" y1="27" y2="71" stroke-width="1"></line><line stroke="#000000" x1="32" x2="88" y1="39" y2="39" stroke-width="1"></line><line stroke="#000000" x1="32" x2="88" y1="71" y2="71" stroke-width="1"></line><line stroke="#000000" x1="32" x2="32" y1="71" y2="73" stroke-width="1"></line><line stroke="#000000" x1="88" x2="88" y1="71" y2="73" stroke-width="1"></line><line stroke="#000000" x1="32" x2="32" y1="39" y2="41" stroke-width="1"></line><line stroke="#000000" x1="88" x2="88" y1="39" y2="41" stroke-width="1"></line></svg>',this.obj.element.appendChild(this.layouts)),r.fullScreen&&(this.div.innerHTML+="<div "+e.attr.tlbr+'="fullScreen">'+e.toolbarUI.openFullScreenIcon+"</div>"),this.obj.element.appendChild(this.div),this.layoutBtn=this.div.querySelector("["+e.attr.tlbr+'="layout"]');var i=this.div.querySelector("["+e.attr.tlbr+'="plus"]'),o=this.div.querySelector("["+e.attr.tlbr+'="minus"]'),a=this.div.querySelector("["+e.attr.tlbr+'="fit"]'),s=this.div.querySelector("["+e.attr.tlbr+'="fullScreen"]'),l=this.div.querySelector("["+e.attr.tlbr+'="expand"]'),c=this;i&&i.addEventListener("click",function(){c.obj.zoom(!0,null,!0)}),o&&o.addEventListener("click",function(){c.obj.zoom(!1,null,!0)}),a&&a.addEventListener("click",function(){c.obj.fit()}),s&&s.addEventListener("click",function(){c.obj.toggleFullScreen()}),l&&l.addEventListener("click",function(){c.obj.expand(null,"all")}),this.layoutBtn&&this.layoutBtn.addEventListener("click",function(){c._visible?c.hideLayout():c.showLayout()}),this.layouts&&this.layouts.addEventListener("click",function(d){for(var f=d.target;f;){if(f.hasAttribute&&f.hasAttribute(e.attr.layout)){f=f.getAttribute(e.attr.layout),c.obj.setLayout(e.layout[f]);break}f=f.parentNode}})}},e.toolbarUI.prototype.showLayout=function(){this._visible=!0,this.layoutBtn.style.transform="rotate(180deg) translateX(0px) translateY(0px)",e.animate(this.div,{bottom:this.obj.config.padding-10},{bottom:this.obj.config.padding+135},this.obj.config.anim.duration,this.obj.config.anim.func),e.animate(this.layouts,{bottom:-145},{bottom:0},this.obj.config.anim.duration,this.obj.config.anim.func)},e.toolbarUI.prototype.hideLayout=function(){this._visible=!1,this.layoutBtn.style.transform="rotate(0deg) translateX(0px) translateY(0px)",e.animate(this.div,{bottom:this.obj.config.padding+135},{bottom:this.obj.config.padding-10},this.obj.config.anim.duration,this.obj.config.anim.func),e.animate(this.layouts,{bottom:0},{bottom:-145},this.obj.config.anim.duration,this.obj.config.anim.func)},e.notifierUI=function(){},e.notifierUI.prototype.init=function(t){this.obj=t},e.notifierUI.prototype.show=function(t,r){if(t==null)return!1;t==1&&(t=e.MAX_NODES_MESS,r="#FFCA28"),t==2&&(t=e.OFFLINE_MESS,r="#FFCA28");var i=document.createElement("div");i.innerHTML=t,Object.assign(i.style,{position:"absolute","background-color":r,color:"#ffffff",padding:"15px","border-radius":"40px",opacity:0,overflow:"hidden","white-space":"nowrap","text-align":"center"}),this.obj.element.appendChild(i);var o=this.obj.width()/2-i.offsetWidth/2,a=this.obj.height()/2-i.offsetHeight/2;i.style.left=o+"px",i.style.top=a+"px";var s=i.offsetWidth;return i.style.width="20px",e.animate(i,{opacity:0,width:10},{opacity:1,width:s},this.obj.config.anim.duration,this.obj.config.anim.func),!0},e===void 0&&(e={}),e._validateConfig=function(t){return!!t||(console.error("config is not defined"),!1)},e._arrayContains=function(t,r){if(t&&Array.isArray(t)){for(var i=t.length;i--;)if(t[i]===r)return!0}return!1},e._interceptions=function(t,r){if(!t)return[];if(!r)return[];var i=[];if(Array.isArray(t)&&Array.isArray(r))for(var o in t)for(var a in r)t[o]==r[a]&&i.push(t[o]);else if(Array.isArray(t)&&!Array.isArray(r))for(var o in t)for(var a in r)t[o]==a&&i.push(t[o]);else if(!Array.isArray(t)&&Array.isArray(r))for(var o in t)for(var a in r)o==r[a]&&i.push(r[a]);return i},e._getTags=function(t){return t.tags&&!Array.isArray(t.tags)?t.tags.split(","):t.tags&&Array.isArray(t.tags)?t.tags:[]},e._centerPointInPercent=function(t,r,i){var o=t.getBoundingClientRect(),a=r-o.left,s=i-o.top;return[a/(o.width/100),s/(o.height/100)]},e._trim=function(t){return t.replace(/^\s+|\s+$/g,"")},e._getTransform=function(t){var r=t.getAttribute("transform");return r=r.replace("matrix","").replace("(","").replace(")",""),e._browser().msie&&(r=r.replace(/ /g,",")),r="["+(r=e._trim(r))+"]",r=JSON.parse(r)},e.getScale=function(t,r,i,o,a,s,l,c){var d=1;if(t||o!==e.match.boundary)if(t||o!==e.match.width)if(t||o!==e.match.height)if(t){var f,u;d=(f=r/t[2])>(u=i/t[3])?u:f}else d=o;else d=i/c;else d=r/l;else d=(f=r/l)>(u=i/c)?u:f;return d&&d>a&&(d=a),d&&d<s&&(d=s),d},e.isObject=function(t){return t&&typeof t=="object"&&!Array.isArray(t)&&t!==null},e.fileUploadDialog=function(t){var r=document.createElement("INPUT");r.setAttribute("type","file"),r.style.display="none",r.onchange=function(){var i=this.files[0];t(i)},document.body.appendChild(r),r.click()},e.mergeDeep=function(t,r){if(e.isObject(t)&&e.isObject(r))for(var i in r)e.isObject(r[i])?(t[i]||Object.assign(t,{[i]:{}}),e.mergeDeep(t[i],r[i])):Object.assign(t,{[i]:r[i]});return t},e._lblIsImg=function(t,r){return!(!t.nodeBinding||typeof r!="string"||r.indexOf("img")==-1||!t.nodeBinding[r])},e._getFistImgField=function(t){if(t.nodeBinding){for(var r in t.nodeBinding)if(r.indexOf("img")!=-1)return t.nodeBinding[r]}return!1},e._fieldIsImg=function(t,r){if(t.nodeBinding){for(var i in t.nodeBinding)if(t.nodeBinding[i]==r)return e._lblIsImg(t,i)}return!1},e._guid=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},e.htmlRipple=function(t){var r=document.createElement("style");r.type="text/css",r.innerHTML=" .bft-ripple-container {position: absolute; top: 0; right: 0; bottom: 0; left: 0; } .bft-ripple-container span {transform: scale(0);border-radius:100%;position:absolute;opacity:0.75;background-color:#fff;animation: bft-ripple 1000ms; }@-moz-keyframes bft-ripple {to {opacity: 0;transform: scale(2);}}@-webkit-keyframes bft-ripple {to {opacity: 0;transform: scale(2);}}@-o-keyframes bft-ripple {to {opacity: 0;transform: scale(2);}}@keyframes bft-ripple {to {opacity: 0;transform: scale(2);}}",document.head.appendChild(r);var i,o,a,s=document.createElement("div");s.className="bft-ripple-container",t.addEventListener("mousedown",function(l){var c,d,f,u,p;return d=document.createElement("span"),f=this.offsetWidth,c=this.getBoundingClientRect(),p=l.pageX-c.left-f/2,u="top:"+(l.pageY-c.top-f/2)+"px; left: "+p+"px; height: "+f+"px; width: "+f+"px;",t.rippleContainer.appendChild(d),d.setAttribute("style",u)}),t.addEventListener("mouseup",(i=function(){for(;this.rippleContainer.firstChild;)this.rippleContainer.removeChild(this.rippleContainer.firstChild)},o=2e3,a=void 0,function(){var l,c;return c=this,l=arguments,clearTimeout(a),a=setTimeout(function(){return i.apply(c,l)},o)})),t.rippleContainer=s,t.appendChild(s)},e._moveToBoundaryArea=function(t,r,i,o){var a=r.slice(0);r[0]<i.left&&r[0]<i.right&&(a[0]=i.left>i.right?i.right:i.left),r[0]>i.right&&r[0]>i.left&&(a[0]=i.left>i.right?i.left:i.right),r[1]<i.top&&r[1]<i.bottom&&(a[1]=i.top>i.bottom?i.bottom:i.top),r[1]>i.bottom&&r[1]>i.top&&(a[1]=i.top>i.bottom?i.top:i.bottom),r[0]!==a[0]||r[1]!==a[1]?e.animate(t,{viewBox:r},{viewBox:a},300,e.anim.outPow,function(){o&&o()}):o&&o()},e.randomId=function(){return"_"+("0000"+(Math.random()*Math.pow(36,4)|0).toString(36)).slice(-4)},e._getClientXY=function(t){return t.type.indexOf("touch")==-1?{x:t.clientX,y:t.clientY}:t.changedTouches.length?{x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY}:void 0},e._getClientTouchesXY=function(t,r){return t.type.indexOf("touch")!=-1?t.touches.length<r+1?{x:null,y:null}:{x:t.touches[r].clientX,y:t.touches[r].clientY}:{x:t.clientX,y:t.clientY}},e._getOffset=function(t,r){t&&(r.x+=t.offsetLeft,r.y+=t.offsetTop,e._getOffset(t.offsetParent,r))},e._getTopLeft=function(t){var r={x:0,y:0};return e._getOffset(t,r),r},e._getOffsetXY=function(t,r){if(r.type.indexOf("touch")==-1)return{x:r.offsetX,y:r.offsetY};if(r.touches.length){var i=e._getTopLeft(t);return{x:r.touches[0].pageX-i.x,y:r.touches[0].pageY-i.y}}if(r.changedTouches.length)return i=e._getTopLeft(t),isNaN(i.x)||isNaN(i.y)?{x:r.changedTouches[0].pageX,y:r.changedTouches[0].pageY}:{x:r.changedTouches[0].pageX-i.x,y:r.changedTouches[0].pageY-i.y}},e._pinchMiddlePointInPercent=function(t,r,i,o){var a=e._getTopLeft(t),s=o.touches[0].pageX-a.x,l=o.touches[0].pageY-a.y,c=o.touches[1].pageX-a.x,d=o.touches[1].pageY-a.y;return[((s-c)/2+c)/(r/100),((l-d)/2+d)/(i/100)]},e._browser=function(){var t=!!window.opr&&!!window.opr.addons||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,r=typeof InstallTrigger<"u",i=/constructor/i.test(window.HTMLElement)||(!window.safari||window.safari!==void 0&&safari.pushNotification).toString()==="[object SafariRemoteNotification]",o=!!document.documentMode,a=!o&&!!window.StyleMedia,s=!(!window.chrome||!window.chrome.webstore&&!window.chrome.runtime);return{opera:t,firefox:r,safari:i,msie:o,edge:a,chrome:s,blink:(s||t)&&!!window.CSS}},e._menuPosition=function(t,r,i){var o=t.getBoundingClientRect(),a=i.getBoundingClientRect(),s=r.getBoundingClientRect(),l=o.left-a.left,c=o.top-a.top;return o.top+s.height>a.top+a.height&&(c-=s.height),o.left-s.width<a.left&&(l+=s.width),{x:l,y:c}},e._getTemplate=function(t,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++){var a=r[t[o]];if(a&&a.template)return a.template}return i},e._getMin=function(t,r){if(t.tags&&t.tags.length&&r.tags)for(var i=0;i<t.tags.length;i++){var o=r.tags[t.tags[i]];if(o&&o.min===!0)return!0}return r.min},e._getSubLevels=function(t,r){if(t&&t.length)for(var i=0;i<t.length;i++){var o=r[t[i]];if(o&&o.subLevels)return o.subLevels}return 0},e._isHTML=function(t){var r=new DOMParser().parseFromString(t,"text/html");return Array.from(r.body.childNodes).some(i=>i.nodeType===1)},e._getTestDiv=function(){var t=document.getElementById("orgfamily_js_test_div");return t||((t=document.createElement("div")).id="orgfamily_js_test_div",t.style.position="fixed",t.style.top="-10000px",t.style.left="-10000px",document.body.appendChild(t)),t},e._getLabelSize=function(t){var r=e._getTestDiv();return r.innerHTML="<svg>"+t+"</svg>",r.querySelector("text").getBoundingClientRect()},e.wrapText=function(t,r){var i=r.toLowerCase();if(i.indexOf("<text")==-1||i.indexOf(e.attr.width)==-1||i.indexOf("foreignobject")!=-1||r.indexOf(e.attr.width)==-1||e.ESCAPE_HTML&&typeof str=="string"&&e._isHTML(t))return e._escapeHtml(t);if(!e.ESCAPE_HTML&&e._isHTML(t))return t;var o=e._getTestDiv();r=r.replaceAll("{cw}",0),o.innerHTML="<svg>"+r+"</svg>";var a,s,l=new DOMParser().parseFromString(r,"text/xml").getElementsByTagName("text")[0],c=parseFloat(l.getAttribute("x")),d=parseFloat(l.getAttribute("y")),f=l.getAttribute("text-anchor"),u=l.getAttribute(e.attr.width),p=l.getAttribute(e.attr.text_overflow),g="http://www.w3.org/2000/svg",m=o.getElementsByTagName("svg")[0].getElementsByTagName("text")[0];p||(p="ellipsis");var w=p.split("-");if(w.length>1&&(a=parseInt(p.split("-")[1]),w.length>2&&w[2]=="ellipsis"&&(s=!0)),!u)return e._escapeHtml(t);if(u=parseFloat(u),c||(c=0),d||(d=0),c||(f="start"),p=="ellipsis"){m.removeChild(m.firstChild),m.textContent=t;for(var y=m.getComputedTextLength(),x=2;y>u;)m.textContent=t.substring(0,t.length-x),m.textContent+="...",y=m.getComputedTextLength(),x++;return x>2?"<title>".concat(e._escapeHtml(t),"</title>").concat(m.textContent):e._escapeHtml(t)}if(p.indexOf("multiline")!=-1){var v=t.split(" "),S=m.getBBox().height;m.textContent="";var _=document.createElementNS(g,"tspan"),b=document.createTextNode(v[0]);_.setAttributeNS(null,"x",c),_.setAttributeNS(null,"y",d),_.setAttributeNS(null,"text-anchor",f),_.appendChild(b),m.appendChild(_),x=1;for(var C=1,N=!1,I=1;I<v.length;I++){var E=_.firstChild.data.length;if(_.firstChild.data+=" "+v[I],_.getComputedTextLength()>u){if(_.firstChild.data=_.firstChild.data.slice(0,E),C++,a&&C>a){if(s&&m.children.length==a){var A=m.children[a-1].textContent;m.children[a-1].textContent=A.substring(0,A.length-3)+"...",N=!0}break}(_=document.createElementNS(g,"tspan")).setAttributeNS(null,"x",c),_.setAttributeNS(null,"y",d+S*x),_.setAttributeNS(null,"text-anchor",f),b=document.createTextNode(v[I]),_.appendChild(b),m.appendChild(_),x++}}var T="";if(m.innerHTML!=null)T=m.innerHTML,m.innerHTML="";else{var P="";for(I=m.childNodes.length-1;I>=0;I--)P=XMLSerializer().serializeToString(m.childNodes[I])+P,m.removeChild(m.childNodes[I]);T=P}return N?"<title>".concat(e._escapeHtml(t),"</title>").concat(T):T}},e._downloadFile=function(t,r,i,o,a){var s=new Blob([r],{type:t});if(o==1){var l=URL.createObjectURL(s);window.open(l,"_blank").focus()}else if(navigator.msSaveBlob)navigator.msSaveBlob(s,i);else{var c=document.createElement("a");if(c.download!==void 0){l=URL.createObjectURL(s),c.setAttribute("href",l);var d=i;d.toLowerCase().endsWith(a.toLowerCase())||(d=d+"."+a),c.setAttribute("download",d),c.style.visibility="hidden",document.body.appendChild(c),c.click(),document.body.removeChild(c)}}},e._getPosition=function(t,r,i,o){var a={x:r.x,y:r.y};if(i!=null&&(a.x=i),o!=null&&(a.y=i),t&&t.length==3){var s=t[0].indexOf(r.id);s!=-1&&t[1][s].transform!=null&&(i==null&&(a.x=t[1][s].transform[4]),o==null&&(a.y=t[1][s].transform[5]))}return a},e._getOpacity=function(t,r){var i=1;if(t&&t.length==3){var o=t[0].indexOf(r.id);o!=-1&&t[1][o].opacity!=null&&(i=t[1][o].opacity)}return i},e.t=function(t,r,i){var o=e.templates[t];o==null&&console.error('Template "'.concat(t,'" does not exist!'));var a=null;if(i!=null&&o.scaleLessThen){var s=[];for(var l in o.scaleLessThen){var c=parseFloat(l);i<c&&s.push(c)}if(s.length>0){s.sort(function(u,p){return u-p});var d=o.scaleLessThen[s[0]];for(var f in d)a==null&&(a=Object.assign({},o)),a[f]=d[f]}}return r?a==null?o.min?o.min:o:a.min?a.min:a:a==null?o:a},e.setNodeSize=function(t){var r=e.t(t.templateName,t.min);t.w=r&&r.size?r.size[0]:0,t.h=r&&r.size?r.size[1]:0},e._imgs2base64=function(t,r,i,o){var a=t.getElementsByTagName(r),s=a.length;s==0&&o();for(var l=0;l<s;l++)(function(){var c=l,d=a[c];e._getDataUri(d.getAttribute(i),function(f){f.success&&d.setAttribute(i,f.result),c==s-1&&o()})})()},e._getDataUri=function(t,r){if(t.indexOf("base64")!=-1)r({success:!1});else{var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){i.status===200?o.readAsDataURL(i.response):i.status===404&&r({success:!1,result:i.status})};var o=new FileReader;o.onloadend=function(){r({success:!0,result:o.result})},i.send()}},e._convertStringToArray=function(t,r){return e.ARRAY_FIELDS.indexOf(t)!=-1?e.isNEU(r)?[]:r.split(","):r},e._convertArrayToString=function(t){return!e.isNEU(t)&&Array.isArray(t)?t.join():t},e._csvToArray=function(t,r){r=r||e.CSV_DELIMITER;for(var i=new RegExp("(\\"+r+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+r+"\\r\\n]*))","gi"),o=[[]],a=null;a=i.exec(t);){var s,l=a[1];l.length&&l!==r&&o.push([]),s=a[2]?a[2].replace(new RegExp('""',"g"),'"'):a[3],o[o.length-1].push(s)}return o},e._json2xml=function(t){for(var r=document.implementation.createDocument("","",null),i=r.createElement("nodes"),o=0;o<t.length;o++){var a=r.createElement("node"),s=t[o];for(var l in s){var c=s[l];a.setAttribute(l,e._convertArrayToString(c))}i.appendChild(a)}return r.appendChild(i),'<?xml version="1.0" encoding="utf-8" ?>'+new XMLSerializer().serializeToString(r.documentElement)},e._xml2json=function(t){for(var r=new DOMParser().parseFromString(t,"text/xml").getElementsByTagName("node"),i=[],o=0;o<r.length;o++){for(var a=r[o],s={},l=0;l<a.attributes.length;l++){var c=a.attributes[l];s[c.name]=e._convertStringToArray(c.name,c.value)}i.push(s)}return i},e.convertNodesToCsv=function(t){return e._json2csv(t)},e._json2csv=function(t){for(var r=[],i=function(l){for(var c="",d=0;d<r.length;d++){var f;(f=r[d]=="reportsTo"?null:l[r[d]]==null?"":l[r[d]])instanceof Date&&(f=f.toLocaleString());var u=(f=f===null?"":f.toString()).replace(/"/g,'""'),p=new RegExp('("|;|\n)',"g");u.search(p)>=0&&(u='"'+u+'"'),d>0&&(c+=e.CSV_DELIMITER),c+=u}return c+"\n"},o="",a=0;a<t.length;a++)for(var s in t[a])e._arrayContains(r,s)||(r.push(s),o+=s+e.CSV_DELIMITER);for(o=o.substring(0,o.length-1),o+="\n",a=0;a<t.length;a++)o+=i(t[a]);return o=o.substring(0,o.length-1)},e.accentFold=function(t){return(t=t.toString().toLowerCase()).replace(/([àáâãäå])|([ç])|([èéêë])|([ìíîï])|([ñ])|([òóôõöø])|([ß])|([ùúûü])|([ÿ])|([æ])/g,function(r,i,o,a,s,l,c,d,f,u,p){return i?"a":o?"c":a?"e":s?"i":l?"n":c?"o":d?"s":f?"u":u?"y":p?"ae":void 0})},e.copy=function(t){if(t===null||typeof t!="object"||"isActiveClone"in t)return t;if(t instanceof Date)var r=new t.constructor;else r=t.constructor();for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(t.isActiveClone=null,r[i]=e.copy(t[i]),delete t.isActiveClone);return r},e._getScrollSensitivity=function(){var t=e._browser();return t.msie&&e.scroll.ie?e.scroll.ie:t.edge&&e.scroll.edge?e.scroll.edge:t.safari&&e.scroll.safari?e.scroll.safari:t.chrome&&e.scroll.chrome?e.scroll.chrome:t.firefox&&e.scroll.firefox?e.scroll.firefox:t.opera&&e.scroll.opera?e.scroll.opera:{smooth:e.scroll.smooth,speed:e.scroll.speed}},e.isMobile=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},e.isTrial=function(){return e.remote!==void 0},e.childrenCount=function(t,r){for(var i=0,o=0;o<r.childrenIds.length;o++)t.nodes[r.childrenIds[o]]&&i++;return i},e.childrenTotalCount=function(t,r){for(var i=0,o=0;o<r.childrenIds.length;o++){var a=t.nodes[r.childrenIds[o]];a&&(i++,i+=e.childrenTotalCount(t,a))}return i},e.collapsedChildrenCount=function(t,r){for(var i=0,o=0;o<r.childrenIds.length;o++){var a=t.nodes[r.childrenIds[o]];a&&a.collapsed===!0&&i++}return i},e.collapsedChildrenTotalCount=function(t,r,i){for(var o=0,a=0;a<r.childrenIds.length;a++){var s=t.nodes[r.childrenIds[a]];s&&((i||s.collapsed===!0)&&o++,o+=e.collapsedChildrenTotalCount(t,s,!0))}return o},e._setMinMaxXY=function(t,r){(r.minX==null||t.x!=null&&t.x<r.minX)&&(r.minX=t.x),(r.minY==null||t.y!=null&&t.y<r.minY)&&(r.minY=t.y),(r.maxX==null||t.x!=null&&t.x+t.w>r.maxX)&&(r.maxX=t.x+t.w),(r.maxY==null||t.y!=null&&t.y+t.h>r.maxY)&&(r.maxY=t.y+t.h)},e.getStParentNodes=function(t,r){for(r||(r=[]);t.parent;)t=t.parent;return t.stParent&&(r.push(t.stParent),e.getStParentNodes(t.stParent,r)),r},e.getRootOf=function(t){for(;t&&t.parent;)t=t.parent;return t},e._getViewBox=function(t){var r=null;return t?(r=(r="["+(r=t.getAttribute("viewBox"))+"]").replace(/\ /g,","),r=JSON.parse(r)):null},e.isNEU=function(t){return t==null||t===""},e.gradientCircleForDefs=function(t,r,i,o){function a(l,c,d,f){var u=(f-90)*Math.PI/180;return{x:l+d*Math.cos(u),y:c+d*Math.sin(u)}}function s(l,c,d,f,u){var p=a(l,c,d,u),g=a(l,c,d,f),m=u-f<=180?"0":"1";return["M",p.x,p.y,"A",d,d,0,m,0,g.x,g.y].join(" ")}return Array.isArray(r)||(r=[r,r,r,r,r,r]),'<linearGradient id="'.concat(t,'_linearColors1" x1="0" y1="0" x2="1" y2="1">\n            <stop offset="0%" stop-color="').concat(r[0],'"></stop>\n            <stop offset="100%" stop-color="').concat(r[1],'"></stop>\n        </linearGradient>\n        <linearGradient id="').concat(t,'_linearColors2" x1="0.5" y1="0" x2="0.5" y2="1">\n            <stop offset="0%" stop-color="').concat(r[1],'"></stop>\n            <stop offset="100%" stop-color="').concat(r[2],'"></stop>\n        </linearGradient>\n        <linearGradient id="').concat(t,'_linearColors3" x1="1" y1="0" x2="0" y2="1">\n            <stop offset="0%" stop-color="').concat(r[2],'"></stop>\n            <stop offset="100%" stop-color="').concat(r[3],'"></stop>\n        </linearGradient>\n        <linearGradient id="').concat(t,'_linearColors4" x1="1" y1="1" x2="0" y2="0">\n            <stop offset="0%" stop-color="').concat(r[3],'"></stop>\n            <stop offset="100%" stop-color="').concat(r[4],'"></stop>\n        </linearGradient>\n        <linearGradient id="').concat(t,'_linearColors5" x1="0.5" y1="1" x2="0.5" y2="0">\n            <stop offset="0%" stop-color="').concat(r[4],'"></stop>\n            <stop offset="100%" stop-color="').concat(r[5],'"></stop>\n        </linearGradient>\n        <linearGradient id="').concat(t,'_linearColors6" x1="0" y1="1" x2="1" y2="0">\n            <stop offset="0%" stop-color="').concat(r[5],'"></stop>\n            <stop offset="100%" stop-color="').concat(r[0],'"></stop>\n        </linearGradient>        \n        <g id="').concat(t,'">\n            <path stroke-width="').concat(o,'" fill="none" stroke="url(#').concat(t,'_linearColors1)" d="').concat(s(i,i,i,1,60),'"  />\n            <path stroke-width="').concat(o,'" fill="none" stroke="url(#').concat(t,'_linearColors2)" d="').concat(s(i,i,i,60,120),'"/>\n            <path stroke-width="').concat(o,'" fill="none" stroke="url(#').concat(t,'_linearColors3)" d="').concat(s(i,i,i,120,180),'" />\n            <path stroke-width="').concat(o,'" fill="none" stroke="url(#').concat(t,'_linearColors4)" d="').concat(s(i,i,i,180,240),'" />\n            <path stroke-width="').concat(o,'" fill="none" stroke="url(#').concat(t,'_linearColors5)" d="').concat(s(i,i,i,240,300),'" />\n            <path stroke-width="').concat(o,'" fill="none" stroke="url(#').concat(t,'_linearColors6)" d="').concat(s(i,i,i,300,1),'"/>\n        </g>')},e._intersectionObserver=function(t,r){typeof IntersectionObserver=="function"?new IntersectionObserver(function(i,o){i.forEach(function(a){var s=a.intersectionRatio>0;a.intersectionRatio==0&&(s=a.isIntersecting),r(s)})}).observe(t):r(!0)},e.convertCsvToNodes=function(t){for(var r=e._csvToArray(t),i=r[0],o=[],a=1;a<r.length;a++){for(var s={},l=0;l<r[a].length;l++){var c=i[l],d=r[a][l];s[i[l]]=e._convertStringToArray(c,d)}s.id.trim()!=""&&o.push(s)}return o},e._escapeHtml=function(t){return e.ESCAPE_HTML&&typeof t=="string"?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):t},e._escapeDoubleQuotes=function(t){return typeof t=="string"?t.replace(/"/g,"&quot;"):t},e._escapeGreaterLessSign=function(t){return typeof t=="string"?t.replace(/</g,"&lt;").replace(/>/g,"&gt;"):t},e.roundPathCorners=function(t,r,i){function o(I,E,A){var T=E.x-I.x,P=E.y-I.y,O=Math.sqrt(T*T+P*P);return a(I,E,Math.min(1,A/O))}function a(I,E,A){return{x:I.x+(E.x-I.x)*A,y:I.y+(E.y-I.y)*A}}function s(I,E){I.length>2&&(I[I.length-2]=E.x,I[I.length-1]=E.y)}function l(I){return{x:parseFloat(I[I.length-2]),y:parseFloat(I[I.length-1])}}Array.isArray(t)||(t=(t=t.split(/[,\s]/).reduce(function(I,E){var A=E.match("([a-zA-Z])(.+)");return A?(I.push(A[1]),I.push(A[2])):I.push(E),I},[])).reduce(function(I,E){return parseFloat(E)==E&&I.length?I[I.length-1].push(E):I.push([E]),I},[]));var c=[];if(t.length>1){var d=l(t[0]),f=null;t[t.length-1][0]=="Z"&&t[0].length>2&&(f=["L",d.x,d.y],t[t.length-1]=f),c.push(t[0]);for(var u=1;u<t.length;u++){var p=c[c.length-1],g=t[u],m=g==f?t[1]:t[u+1];if(m&&p&&p.length>2&&g[0]=="L"&&m.length>2&&m[0]=="L"){var w,y,x=l(p),v=l(g),S=l(m);i?(w=a(v,p.origPoint||x,r),y=a(v,m.origPoint||S,r)):(w=o(v,x,r),y=o(v,S,r)),s(g,w),g.origPoint=v,c.push(g);var _=a(w,v,.5),b=a(v,y,.5),C=["C",_.x,_.y,b.x,b.y,y.x,y.y];C.origPoint=v,c.push(C)}else c.push(g)}if(f){var N=l(c[c.length-1]);c.push(["Z"]),s(c[0],N)}}else c=t;return c.reduce(function(I,E){return I+E.join(" ")+" "},"")},e._isMoved=function(t){return t.movex!=null||t.movey!=null},e._getDynamicGridCoulumns=function(t){for(var r=1;r<t&&!(t/r-r<=0);r++);return r%2!=0&&r>2&&r--,r},e._changeRootOption=function(t,r,i){for(var o=[],a=0;a<r.length;a++)for(var s=0;s<i.length;s++)if(i[s].has(r[a])){o=i[s];break}for(a=0;a<o.length;a++){var l=t.indexOf(o[a]);l!=-1&&t.splice(l,1)}r.length&&t.push(r[0])},e._convertStringToArrayOnImport=function(t,r){return t=="tags"||t=="pids"?e.isNEU(r)?[]:r.split(","):r},e===void 0&&(e={}),e.icon={},e.icon.png=function(t,r,i){return'<svg width="'+t+'" height="'+r+'" viewBox="0 0 550.801 550.801"><path fill="'+i+'" d="M146.747,276.708c0-13.998-9.711-22.352-26.887-22.352c-6.99,0-11.726,0.675-14.204,1.355v44.927 c2.932,0.676,6.539,0.896,11.52,0.896C135.449,301.546,146.747,292.28,146.747,276.708z"/><path fill="'+i+'" d="M488.426,197.019H475.2v-63.816c0-0.398-0.063-0.799-0.116-1.202c-0.021-2.534-0.827-5.023-2.562-6.995L366.325,3.694 c-0.032-0.031-0.063-0.042-0.085-0.076c-0.633-0.707-1.371-1.295-2.151-1.804c-0.231-0.155-0.464-0.285-0.706-0.419 c-0.676-0.369-1.393-0.675-2.131-0.896c-0.2-0.056-0.38-0.138-0.58-0.19C359.87,0.119,359.037,0,358.193,0H97.2 c-11.918,0-21.6,9.693-21.6,21.601v175.413H62.377c-17.049,0-30.873,13.818-30.873,30.873v160.545 c0,17.043,13.824,30.87,30.873,30.87h13.224V529.2c0,11.907,9.682,21.601,21.6,21.601h356.4c11.907,0,21.6-9.693,21.6-21.601 V419.302h13.226c17.044,0,30.871-13.827,30.871-30.87v-160.54C519.297,210.838,505.47,197.019,488.426,197.019z M97.2,21.605 h250.193v110.513c0,5.967,4.841,10.8,10.8,10.8h95.407v54.108H97.2V21.605z M234.344,335.86v45.831h-31.601V229.524h40.184 l31.611,55.759c9.025,16.031,18.064,34.983,24.825,52.154h0.675c-2.257-20.103-2.933-40.643-2.933-63.44v-44.473h31.614v152.167 h-36.117l-32.516-58.703c-9.049-16.253-18.971-35.892-26.438-53.727l-0.665,0.222C233.906,289.58,234.344,311.027,234.344,335.86z M71.556,381.691V231.56c10.613-1.804,25.516-3.159,46.506-3.159c21.215,0,36.353,4.061,46.509,12.192 c9.698,7.673,16.255,20.313,16.255,35.219c0,14.897-4.959,27.549-13.999,36.123c-11.738,11.063-29.123,16.031-49.441,16.031 c-4.522,0-8.593-0.231-11.736-0.675v54.411H71.556V381.691z M453.601,523.353H97.2V419.302h356.4V523.353z M485.652,374.688 c-10.61,3.607-30.713,8.585-50.805,8.585c-27.759,0-47.872-7.003-61.857-20.545c-13.995-13.1-21.684-32.97-21.452-55.318 c0.222-50.569,37.03-79.463,86.917-79.463c19.644,0,34.783,3.829,42.219,7.446l-7.214,27.543c-8.369-3.617-18.752-6.55-35.458-6.55 c-28.656,0-50.341,16.256-50.341,49.22c0,31.382,19.649,49.892,47.872,49.892c7.895,0,14.218-0.901,16.934-2.257v-31.835h-23.493 v-26.869h56.679V374.688z"/></svg>'},e.icon.pdf=function(t,r,i){return'<svg width="'+t+'" height="'+r+'" viewBox="0 0 550.801 550.801"><path fill="'+i+'" d="M160.381,282.225c0-14.832-10.299-23.684-28.474-23.684c-7.414,0-12.437,0.715-15.071,1.432V307.6 c3.114,0.707,6.942,0.949,12.192,0.949C148.419,308.549,160.381,298.74,160.381,282.225z"/><path fill="'+i+'" d="M272.875,259.019c-8.145,0-13.397,0.717-16.519,1.435v105.523c3.116,0.729,8.142,0.729,12.69,0.729 c33.017,0.231,54.554-17.946,54.554-56.474C323.842,276.719,304.215,259.019,272.875,259.019z"/><path fill="'+i+'" d="M488.426,197.019H475.2v-63.816c0-0.398-0.063-0.799-0.116-1.202c-0.021-2.534-0.827-5.023-2.562-6.995L366.325,3.694 c-0.032-0.031-0.063-0.042-0.085-0.076c-0.633-0.707-1.371-1.295-2.151-1.804c-0.231-0.155-0.464-0.285-0.706-0.419 c-0.676-0.369-1.393-0.675-2.131-0.896c-0.2-0.056-0.38-0.138-0.58-0.19C359.87,0.119,359.037,0,358.193,0H97.2 c-11.918,0-21.6,9.693-21.6,21.601v175.413H62.377c-17.049,0-30.873,13.818-30.873,30.873v160.545 c0,17.043,13.824,30.87,30.873,30.87h13.224V529.2c0,11.907,9.682,21.601,21.6,21.601h356.4c11.907,0,21.6-9.693,21.6-21.601 V419.302h13.226c17.044,0,30.871-13.827,30.871-30.87v-160.54C519.297,210.838,505.47,197.019,488.426,197.019z M97.2,21.605 h250.193v110.513c0,5.967,4.841,10.8,10.8,10.8h95.407v54.108H97.2V21.605z M362.359,309.023c0,30.876-11.243,52.165-26.82,65.333 c-16.971,14.117-42.82,20.814-74.396,20.814c-18.9,0-32.297-1.197-41.401-2.389V234.365c13.399-2.149,30.878-3.346,49.304-3.346 c30.612,0,50.478,5.508,66.039,17.226C351.828,260.69,362.359,280.547,362.359,309.023z M80.7,393.499V234.365 c11.241-1.904,27.042-3.346,49.296-3.346c22.491,0,38.527,4.308,49.291,12.928c10.292,8.131,17.215,21.534,17.215,37.328 c0,15.799-5.25,29.198-14.829,38.285c-12.442,11.728-30.865,16.996-52.407,16.996c-4.778,0-9.1-0.243-12.435-0.723v57.67H80.7 V393.499z M453.601,523.353H97.2V419.302h356.4V523.353z M484.898,262.127h-61.989v36.851h57.913v29.674h-57.913v64.848h-36.593 V232.216h98.582V262.127z"/></svg>'},e.icon.svg=function(t,r,i){return'<svg width="'+t+'" height="'+r+'" viewBox="0 0 550.801 550.801"><path fill="'+i+'" d="M488.426,197.019H475.2v-63.816c0-0.398-0.063-0.799-0.116-1.202c-0.021-2.534-0.827-5.023-2.562-6.995L366.325,3.694 c-0.032-0.031-0.063-0.042-0.085-0.076c-0.633-0.707-1.371-1.295-2.151-1.804c-0.231-0.155-0.464-0.285-0.706-0.419 c-0.676-0.369-1.393-0.675-2.131-0.896c-0.2-0.056-0.38-0.138-0.58-0.19C359.87,0.119,359.037,0,358.193,0H97.2 c-11.918,0-21.6,9.693-21.6,21.601v175.413H62.377c-17.049,0-30.873,13.818-30.873,30.873v160.545 c0,17.043,13.824,30.87,30.873,30.87h13.224V529.2c0,11.907,9.682,21.601,21.6,21.601h356.4c11.907,0,21.6-9.693,21.6-21.601 V419.302h13.226c17.044,0,30.871-13.827,30.871-30.87v-160.54C519.297,210.838,505.47,197.019,488.426,197.019z M97.2,21.605 h250.193v110.513c0,5.967,4.841,10.8,10.8,10.8h95.407v54.108H97.2V21.605z M338.871,225.672L284.545,386.96h-42.591 l-51.69-161.288h39.967l19.617,68.196c5.508,19.143,10.531,37.567,14.36,57.67h0.717c4.061-19.385,9.089-38.527,14.592-56.953 l20.585-68.918h38.77V225.672z M68.458,379.54l7.415-30.153c9.811,5.021,24.888,10.051,40.439,10.051 c16.751,0,25.607-6.935,25.607-17.465c0-10.052-7.662-15.795-27.05-22.734c-26.8-9.328-44.263-24.168-44.263-47.611 c0-27.524,22.971-48.579,61.014-48.579c18.188,0,31.591,3.823,41.159,8.131l-8.126,29.437c-6.465-3.116-17.945-7.657-33.745-7.657 c-15.791,0-23.454,7.183-23.454,15.552c0,10.296,9.089,14.842,29.917,22.731c28.468,10.536,41.871,25.365,41.871,48.094 c0,27.042-20.812,50.013-65.09,50.013C95.731,389.349,77.538,384.571,68.458,379.54z M453.601,523.353H97.2V419.302h356.4V523.353z M488.911,379.54c-11.243,3.823-32.537,9.103-53.831,9.103c-29.437,0-50.73-7.426-65.57-21.779 c-14.839-13.875-22.971-34.942-22.738-58.625c0.253-53.604,39.255-84.235,92.137-84.235c20.81,0,36.852,4.073,44.74,7.896 l-7.657,29.202c-8.859-3.829-19.849-6.95-37.567-6.95c-30.396,0-53.357,17.233-53.357,52.173c0,33.265,20.81,52.882,50.73,52.882 c8.375,0,15.072-0.96,17.94-2.395v-33.745h-24.875v-28.471h60.049V379.54L488.911,379.54z" /></svg>'},e.icon.csv=function(t,r,i){return'<svg width="'+t+'" height="'+r+'" viewBox="0 0 548.29 548.291" ><path fill="'+i+'" d="M486.2,196.121h-13.164V132.59c0-0.399-0.064-0.795-0.116-1.2c-0.021-2.52-0.824-5-2.551-6.96L364.656,3.677 c-0.031-0.034-0.064-0.044-0.085-0.075c-0.629-0.707-1.364-1.292-2.141-1.796c-0.231-0.157-0.462-0.286-0.704-0.419 c-0.672-0.365-1.386-0.672-2.121-0.893c-0.199-0.052-0.377-0.134-0.576-0.188C358.229,0.118,357.4,0,356.562,0H96.757 C84.893,0,75.256,9.649,75.256,21.502v174.613H62.093c-16.972,0-30.733,13.756-30.733,30.73v159.81 c0,16.966,13.761,30.736,30.733,30.736h13.163V526.79c0,11.854,9.637,21.501,21.501,21.501h354.777 c11.853,0,21.502-9.647,21.502-21.501V417.392H486.2c16.966,0,30.729-13.764,30.729-30.731v-159.81 C516.93,209.872,503.166,196.121,486.2,196.121z M96.757,21.502h249.053v110.006c0,5.94,4.818,10.751,10.751,10.751h94.973v53.861 H96.757V21.502z M258.618,313.18c-26.68-9.291-44.063-24.053-44.063-47.389c0-27.404,22.861-48.368,60.733-48.368 c18.107,0,31.447,3.811,40.968,8.107l-8.09,29.3c-6.43-3.107-17.862-7.632-33.59-7.632c-15.717,0-23.339,7.149-23.339,15.485 c0,10.247,9.047,14.769,29.78,22.632c28.341,10.479,41.681,25.239,41.681,47.874c0,26.909-20.721,49.786-64.792,49.786 c-18.338,0-36.449-4.776-45.497-9.77l7.38-30.016c9.772,5.014,24.775,10.006,40.264,10.006c16.671,0,25.488-6.908,25.488-17.396 C285.536,325.789,277.909,320.078,258.618,313.18z M69.474,302.692c0-54.781,39.074-85.269,87.654-85.269 c18.822,0,33.113,3.811,39.549,7.149l-7.392,28.816c-7.38-3.084-17.632-5.939-30.491-5.939c-28.822,0-51.206,17.375-51.206,53.099 c0,32.158,19.051,52.4,51.456,52.4c10.947,0,23.097-2.378,30.241-5.238l5.483,28.346c-6.672,3.34-21.674,6.919-41.208,6.919 C98.06,382.976,69.474,348.424,69.474,302.692z M451.534,520.962H96.757v-103.57h354.777V520.962z M427.518,380.583h-42.399 l-51.45-160.536h39.787l19.526,67.894c5.479,19.046,10.479,37.386,14.299,57.397h0.709c4.048-19.298,9.045-38.352,14.526-56.693 l20.487-68.598h38.599L427.518,380.583z" /></svg>'},e.icon.json=function(t,r,i){return'<svg width="'+t+'" height="'+r+'" viewBox="0 0 32 32" ><polygon fill="'+i+'"  points="31 11 31 21 29 21 27 15 27 21 25 21 25 11 27 11 29 17 29 11 31 11"/><path fill="'+i+'"  d="M21.3335,21h-2.667A1.6684,1.6684,0,0,1,17,19.3335v-6.667A1.6684,1.6684,0,0,1,18.6665,11h2.667A1.6684,1.6684,0,0,1,23,12.6665v6.667A1.6684,1.6684,0,0,1,21.3335,21ZM19,19h2V13H19Z"/><path fill="'+i+'"  d="M13.3335,21H9V19h4V17H11a2.002,2.002,0,0,1-2-2V12.6665A1.6684,1.6684,0,0,1,10.6665,11H15v2H11v2h2a2.002,2.002,0,0,1,2,2v2.3335A1.6684,1.6684,0,0,1,13.3335,21Z"/><path fill="'+i+'"  d="M5.3335,21H2.6665A1.6684,1.6684,0,0,1,1,19.3335V17H3v2H5V11H7v8.3335A1.6684,1.6684,0,0,1,5.3335,21Z"/><rect fill="'+i+'"  id="_Transparent_Rectangle_" data-name="&lt;Transparent Rectangle&gt;" style="fill: none;" width="32" height="32"/></svg>'},e.icon.excel=function(t,r,i){return'<svg width="'+t+'" height="'+r+'" viewBox="0 0 512 512"><path fill="#ECEFF1" d="M496,432.011H272c-8.832,0-16-7.168-16-16s0-311.168,0-320s7.168-16,16-16h224 c8.832,0,16,7.168,16,16v320C512,424.843,504.832,432.011,496,432.011z" /><path fill="'+i+'" d="M336,176.011h-64c-8.832,0-16-7.168-16-16s7.168-16,16-16h64c8.832,0,16,7.168,16,16 S344.832,176.011,336,176.011z" /><path fill="'+i+'" d="M336,240.011h-64c-8.832,0-16-7.168-16-16s7.168-16,16-16h64c8.832,0,16,7.168,16,16 S344.832,240.011,336,240.011z" /><path fill="'+i+'" d="M336,304.011h-64c-8.832,0-16-7.168-16-16s7.168-16,16-16h64c8.832,0,16,7.168,16,16 S344.832,304.011,336,304.011z" /><path fill="'+i+'" d="M336,368.011h-64c-8.832,0-16-7.168-16-16s7.168-16,16-16h64c8.832,0,16,7.168,16,16 S344.832,368.011,336,368.011z" /><path fill="'+i+'" d="M432,176.011h-32c-8.832,0-16-7.168-16-16s7.168-16,16-16h32c8.832,0,16,7.168,16,16 S440.832,176.011,432,176.011z" /><path fill="'+i+'" d="M432,240.011h-32c-8.832,0-16-7.168-16-16s7.168-16,16-16h32c8.832,0,16,7.168,16,16 S440.832,240.011,432,240.011z" /><path fill="'+i+'" d="M432,304.011h-32c-8.832,0-16-7.168-16-16s7.168-16,16-16h32c8.832,0,16,7.168,16,16 S440.832,304.011,432,304.011z" /><path fill="'+i+'" d="M432,368.011h-32c-8.832,0-16-7.168-16-16s7.168-16,16-16h32c8.832,0,16,7.168,16,16 S440.832,368.011,432,368.011z" /><path fill="'+i+'"  d="M282.208,19.691c-3.648-3.04-8.544-4.352-13.152-3.392l-256,48C5.472,65.707,0,72.299,0,80.011v352 c0,7.68,5.472,14.304,13.056,15.712l256,48c0.96,0.192,1.952,0.288,2.944,0.288c3.712,0,7.328-1.28,10.208-3.68 c3.68-3.04,5.792-7.584,5.792-12.32v-448C288,27.243,285.888,22.731,282.208,19.691z" /><path fill="#FAFAFA" d="M220.032,309.483l-50.592-57.824l51.168-65.792c5.44-6.976,4.16-17.024-2.784-22.464 c-6.944-5.44-16.992-4.16-22.464,2.784l-47.392,60.928l-39.936-45.632c-5.856-6.72-15.968-7.328-22.56-1.504 c-6.656,5.824-7.328,15.936-1.504,22.56l44,50.304L83.36,310.187c-5.44,6.976-4.16,17.024,2.784,22.464 c2.944,2.272,6.432,3.36,9.856,3.36c4.768,0,9.472-2.112,12.64-6.176l40.8-52.48l46.528,53.152 c3.168,3.648,7.584,5.504,12.032,5.504c3.744,0,7.488-1.312,10.528-3.968C225.184,326.219,225.856,316.107,220.032,309.483z" /></svg>'},e.icon.edit=function(t,r,i){return'<svg width="'+t+'" height="'+r+'" viewBox="0 0 528.899 528.899"><path fill="'+i+'" d="M328.883,89.125l107.59,107.589l-272.34,272.34L56.604,361.465L328.883,89.125z M518.113,63.177l-47.981-47.981 c-18.543-18.543-48.653-18.543-67.259,0l-45.961,45.961l107.59,107.59l53.611-53.611 C532.495,100.753,532.495,77.559,518.113,63.177z M0.3,512.69c-1.958,8.812,5.998,16.708,14.811,14.565l119.891-29.069 L27.473,390.597L0.3,512.69z" /></svg>'},e.icon.details=function(t,r,i){return'<svg width="'+t+'" height="'+r+'" viewBox="0 0 512 512"><path fill="'+i+'" d="M447.933,103.629c-0.034-3.076-1.224-6.09-3.485-8.352L352.683,3.511c-0.004-0.004-0.007-0.005-0.011-0.008 C350.505,1.338,347.511,0,344.206,0H89.278C75.361,0,64.04,11.32,64.04,25.237v461.525c0,13.916,11.32,25.237,25.237,25.237 h333.444c13.916,0,25.237-11.32,25.237-25.237V103.753C447.96,103.709,447.937,103.672,447.933,103.629z M356.194,40.931 l50.834,50.834h-49.572c-0.695,0-1.262-0.567-1.262-1.262V40.931z M423.983,486.763c0,0.695-0.566,1.261-1.261,1.261H89.278 c-0.695,0-1.261-0.566-1.261-1.261V25.237c0-0.695,0.566-1.261,1.261-1.261h242.94v66.527c0,13.916,11.322,25.239,25.239,25.239 h66.527V486.763z"/><path fill="'+i+'" d="M362.088,164.014H149.912c-6.62,0-11.988,5.367-11.988,11.988c0,6.62,5.368,11.988,11.988,11.988h212.175 c6.62,0,11.988-5.368,11.988-11.988C374.076,169.381,368.707,164.014,362.088,164.014z"/><path fill="'+i+'" d="M362.088,236.353H149.912c-6.62,0-11.988,5.368-11.988,11.988c0,6.62,5.368,11.988,11.988,11.988h212.175 c6.62,0,11.988-5.368,11.988-11.988C374.076,241.721,368.707,236.353,362.088,236.353z"/><path fill="'+i+'" d="M362.088,308.691H149.912c-6.62,0-11.988,5.368-11.988,11.988c0,6.621,5.368,11.988,11.988,11.988h212.175 c6.62,0,11.988-5.367,11.988-11.988C374.076,314.06,368.707,308.691,362.088,308.691z"/><path fill="'+i+'" d="M256,381.031H149.912c-6.62,0-11.988,5.368-11.988,11.988c0,6.621,5.368,11.988,11.988,11.988H256 c6.62,0,11.988-5.367,11.988-11.988C267.988,386.398,262.62,381.031,256,381.031z"/></svg>'},e.icon.remove=function(t,r,i){return'<svg width="'+t+'" height="'+r+'"  viewBox="0 0 900.5 900.5"><path fill="'+i+'" d="M176.415,880.5c0,11.046,8.954,20,20,20h507.67c11.046,0,20-8.954,20-20V232.487h-547.67V880.5L176.415,880.5z M562.75,342.766h75v436.029h-75V342.766z M412.75,342.766h75v436.029h-75V342.766z M262.75,342.766h75v436.029h-75V342.766z"/><path fill="'+i+'" d="M618.825,91.911V20c0-11.046-8.954-20-20-20h-297.15c-11.046,0-20,8.954-20,20v71.911v12.5v12.5H141.874 c-11.046,0-20,8.954-20,20v50.576c0,11.045,8.954,20,20,20h34.541h547.67h34.541c11.046,0,20-8.955,20-20v-50.576 c0-11.046-8.954-20-20-20H618.825v-12.5V91.911z M543.825,112.799h-187.15v-8.389v-12.5V75h187.15v16.911v12.5V112.799z"/></svg>'},e.icon.add=function(t,r,i){return'<svg width="'+t+'" height="'+r+'"   viewBox="0 0 922 922"><path fill="'+i+'" d="M922,453V81c0-11.046-8.954-20-20-20H410c-11.045,0-20,8.954-20,20v149h318c24.812,0,45,20.187,45,45v198h149 C913.046,473.001,922,464.046,922,453z" /><path fill="'+i+'" d="M557,667.001h151c11.046,0,20-8.954,20-20v-174v-198c0-11.046-8.954-20-20-20H390H216c-11.045,0-20,8.954-20,20v149h194 h122c24.812,0,45,20.187,45,45v4V667.001z" /><path fill="'+i+'" d="M0,469v372c0,11.046,8.955,20,20,20h492c11.046,0,20-8.954,20-20V692v-12.501V667V473v-4c0-11.046-8.954-20-20-20H390H196 h-12.5H171H20C8.955,449,0,457.955,0,469z" /></svg>'},e.icon.search=function(t,r,i){return'<svg width="'+t+'" height="'+r+'" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 485.213 485.213"><path fill="'+i+'" d="M471.882,407.567L360.567,296.243c-16.586,25.795-38.536,47.734-64.331,64.321l111.324,111.324 c17.772,17.768,46.587,17.768,64.321,0C489.654,454.149,489.654,425.334,471.882,407.567z" /><path fill="'+i+'" d="M363.909,181.955C363.909,81.473,282.44,0,181.956,0C81.474,0,0.001,81.473,0.001,181.955s81.473,181.951,181.955,181.951 C282.44,363.906,363.909,282.437,363.909,181.955z M181.956,318.416c-75.252,0-136.465-61.208-136.465-136.46 c0-75.252,61.213-136.465,136.465-136.465c75.25,0,136.468,61.213,136.468,136.465 C318.424,257.208,257.206,318.416,181.956,318.416z" /><path fill="'+i+'" d="M75.817,181.955h30.322c0-41.803,34.014-75.814,75.816-75.814V75.816C123.438,75.816,75.817,123.437,75.817,181.955z" /></svg>'},e.icon.xml=function(t,r,i){return'<svg width="'+t+'" height="'+r+'" viewBox="0 0 550.801 550.801"><path fill="'+i+'"  d="M488.426,197.019H475.2v-63.816c0-0.401-0.063-0.799-0.116-1.205c-0.021-2.534-0.827-5.023-2.562-6.992L366.325,3.691 c-0.032-0.031-0.063-0.042-0.085-0.073c-0.633-0.707-1.371-1.298-2.151-1.804c-0.231-0.158-0.464-0.287-0.706-0.422 c-0.676-0.366-1.393-0.675-2.131-0.896c-0.2-0.053-0.38-0.135-0.58-0.19C359.87,0.119,359.037,0,358.193,0H97.2 c-11.918,0-21.6,9.693-21.6,21.601v175.413H62.377c-17.049,0-30.873,13.818-30.873,30.87v160.542 c0,17.044,13.824,30.876,30.873,30.876h13.224V529.2c0,11.907,9.682,21.601,21.6,21.601h356.4c11.907,0,21.6-9.693,21.6-21.601 V419.302h13.226c17.044,0,30.871-13.827,30.871-30.87V227.89C519.297,210.838,505.47,197.019,488.426,197.019z M97.2,21.605 h250.193v110.51c0,5.967,4.841,10.8,10.8,10.8h95.407v54.108H97.2V21.605z M369.531,374.53h-32.058l-2.156-55.519 c-0.644-17.434-1.298-38.518-1.298-59.611h-0.633c-4.514,18.516-10.547,39.166-16.137,56.162l-17.645,56.601h-25.618 l-15.494-56.157c-4.725-16.996-9.671-37.658-13.123-56.6h-0.43c-0.854,19.585-1.508,41.961-2.586,60.038l-2.576,55.086h-30.343 l9.26-145.035h43.677l14.207,48.421c4.517,16.774,9.041,34.847,12.258,51.843h0.654c4.081-16.77,9.038-35.923,13.774-52.064 l15.493-48.199h42.82L369.531,374.53z M69.992,374.53l41.955-73.385l-40.444-71.65h37.655l12.688,26.465 c4.316,8.828,7.533,15.928,10.99,24.092h0.422c3.438-9.242,6.23-15.694,9.893-24.092l12.274-26.465h37.434l-40.89,70.796 l43.044,74.239h-37.866l-13.134-26.257c-5.376-10.108-8.817-17.639-12.909-26.04h-0.433c-3.009,8.401-6.674,15.932-11.19,26.04 l-12.042,26.257H69.992z M453.601,523.353H97.2V419.302h356.4V523.353z M485.325,374.53h-90.608V229.495h32.933v117.497h57.682 v27.538H485.325z"/></svg>'},e.icon.link=function(t,r,i){return'<svg width="'+t+'" height="'+r+'" viewBox="0 0 512.092 512.092"  ><path fill="'+i+'" d="M312.453,199.601c-6.066-6.102-12.792-11.511-20.053-16.128c-19.232-12.315-41.59-18.859-64.427-18.859 c-31.697-0.059-62.106,12.535-84.48,34.987L34.949,308.23c-22.336,22.379-34.89,52.7-34.91,84.318 c-0.042,65.98,53.41,119.501,119.39,119.543c31.648,0.11,62.029-12.424,84.395-34.816l89.6-89.6 c1.628-1.614,2.537-3.816,2.524-6.108c-0.027-4.713-3.87-8.511-8.583-8.484h-3.413c-18.72,0.066-37.273-3.529-54.613-10.581 c-3.195-1.315-6.867-0.573-9.301,1.877l-64.427,64.512c-20.006,20.006-52.442,20.006-72.448,0 c-20.006-20.006-20.006-52.442,0-72.448l108.971-108.885c19.99-19.965,52.373-19.965,72.363,0 c13.472,12.679,34.486,12.679,47.957,0c5.796-5.801,9.31-13.495,9.899-21.675C322.976,216.108,319.371,206.535,312.453,199.601z" /><path fill="'+i+'" d="M477.061,34.993c-46.657-46.657-122.303-46.657-168.96,0l-89.515,89.429c-2.458,2.47-3.167,6.185-1.792,9.387 c1.359,3.211,4.535,5.272,8.021,5.205h3.157c18.698-0.034,37.221,3.589,54.528,10.667c3.195,1.315,6.867,0.573,9.301-1.877 l64.256-64.171c20.006-20.006,52.442-20.006,72.448,0c20.006,20.006,20.006,52.442,0,72.448l-80.043,79.957l-0.683,0.768 l-27.989,27.819c-19.99,19.965-52.373,19.965-72.363,0c-13.472-12.679-34.486-12.679-47.957,0 c-5.833,5.845-9.35,13.606-9.899,21.845c-0.624,9.775,2.981,19.348,9.899,26.283c9.877,9.919,21.433,18.008,34.133,23.893 c1.792,0.853,3.584,1.536,5.376,2.304c1.792,0.768,3.669,1.365,5.461,2.048c1.792,0.683,3.669,1.28,5.461,1.792l5.035,1.365 c3.413,0.853,6.827,1.536,10.325,2.133c4.214,0.626,8.458,1.025,12.715,1.195h5.973h0.512l5.12-0.597 c1.877-0.085,3.84-0.512,6.059-0.512h2.901l5.888-0.853l2.731-0.512l4.949-1.024h0.939c20.961-5.265,40.101-16.118,55.381-31.403 l108.629-108.629C523.718,157.296,523.718,81.65,477.061,34.993z" /></svg>'},e.icon.happy=function(t,r,i){return'<svg width="'+t+'" height="'+r+'" viewBox="0 0 512 512"><path fill="'+i+'" d="M256,0C114.615,0,0,114.615,0,256s114.615,256,256,256s256-114.615,256-256S397.385,0,256,0z M256,480 C132.288,480,32,379.712,32,256S132.288,32,256,32s224,100.288,224,224S379.712,480,256,480z"/><path fill="'+i+'" d="M176,176c17.673,0,32,14.327,32,32h32c0-35.346-28.654-64-64-64c-35.346,0-64,28.654-64,64h32 C144,190.327,158.327,176,176,176z"/><path fill="'+i+'" d="M336,144c-35.346,0-64,28.654-64,64h32c0-17.673,14.327-32,32-32c17.673,0,32,14.327,32,32h32 C400,172.654,371.346,144,336,144z"/><path fill="'+i+'" d="M256,368c-53.019,0-96-42.981-96-96h-32c0,70.692,57.308,128,128,128s128-57.308,128-128h-32 C352,325.019,309.019,368,256,368z"/></svg>'},e.icon.sad=function(t,r,i){return'<svg width="'+t+'" height="'+r+'" viewBox="0 0 512 512"><path fill="'+i+'" d="M256,0C114.615,0,0,114.615,0,256s114.615,256,256,256s256-114.615,256-256S397.385,0,256,0z M256,480 C132.288,480,32,379.712,32,256S132.288,32,256,32s224,100.288,224,224S379.712,480,256,480z"/><path fill="'+i+'" d="M336,192c-17.673,0-32-14.327-32-32h-32c0,35.346,28.654,64,64,64c35.346,0,64-28.654,64-64h-32 C368,177.673,353.673,192,336,192z"/><path fill="'+i+'" d="M176,224c35.346,0,64-28.654,64-64h-32c0,17.673-14.327,32-32,32s-32-14.327-32-32h-32C112,195.346,140.654,224,176,224z "/><path fill="'+i+'" d="M256,256c-70.692,0-128,57.308-128,128h32c0-53.019,42.981-96,96-96s96,42.981,96,96h32C384,313.308,326.692,256,256,256 z"/></svg>'},e.icon.share=function(t,r,i,o,a){return o==null&&(o=0),a==null&&(a=0),'<svg width="'.concat(t,'" height="').concat(r,'" x="').concat(o,'" y="').concat(a,'" viewBox="0 0 512 512">\n                <path fill="').concat(i,'" d="M406,332c-29.641,0-55.761,14.581-72.167,36.755L191.99,296.124c2.355-8.027,4.01-16.346,4.01-25.124\n                    c0-11.906-2.441-23.225-6.658-33.636l148.445-89.328C354.307,167.424,378.589,180,406,180c49.629,0,90-40.371,90-90\n                    c0-49.629-40.371-90-90-90c-49.629,0-90,40.371-90,90c0,11.437,2.355,22.286,6.262,32.358l-148.887,89.59\n                    C156.869,193.136,132.937,181,106,181c-49.629,0-90,40.371-90,90c0,49.629,40.371,90,90,90c30.13,0,56.691-15.009,73.035-37.806\n                    l141.376,72.395C317.807,403.995,316,412.75,316,422c0,49.629,40.371,90,90,90c49.629,0,90-40.371,90-90\n                    C496,372.371,455.629,332,406,332z"/>\n                </svg>')},e.icon.user=function(t,r,i,o,a){return e.isNEU(o)&&(o=0),e.isNEU(a)&&(a=0),'<svg width="'.concat(t,'" height="').concat(r,'" x="').concat(o,'" y="').concat(a,'" viewBox="0 0 24 24">\n                <path fill="').concat(i,'" d="M12 11.796C14.7189 11.796 16.9231 9.60308 16.9231 6.89801C16.9231 4.19294 14.7189 2.00005 12 2.00005C9.28106 2.00005 7.07692 4.19294 7.07692 6.89801C7.07692 9.60308 9.28106 11.796 12 11.796Z" fill="#030D45"/>\n                <path fill="').concat(i,'" d="M14.5641 13.8369H9.4359C6.46154 13.8369 4 16.2859 4 19.245C4 19.9593 4.30769 20.5716 4.92308 20.8777C5.84615 21.3879 7.89744 22.0001 12 22.0001C16.1026 22.0001 18.1538 21.3879 19.0769 20.8777C19.5897 20.5716 20 19.9593 20 19.245C20 16.1838 17.5385 13.8369 14.5641 13.8369Z" fill="#030D45"/>\n            </svg>')},e.icon.close=function(t,r,i,o,a){return o==null&&(o=0),a==null&&(a=0),'<svg width="'.concat(t,'" height="').concat(r,'" x="').concat(o,'" y="').concat(a,'" viewBox="0 0 512 512">\n    <path fill="').concat(i,'" d="m256 0c-141.49 0-256 114.5-256 256 0 141.49 114.5 256 256 256 141.49 0 256-114.5 256-256 0-141.49-114.5-256-256-256zm-12.284 317.397-58.121 58.132c-6.565 6.553-15.283 10.166-24.557 10.166-19.196 0-34.734-15.526-34.734-34.734 0-9.274 3.612-17.992 10.166-24.557l58.132-58.121c6.785-6.784 6.785-17.783 0-24.568l-58.132-58.121c-6.553-6.565-10.166-15.283-10.166-24.557 0-19.196 15.526-34.734 34.734-34.734 9.274 0 17.992 3.613 24.557 10.166l58.121 58.132c6.785 6.773 17.784 6.773 24.568 0l58.121-58.132c6.565-6.553 15.283-10.166 24.557-10.166 19.196 0 34.734 15.526 34.734 34.734 0 9.274-3.612 17.992-10.166 24.557l-58.132 58.121c-6.785 6.784-6.785 17.783 0 24.568l58.132 58.121c6.553 6.565 10.166 15.283 10.166 24.557 0 19.196-15.526 34.734-34.734 34.734-9.274 0-17.992-3.613-24.557-10.166l-58.121-58.132c-6.784-6.784-17.784-6.773-24.568 0z"/>\n    </svg>')},e.icon.undo=function(t,r,i,o,a){return o==null&&(o=0),a==null&&(a=0),'<svg width="'.concat(t,'" height="').concat(r,'" x="').concat(o,'" y="').concat(a,'" viewBox="0 0 24 24">\n    <path fill-rule="evenodd" clip-rule="evenodd" fill="').concat(i,'" d="M3.46447 3.46447C2 4.92893 2 7.28595 2 12C2 16.714 2 19.0711 3.46447 20.5355C4.92893 22 7.28595 22 12 22C16.714 22 19.0711 22 20.5355 20.5355C22 19.0711 22 16.7141 22 12C22 7.28598 22 4.92893 20.5355 3.46447C19.0711 2 16.714 2 12 2C7.28595 2 4.92893 2 3.46447 3.46447ZM9.25871 7.97395C9.56308 7.693 9.58205 7.21851 9.3011 6.91414C9.02015 6.60978 8.54565 6.5908 8.24129 6.87175L5.99129 8.94867C5.83748 9.09065 5.75 9.29045 5.75 9.49977C5.75 9.7091 5.83748 9.9089 5.99129 10.0509L8.24129 12.1278C8.54565 12.4088 9.02015 12.3898 9.3011 12.0854C9.58205 11.781 9.56308 11.3065 9.25871 11.0256L8.41824 10.2498H14.0385C14.7376 10.2498 15.2069 10.2506 15.5652 10.2862C15.9116 10.3205 16.0724 10.3813 16.1787 10.4501C16.3272 10.5461 16.4537 10.6726 16.5497 10.8211C16.6184 10.9274 16.6793 11.0882 16.7136 11.4345C16.7491 11.7929 16.75 12.2622 16.75 12.9613C16.75 13.6604 16.7491 14.1298 16.7136 14.4881C16.6793 14.8344 16.6185 14.9952 16.5497 15.1015C16.4537 15.2501 16.3272 15.3765 16.1787 15.4726C16.0724 15.5413 15.9116 15.6021 15.5652 15.6365C15.2069 15.672 14.7376 15.6729 14.0385 15.6729H9.5C9.08579 15.6729 8.75 16.0086 8.75 16.4229C8.75 16.8371 9.08579 17.1729 9.5 17.1729H14.0758C14.7279 17.1729 15.2721 17.1729 15.7133 17.1291C16.1748 17.0834 16.6038 16.9839 16.9931 16.7322C17.3199 16.5209 17.5981 16.2427 17.8094 15.916C18.0611 15.5266 18.1605 15.0976 18.2063 14.6361C18.25 14.195 18.25 13.6508 18.25 12.9987V12.924C18.25 12.2718 18.25 11.7276 18.2063 11.2865C18.1605 10.825 18.0611 10.396 17.8093 10.0067C17.5981 9.6799 17.3199 9.40169 16.9931 9.19042C16.6038 8.9387 16.1748 8.83927 15.7133 8.7935C15.2721 8.74975 14.7279 8.74976 14.0758 8.74977L8.41824 8.74977L9.25871 7.97395Z" />\n    <rect style="opacity: 0" x="2" y="2" width="20" height="20"></rect>\n    </svg>')},e.icon.redo=function(t,r,i,o,a){return o==null&&(o=0),a==null&&(a=0),'<svg width="'.concat(t,'" height="').concat(r,'" x="').concat(o,'" y="').concat(a,'" viewBox="0 0 24 24" >\n    <path fill="#f9f9f9" fill-rule="evenodd" clip-rule="evenodd" fill="').concat(i,'" d="M3.46447 3.46447C2 4.92893 2 7.28595 2 12C2 16.714 2 19.0711 3.46447 20.5355C4.92893 22 7.28595 22 12 22C16.714 22 19.0711 22 20.5355 20.5355C22 19.0711 22 16.7141 22 12C22 7.28598 22 4.92893 20.5355 3.46447C19.0711 2 16.714 2 12 2C7.28595 2 4.92893 2 3.46447 3.46447ZM15.7587 6.87273C15.4543 6.59177 14.9799 6.61075 14.6989 6.91512C14.4179 7.21948 14.4369 7.69398 14.7413 7.97493L15.5818 8.75075H9.96155C7.63558 8.75075 5.75 10.6363 5.75 12.9623C5.75 15.2883 7.63557 17.1738 9.96154 17.1738H14.5C14.9142 17.1738 15.25 16.838 15.25 16.4238C15.25 16.0096 14.9142 15.6738 14.5 15.6738H9.96154C8.464 15.6738 7.25 14.4598 7.25 12.9623C7.25 11.4647 8.464 10.2508 9.96155 10.2508H15.5818L14.7413 11.0266C14.4369 11.3075 14.4179 11.782 14.6989 12.0864C14.9799 12.3908 15.4543 12.4097 15.7587 12.1288L18.0087 10.0519C18.1625 9.90987 18.25 9.71007 18.25 9.50075C18.25 9.29143 18.1625 9.09163 18.0087 8.94965L15.7587 6.87273Z"/>\n    <rect style="opacity: 0" x="2" y="2" width="20" height="20"></rect>    \n    </svg>')},e.icon.ft=function(t,r,i,o,a){return'<svg width="'.concat(t,'" height="').concat(r,'" x="').concat(o,'" y="').concat(a,'" viewBox="0 0 512 512"  >\n                <path fill="').concat(i,'" d="m336.061 377.731c-5.086-6.54-14.511-7.717-21.049-2.631l-44.012 34.231v-200.331c0-8.284-6.716-15-15-15s-15 6.716-15 15v200.331l-44.011-34.231c-6.538-5.086-15.962-3.908-21.049 2.631-5.086 6.539-3.908 15.963 2.631 21.049l62.429 48.556v49.664c0 8.284 6.716 15 15 15s15-6.716 15-15v-49.664l62.429-48.556c6.54-5.086 7.717-14.51 2.632-21.049z" />\n                <path fill="').concat(i,'" d="m271 497v-49.664l62.429-48.556c6.54-5.086 7.717-14.51 2.631-21.049-5.086-6.54-14.511-7.717-21.049-2.631l-44.011 34.231v-200.331c0-8.284-6.716-15-15-15v318c8.284 0 15-6.716 15-15z" />\n                <path fill="').concat(i,'" d="m320 512h-128c-8.284 0-15-6.716-15-15s6.716-15 15-15h128c8.284 0 15 6.716 15 15s-6.716 15-15 15z" />\n                <path fill="').concat(i,'" d="m320 482h-64v30h64c8.284 0 15-6.716 15-15s-6.716-15-15-15z" />\n                <path fill="').concat(i,'" d="m400 439c-61.206 0-111-49.794-111-111s49.794-111 111-111 111 49.794 111 111-49.794 111-111 111z" />\n                <path fill="').concat(i,'" d="m112 439c-61.206 0-111-49.794-111-111s49.794-111 111-111 111 49.794 111 111-49.794 111-111 111z" />\n                <path fill="').concat(i,'" d="m256 222c-61.206 0-111-49.794-111-111s49.794-111 111-111 111 49.794 111 111-49.794 111-111 111z" />\n                <path fill="').concat(i,'" d="m367 111c0-61.206-49.794-111-111-111v222c61.206 0 111-49.794 111-111z" />\n            </svg>')},e.icon.addUser=function(t,r,i,o,a){return e.isNEU(o)&&(o=0),e.isNEU(a)&&(a=0),'<svg width="'.concat(t,'" height="').concat(r,'" x="').concat(o,'" y="').concat(a,'" viewBox="0 0 512 512" >\n                <path fill="').concat(i,'" d="M300.434,257.599c-25.945,27.304-60.622,43.875-98.602,43.875c-37.979,0-72.656-16.571-98.602-43.875 c-45.617,28.738-77.826,76.818-85.092,132.736c-1.659,12.77,8.291,24.107,21.201,24.107h225.846 c0-53.371,32.011-99.402,77.838-119.914C330.812,280.165,316.452,267.69,300.434,257.599z"/>\n                <ellipse fill="').concat(i,'" cx="201.828" cy="133.868" rx="112.229" ry="133.868"/>\n                <path fill="').concat(i,'" d="M396.486,316.885c-53.794,0-97.558,43.764-97.558,97.558S342.693,512,396.486,512c53.792,0,97.557-43.764,97.557-97.558 S450.279,316.885,396.486,316.885z M435.199,431.315h-21.841v21.841c0,9.318-7.554,16.872-16.872,16.872 c-9.318,0-16.872-7.554-16.872-16.872v-21.841h-21.842c-9.318,0-16.872-7.554-16.872-16.872c0-9.319,7.554-16.872,16.872-16.872 h21.842v-21.841c0-9.318,7.554-16.872,16.872-16.872c9.318,0,16.872,7.554,16.872,16.872v21.841h21.841 c9.318,0,16.872,7.554,16.872,16.872C452.072,423.761,444.518,431.315,435.199,431.315z"/>\n            </svg>')},e.icon.daughter=function(t,r,i,o,a){return e.isNEU(o)&&(o=0),e.isNEU(a)&&(a=0),'<svg width="'.concat(t,'" height="').concat(r,'" x="').concat(o,'" y="').concat(a,'" viewBox="0 0 512.879 512.879">\n                <path fill="').concat(i,'" d="M213.773,238.933c4.71,0,8.533-3.823,8.533-8.533v-5.615c0.546,0.529,0.922,0.964,0.964,1.024 c1.519,2.918,4.497,4.591,7.578,4.591c1.323,0,2.671-0.307,3.934-0.964c4.181-2.176,5.803-7.33,3.627-11.511 c-2.534-4.872-10.581-13.124-24.636-13.124c-14.054,0-22.101,8.252-24.636,13.124c-2.125,4.087-0.555,8.969,3.456,11.23 c4.011,2.287,9.156,0.811,11.563-3.123c0.077-0.128,0.495-0.623,1.084-1.195v5.564 C205.239,235.11,209.062,238.933,213.773,238.933z"/>\n                <path fill="').concat(i,'" d="M256.439,332.8c20.028,0,30.507-9.907,31.633-11.034c3.294-3.294,3.285-8.568,0.043-11.913 c-3.234-3.354-8.61-3.439-12.015-0.247c-0.265,0.247-6.699,6.127-19.661,6.127c-12.774,0-19.209-5.709-19.652-6.118 c-3.336-3.251-8.678-3.217-11.981,0.085c-3.337,3.337-3.337,8.73,0,12.066C225.933,322.893,236.412,332.8,256.439,332.8z"/>\n                <path fill="').concat(i,'" d="M365.666,293.547c-49.826-66.441-75.093-133.623-75.093-199.68c0-4.71-3.823-8.533-8.533-8.533s-8.533,3.823-8.533,8.533 c0,68.369,25.31,137.489,75.255,205.542c-12.228,21.623-50.483,76.058-92.322,76.058c-45.218,0-86.255-63.59-94.763-80.614 c-8.388-16.768-24.704-66.765-24.704-98.586v-25.754c20.378-0.572,73.404-3.405,121.813-17.246 c4.531-1.289,7.151-6.016,5.854-10.547c-1.289-4.531-6.008-7.159-10.547-5.854C196.254,153.387,129.114,153.6,128.439,153.6 c-4.71,0-8.533,3.823-8.533,8.533v34.133c0,34.935,17.254,87.723,26.496,106.214c0.452,0.905,46.797,90.052,110.037,90.052 s109.585-89.148,110.037-90.052C367.919,299.588,367.603,296.132,365.666,293.547z"/>\n                <path fill="').concat(i,'" d="M316.173,392.533c-4.71,0-8.533,3.823-8.533,8.533v17.067c0,0.06,0.034,0.111,0.034,0.171 c0,0.051-0.034,0.094-0.034,0.154c-0.034,5.205-1.749,50.876-51.2,50.876s-51.166-45.986-51.2-51.2v-17.067 c0-4.71-3.823-8.533-8.533-8.533s-8.533,3.823-8.533,8.533v8.687c-116.028,1.638-168.917,35.9-178.765,65.417l-8.533,25.6 c-1.493,4.471,0.93,9.301,5.402,10.795C7.172,511.863,8.085,512,8.973,512c3.575,0,6.903-2.261,8.098-5.837l8.533-25.6 c6.076-18.227,48.034-52.335,163.132-53.845c3.106,24.422,19.721,59.682,67.704,59.682c53.999,0,68.267-44.425,68.267-67.917 c0-0.06-0.034-0.111-0.034-0.171c0-0.068,0.034-0.119,0.034-0.179v-17.067C324.706,396.356,320.883,392.533,316.173,392.533z"/>\n                <path fill="').concat(i,'" d="M256.695,273.067h-0.085c-4.71,0-8.491,3.823-8.491,8.533c0,4.71,3.866,8.533,8.576,8.533 c4.719,0,8.533-3.823,8.533-8.533C265.229,276.89,261.414,273.067,256.695,273.067z"/>\n                <path fill="').concat(i,'" d="M512.004,501.641l-8.533-25.591c-4.659-13.978-22.34-28.228-49.792-40.141c-4.318-1.877-9.352,0.102-11.23,4.429 c-1.869,4.318,0.111,9.353,4.437,11.221c26.266,11.401,38.178,23.219,40.388,29.884l8.533,25.6 c1.195,3.575,4.523,5.837,8.098,5.837c0.887,0,1.801-0.145,2.697-0.444C511.074,510.942,513.498,506.112,512.004,501.641z"/>\n                <path fill="').concat(i,'" d="M256.439,0c-115.558,0-179.2,63.642-179.2,179.2V256c0,66.039-24.909,141.611-25.165,142.37 c-1.485,4.471,0.93,9.301,5.402,10.795c4.48,1.476,9.301-0.93,10.795-5.402c1.058-3.191,26.035-78.908,26.035-147.763v-76.8 c0-134.008,88.175-162.133,162.133-162.133c100.454,0,162.133,94.43,162.133,162.133v17.067 c0,34.458-21.111,74.163-41.532,112.572c-18.133,34.116-35.268,66.338-35.268,92.228c0,54.11,35.14,89.873,36.634,91.366 c1.596,1.604,3.772,2.5,6.033,2.5c2.261,0,4.437-0.896,6.033-2.5c1.493-1.493,36.634-37.257,36.634-91.366 c0-53.197-17.562-72.303-19.567-74.3c-3.285-3.285-8.559-3.285-11.904-0.051c-3.354,3.234-3.439,8.61-0.265,12.015 c0.145,0.154,14.669,16.256,14.669,62.336c0,33.937-16.444,60.16-25.617,72.149c-9.19-11.947-25.583-38.05-25.583-72.149 c0-21.632,16.162-52.036,33.271-84.215c21.402-40.252,43.529-81.869,43.529-120.585V179.2C435.639,94.438,362.04,0,256.439,0z"/>\n            </svg>')},e.icon.son=function(t,r,i,o,a){return e.isNEU(o)&&(o=0),e.isNEU(a)&&(a=0),'<svg width="'.concat(t,'" height="').concat(r,'" x="').concat(o,'" y="').concat(a,'"  viewBox="0 0 512.002 512.002">\n                <path fill="').concat(i,'" d="M238.934,213.334c0-4.71-3.823-8.533-8.533-8.533h-34.133c-4.71,0-8.533,3.823-8.533,8.533 c0,4.71,3.823,8.533,8.533,8.533h8.533c0,4.71,3.823,8.533,8.533,8.533c4.71,0,8.533-3.823,8.533-8.533h8.533 C235.111,221.867,238.934,218.044,238.934,213.334z"/>\n                <path fill="').concat(i,'" d="M121.601,255.19c4.565,13.466,17.178,49.98,24.371,64.358c13.551,27.11,51.977,72.986,110.029,72.986 s96.478-45.875,110.037-72.986c7.185-14.379,19.797-50.893,24.371-64.358c11.025-2.85,19.191-12.885,19.191-24.789v-34.133 c0-11.127-7.134-20.617-17.067-24.141v-44.126c0-33.69-17.741-95.923-83.354-101.931c-0.137-4.028-1.476-7.27-2.953-9.668 c-8.38-13.559-31.94-16.401-50.227-16.401c-151.842,0-153.6,143.616-153.6,145.067c0,4.71,3.814,8.525,8.525,8.525h0.009 c4.702,0,8.525-3.806,8.533-8.516c0.017-5.222,1.937-128.009,136.533-128.009c24.132,0,33.801,5.222,35.703,8.311 c0.282,0.435,0.998,1.604-0.666,4.941c-1.323,2.645-1.178,5.786,0.375,8.303c1.553,2.509,4.301,4.045,7.253,4.045 c75.656,0,76.791,81.86,76.8,85.333v51.2c0,4.71,3.823,8.533,8.533,8.533c4.702,0,8.533,3.831,8.533,8.533v34.133 c0,4.702-3.831,8.533-8.533,8.533c-3.669,0-6.929,2.347-8.098,5.837c-0.162,0.503-16.964,50.816-25.131,67.149 c-1.297,2.594-32.495,63.548-94.771,63.548s-93.466-60.954-94.763-63.548c-8.166-16.333-24.977-66.645-25.139-67.149 c-1.161-3.49-4.42-5.837-8.098-5.837c-4.702,0-8.533-3.831-8.533-8.533v-34.133c0-2.313,0.93-4.412,2.423-5.948 c3.396,7.62,10.607,14.481,23.177,14.481c3.234,0,6.187-1.826,7.637-4.719c7.535-15.061,15.283-30.575,17.399-46.652 c43.665-1.758,108.979-17.323,139.742-41.105c8.201,29.764,32.742,54.596,33.988,55.842c3.337,3.337,8.738,3.337,12.066,0 c3.337-3.336,3.337-8.73,0-12.066c-0.316-0.316-31.633-31.983-31.633-62.234c0-3.831-2.56-7.202-6.255-8.226 c-3.703-1.024-7.62,0.546-9.591,3.831c-14.549,24.243-94.746,47.061-146.287,47.061c-4.71,0-8.533,3.823-8.533,8.533 c0,13.295-6.127,27.102-13.286,41.6c-2.901-1.604-3.703-4.753-3.78-7.467c0-4.71-3.823-8.533-8.533-8.533 c-14.114,0-25.6,11.486-25.6,25.6v34.133C102.401,242.305,110.576,252.34,121.601,255.19z"/>\n                <path fill="').concat(i,'" d="M256.001,332.801c20.028,0,30.507-9.907,31.633-11.034c3.294-3.294,3.285-8.567,0.051-11.913 c-3.243-3.354-8.619-3.439-12.023-0.247c-0.265,0.247-6.699,6.127-19.661,6.127c-12.774,0-19.209-5.709-19.652-6.118 c-3.336-3.251-8.678-3.217-11.981,0.085c-3.328,3.337-3.328,8.73,0,12.066C225.503,322.893,235.982,332.801,256.001,332.801z"/>\n                <path fill="').concat(i,'" d="M264.79,281.601c0-4.71-3.814-8.533-8.533-8.533h-0.085c-4.71,0-8.491,3.823-8.491,8.533c0,4.71,3.866,8.533,8.576,8.533 C260.976,290.134,264.79,286.311,264.79,281.601z"/>\n                <path fill="').concat(i,'" d="M511.745,501.394l-8.713-34.756c-4.386-13.158-30.285-55.484-178.765-56.636v-8.934c0-4.71-3.823-8.533-8.533-8.533 s-8.533,3.823-8.533,8.533v17.067c0,0.06,0.034,0.111,0.034,0.171c0,0.051-0.034,0.094-0.034,0.154 c-0.034,5.205-1.749,50.876-51.2,50.876s-51.166-45.986-51.2-51.2v-17.067c0-4.71-3.823-8.533-8.533-8.533 s-8.533,3.823-8.533,8.533v8.619C77.168,410.556,21.786,428.203,8.79,467.26l-8.533,34.133 c-1.143,4.574,1.638,9.207,6.212,10.351c4.557,1.143,9.199-1.638,10.342-6.204l8.354-33.51 c9.916-29.739,63.309-44.595,163.132-45.338c3.098,24.431,19.712,59.708,67.704,59.708c47.983,0,64.597-35.063,67.703-59.366 c116.958,0.862,157.628,28.467,162.953,44.373l8.533,34.133c0.973,3.874,4.446,6.46,8.269,6.46c0.691,0,1.382-0.077,2.082-0.256 C510.115,510.601,512.888,505.968,511.745,501.394z"/>\n                <path fill="').concat(i,'" d="M298.668,230.401c4.71,0,8.533-3.823,8.533-8.533h8.533c4.71,0,8.533-3.823,8.533-8.533c0-4.71-3.823-8.533-8.533-8.533 h-34.133c-4.71,0-8.533,3.823-8.533,8.533c0,4.71,3.823,8.533,8.533,8.533h8.533 C290.134,226.578,293.957,230.401,298.668,230.401z"/>\n            </svg>')},e.icon.wife=function(t,r,i,o,a){return e.isNEU(o)&&(o=0),e.isNEU(a)&&(a=0),'<svg width="'.concat(t,'" height="').concat(r,'" x="').concat(o,'" y="').concat(a,'" viewBox="0 0 512 512" >\n                <path fill="').concat(i,'" d="M128,307.2c4.719,0,8.533-3.823,8.533-8.533V281.6c0-4.71-3.814-8.533-8.533-8.533c-4.719,0-8.533,3.823-8.533,8.533 v17.067C119.467,303.377,123.281,307.2,128,307.2z"/>\n                <path fill="').concat(i,'" d="M384,273.067c-4.719,0-8.533,3.823-8.533,8.533v17.067c0,4.71,3.814,8.533,8.533,8.533c4.719,0,8.533-3.823,8.533-8.533 V281.6C392.533,276.89,388.719,273.067,384,273.067z"/>\n                <path fill="').concat(i,'" d="M392.183,433.109c-0.162-0.606-0.418-1.152-0.7-1.715c-0.162-0.299-0.196-0.64-0.384-0.93 c-0.094-0.128-0.23-0.196-0.324-0.324c-0.358-0.469-0.802-0.845-1.254-1.246c-0.418-0.375-0.819-0.742-1.306-1.016 c-0.145-0.094-0.23-0.23-0.392-0.316l-34.133-17.067c-2.748-1.357-6.008-1.161-8.55,0.538l-51.209,34.133 c-2.372,1.587-3.797,4.25-3.797,7.1v30.259c-5.077,4.062-17.545,12.407-34.133,12.407c-16.427,0-29.013-8.388-34.133-12.433 v-30.234c0-2.85-1.425-5.513-3.797-7.1l-51.2-34.133c-2.543-1.698-5.803-1.894-8.55-0.538l-34.133,17.067 c-0.154,0.077-0.239,0.213-0.375,0.299c-0.512,0.29-0.939,0.674-1.374,1.075c-0.435,0.384-0.853,0.734-1.186,1.178 c-0.102,0.137-0.256,0.213-0.35,0.35c-0.205,0.307-0.239,0.657-0.401,0.99c-0.265,0.529-0.521,1.05-0.674,1.63 c-0.137,0.529-0.179,1.05-0.205,1.596c-0.034,0.538-0.06,1.058,0.008,1.604c0.068,0.597,0.265,1.143,0.461,1.707 c0.119,0.341,0.111,0.7,0.273,1.024c0.077,0.154,0.222,0.247,0.307,0.393c0.282,0.495,0.666,0.913,1.058,1.348 c0.384,0.427,0.742,0.853,1.186,1.195c0.137,0.102,0.213,0.256,0.35,0.35l51.2,34.133c1.459,0.973,3.106,1.434,4.727,1.434 c2.756,0,5.47-1.331,7.108-3.797c2.62-3.925,1.562-9.225-2.364-11.836l-38.972-25.975l16.555-8.277l43.281,28.851V486.4 c0,2.261,0.896,4.437,2.5,6.033C208.102,493.235,227.2,512,256,512s47.898-18.765,48.7-19.567c1.604-1.596,2.5-3.772,2.5-6.033 v-29.568l43.29-28.851l16.546,8.277l-38.972,25.975c-3.925,2.611-4.983,7.91-2.364,11.836c1.638,2.466,4.352,3.797,7.108,3.797 c1.621,0,3.268-0.461,4.727-1.434l51.2-34.133c0.137-0.094,0.205-0.239,0.333-0.341c0.478-0.35,0.853-0.794,1.254-1.246 c0.358-0.427,0.725-0.811,0.998-1.289c0.085-0.154,0.239-0.247,0.324-0.41c0.171-0.35,0.171-0.725,0.29-1.084 c0.179-0.538,0.367-1.05,0.435-1.613c0.077-0.58,0.051-1.126,0.009-1.698C392.354,434.108,392.32,433.613,392.183,433.109z"/>\n                <path fill="').concat(i,'" d="M57.037,409.165c0.896,0.29,1.809,0.435,2.697,0.435c3.575,0,6.903-2.261,8.09-5.837 C68.89,400.572,93.867,324.855,93.867,256v-76.8C93.867,45.193,182.033,17.067,256,17.067c25.199,0,77.636,0,85.649,11.128 c0.333,0.452,0.828,1.135,0.128,3.243c-0.956,2.842-0.341,5.965,1.604,8.235c1.946,2.278,4.932,3.362,7.885,2.876 c10.863-1.792,20.412,0.93,29.184,8.354c22.895,19.396,37.683,69.76,37.683,128.299V256c0,77.457,25.071,145.22,26.138,148.062 c1.656,4.412,6.571,6.639,10.991,5.001c4.412-1.655,6.647-6.571,5.001-10.991C460.006,397.406,435.2,330.257,435.2,256v-76.8 c0-50.415-11.486-114.014-43.716-141.321c-9.745-8.243-20.932-12.621-32.836-12.902c-0.683-2.773-1.903-5.035-3.149-6.767 C343.356,1.374,303.258,0,256,0C140.442,0,76.8,63.642,76.8,179.2V256c0,66.039-24.909,141.611-25.156,142.37 C50.15,402.842,52.565,407.672,57.037,409.165z"/>\n                <path fill="').concat(i,'" d="M91.802,426.923C19.814,444.919,1.195,498.492,0.444,500.77c-1.493,4.471,0.922,9.301,5.393,10.795 C6.733,511.864,7.646,512,8.533,512c3.576,0,6.904-2.261,8.09-5.837c0.162-0.469,16.316-46.942,79.309-62.686 c4.574-1.143,7.356-5.777,6.212-10.351C101.001,428.561,96.367,425.771,91.802,426.923z"/>\n                <path fill="').concat(i,'" d="M213.333,238.933c4.719,0,8.533-3.823,8.533-8.533v-5.615c0.546,0.529,0.922,0.964,0.964,1.024 c1.519,2.918,4.497,4.591,7.578,4.591c1.323,0,2.671-0.307,3.934-0.964c4.173-2.176,5.803-7.33,3.627-11.511 c-2.534-4.873-10.59-13.124-24.636-13.124c-14.046,0-22.101,8.252-24.636,13.124c-2.125,4.087-0.546,8.969,3.456,11.23 c3.985,2.261,9.148,0.819,11.554-3.123c0.085-0.128,0.503-0.623,1.092-1.195v5.564C204.8,235.11,208.614,238.933,213.333,238.933 z"/>\n                <path fill="').concat(i,'" d="M511.556,500.77c-0.751-2.278-19.371-55.851-91.358-73.847c-4.574-1.161-9.199,1.638-10.342,6.204 c-1.143,4.574,1.638,9.207,6.212,10.351c62.524,15.633,78.66,60.809,79.309,62.686c1.186,3.576,4.514,5.837,8.09,5.837 c0.888,0,1.801-0.137,2.697-0.435C510.635,510.071,513.05,505.242,511.556,500.77z"/>\n                <path fill="').concat(i,'" d="M256,332.8c20.028,0,30.507-9.907,31.633-11.034c3.294-3.294,3.285-8.567,0.051-11.913 c-3.251-3.345-8.61-3.439-12.015-0.247c-0.273,0.247-6.707,6.127-19.669,6.127c-12.774,0-19.208-5.709-19.652-6.118 c-3.32-3.251-8.67-3.226-11.981,0.085c-3.337,3.337-3.337,8.73,0,12.066C225.493,322.893,235.972,332.8,256,332.8z"/>\n                <path fill="').concat(i,'" d="M298.667,238.933c4.719,0,8.533-3.823,8.533-8.533v-5.615c0.546,0.529,0.922,0.964,0.964,1.024 c1.519,2.918,4.497,4.591,7.578,4.591c1.323,0,2.671-0.307,3.934-0.964c4.173-2.176,5.803-7.33,3.627-11.511 c-2.534-4.873-10.59-13.124-24.636-13.124c-14.046,0-22.101,8.252-24.636,13.124c-2.125,4.087-0.546,8.969,3.456,11.23 c3.994,2.261,9.156,0.819,11.554-3.123c0.085-0.128,0.503-0.623,1.092-1.195v5.564 C290.133,235.11,293.948,238.933,298.667,238.933z"/>\n                <path fill="').concat(i,'" d="M389.129,189.449c-8.542-6.443-30.729-26.957-30.729-44.382c0-4.71-3.814-8.533-8.533-8.533s-8.533,3.823-8.533,8.533 c0,24.678,24.354,47.249,34.014,55.228c-1.835,33.476-24.917,95.223-33.118,111.625c-7.654,15.317-48.154,63.548-86.229,63.548 s-78.575-48.23-86.229-63.548c-8.542-17.084-33.237-83.379-33.237-115.652v-25.728c33.835-0.802,157.321-6.929,218.453-52.779 c3.772-2.825,4.54-8.175,1.707-11.947c-2.825-3.772-8.175-4.54-11.947-1.707C279.561,152.994,129.51,153.6,128,153.6 c-4.719,0-8.533,3.823-8.533,8.533v34.133c0,36.625,26.871,106.965,35.029,123.281c10.385,20.77,55.834,72.986,101.504,72.986 s91.119-52.216,101.504-72.986c8.158-16.316,35.029-86.656,35.029-123.281C392.533,193.587,391.27,191.061,389.129,189.449z"/>\n            </svg>')},e.icon.husband=function(t,r,i,o,a){return e.isNEU(o)&&(o=0),e.isNEU(a)&&(a=0),'<svg width="'.concat(t,'" height="').concat(r,'" x="').concat(o,'" y="').concat(a,'" viewBox="0 0 512.007 512.007" >\n                <path fill="').concat(i,'" d="M121.835,255.249c6.229,16.196,26.803,68.42,41.737,90.82l1.348,2.039c10.957,16.614,29.295,44.425,91.085,44.425 c61.79,0,80.128-27.81,91.085-44.425l1.348-2.039c14.933-22.4,35.507-74.624,41.737-90.82c11.145-2.773,19.43-12.86,19.43-24.849 v-34.133c0-11.127-7.134-20.617-17.067-24.141V128c0-33.69-17.741-95.923-83.362-101.931c-0.128-4.028-1.459-7.27-2.944-9.668 C297.844,2.85,274.292,0,256.005,0c-151.842,0-153.6,143.616-153.6,145.067c0,4.71,3.814,8.525,8.516,8.525h0.017 c4.702,0,8.516-3.806,8.533-8.508c0.017-5.231,1.937-128.017,136.533-128.017c24.132,0,33.801,5.222,35.712,8.311 c0.265,0.435,0.99,1.604-0.683,4.941c-1.323,2.645-1.178,5.786,0.375,8.303c1.562,2.509,4.301,4.045,7.262,4.045 c75.657,0,76.791,81.86,76.8,85.333v51.2c0,4.71,3.814,8.533,8.533,8.533c4.71,0,8.533,3.831,8.533,8.533V230.4 c0,4.702-3.823,8.533-8.533,8.533c-3.558,0-6.741,2.21-7.996,5.538c-0.247,0.674-25.446,67.644-41.771,92.126l-1.399,2.116 c-10.223,15.514-24.235,36.753-76.834,36.753c-52.599,0-66.611-21.239-76.834-36.753l-1.399-2.116 c-16.324-24.482-41.523-91.452-41.771-92.126c-1.254-3.328-4.437-5.538-7.996-5.538c-4.71,0-8.533-3.831-8.533-8.533v-34.133 c0-2.313,0.922-4.412,2.423-5.948c3.089,6.955,9.421,13.21,20.053,14.268l29.193,21.897c2.27,16.623,16.418,29.517,33.664,29.517 h17.067c18.825,0,34.133-15.309,34.133-34.133c0,18.825,15.309,34.133,34.133,34.133h17.067 c17.237,0,31.394-12.894,33.664-29.517l31.189-23.39c3.772-2.825,4.54-8.175,1.707-11.947c-2.825-3.772-8.175-4.548-11.947-1.707 l-21.751,16.316c-3.251-10.402-12.86-18.022-24.329-18.022h-34.133c-14.114,0-25.6,11.486-25.6,25.6 c0-14.114-11.486-25.6-25.6-25.6h-34.133c-11.469,0-21.077,7.62-24.328,18.022l-16.282-12.211 c6.716-16.23,12.8-40.235,14.524-57.088c26.897-0.478,104.713-3.763,139.332-25.37c7.851,30.31,33.058,55.817,34.321,57.08 c3.336,3.336,8.73,3.336,12.066,0c3.336-3.337,3.336-8.73,0-12.066c-0.316-0.316-31.633-31.983-31.633-62.234 c0-3.831-2.56-7.202-6.255-8.226c-3.661-1.016-7.629,0.546-9.591,3.831c-12.425,20.693-93.022,29.995-146.287,29.995 c-4.719,0-8.533,3.823-8.533,8.533c0,13.858-6.554,41.515-13.508,58.539c-2.722-1.638-3.49-4.693-3.558-7.339 c0-4.71-3.814-8.533-8.533-8.533c-14.114,0-25.6,11.486-25.6,25.6V230.4C102.405,242.389,110.691,252.476,121.835,255.249z M273.071,213.333c0-4.702,3.823-8.533,8.533-8.533h34.133c4.71,0,8.533,3.831,8.533,8.533v8.533 c0,9.412-7.654,17.067-17.067,17.067h-17.067c-9.412,0-17.067-7.654-17.067-17.067V213.333z M187.738,213.333 c0-4.702,3.823-8.533,8.533-8.533h34.133c4.71,0,8.533,3.831,8.533,8.533v8.533c0,9.412-7.654,17.067-17.067,17.067h-17.067 c-9.412,0-17.067-7.654-17.067-17.067V213.333z"/>\n                <path fill="').concat(i,'" d="M298.663,307.226c0.009-4.702-3.797-8.533-8.499-8.559c-0.162,0-15.42-0.171-30.345-7.629 c-2.398-1.203-5.231-1.203-7.629,0c-14.925,7.458-30.182,7.629-30.319,7.629c-4.719,0-8.533,3.823-8.533,8.533 s3.814,8.533,8.533,8.533c0.725,0,16.853-0.094,34.133-7.646c17.28,7.552,33.408,7.646,34.133,7.646 C294.84,315.733,298.646,311.927,298.663,307.226z"/>\n                <path fill="').concat(i,'" d="M247.471,324.267c-4.719,0-8.533,3.823-8.533,8.533c0,4.71,3.814,8.533,8.533,8.533h17.067 c4.719,0,8.533-3.823,8.533-8.533c0-4.71-3.814-8.533-8.533-8.533H247.471z"/>\n                <path fill="').concat(i,'" d="M511.749,501.393l-8.721-34.756c-12.706-38.135-73.114-56.687-184.67-56.687c-0.879,0-1.758,0-2.645,0.009 c-4.053,0.009-7.544,2.867-8.337,6.852l-17.067,84.975c-0.93,4.625,2.065,9.122,6.682,10.052 c4.608,0.896,9.114-2.074,10.044-6.69l15.693-78.114c97.724,0.452,154.436,15.957,163.934,44.373l8.533,34.133 c0.973,3.874,4.446,6.468,8.269,6.46c0.683,0,1.382-0.077,2.074-0.256C510.11,510.601,512.892,505.976,511.749,501.393z"/>\n                <path fill="').concat(i,'" d="M204.634,416.461c-0.794-3.994-4.292-6.861-8.363-6.861c-116.386,0-174.148,17.596-187.477,57.66l-8.533,34.133 c-1.152,4.582,1.638,9.207,6.212,10.351C7.164,511.923,7.864,512,8.547,512c3.823,0,7.296-2.586,8.269-6.46l8.346-33.51 c9.95-29.841,63.667-44.689,164.122-45.338l15.693,78.447c0.913,4.617,5.367,7.629,10.035,6.699 c4.617-0.93,7.62-5.427,6.69-10.044L204.634,416.461z"/>\n                <path fill="').concat(i,'" d="M256.005,409.6c-14.114,0-25.6,11.486-25.6,25.6c0,11.11,7.159,20.489,17.067,24.021v44.245 c0,4.71,3.814,8.533,8.533,8.533c4.719,0,8.533-3.823,8.533-8.533V459.23c9.907-3.541,17.067-12.919,17.067-24.03 C281.605,421.086,270.119,409.6,256.005,409.6z M256.005,443.733c-4.71,0-8.533-3.831-8.533-8.533 c0-4.702,3.823-8.533,8.533-8.533c4.71,0,8.533,3.831,8.533,8.533C264.538,439.902,260.715,443.733,256.005,443.733z"/>\n            </svg>')},e.icon.father=function(t,r,i,o,a){return e.isNEU(o)&&(o=0),e.isNEU(a)&&(a=0),'<svg width="'.concat(t,'" height="').concat(r,'" x="').concat(o,'" y="').concat(a,'" viewBox="0 0 512.002 512.002" >\n                <path fill="').concat(i,'" d="M366.934,128.001c0-4.71-3.814-8.533-8.533-8.533c-2.091,0-51.2-0.683-51.2-59.733c0-4.71-3.814-8.533-8.533-8.533 s-8.533,3.823-8.533,8.533c0,75.921,67.584,76.8,68.267,76.8C363.12,136.534,366.934,132.711,366.934,128.001z"/>\n                <path fill="').concat(i,'" d="M256.001,196.268c0-14.114-11.486-25.6-25.6-25.6h-34.133c-11.46,0-21.069,7.62-24.329,18.022l-21.751-16.316 c-3.772-2.825-9.114-2.048-11.947,1.707c-2.825,3.772-2.065,9.122,1.707,11.947l31.189,23.39 c2.278,16.623,16.418,29.517,33.664,29.517h17.067c18.825,0,34.133-15.309,34.133-34.133c0,18.825,15.309,34.133,34.133,34.133 h17.067c17.237,0,31.394-12.894,33.664-29.517l31.189-23.39c3.772-2.825,4.54-8.175,1.707-11.947 c-2.825-3.772-8.175-4.548-11.947-1.707l-21.751,16.316c-3.251-10.402-12.86-18.022-24.329-18.022h-34.133 C267.487,170.668,256.001,182.153,256.001,196.268z M238.934,204.801c0,9.412-7.654,17.067-17.067,17.067h-17.067 c-9.412,0-17.067-7.654-17.067-17.067v-8.533c0-4.702,3.831-8.533,8.533-8.533h34.133c4.702,0,8.533,3.831,8.533,8.533V204.801z M324.268,196.268v8.533c0,9.412-7.654,17.067-17.067,17.067h-17.067c-9.412,0-17.067-7.654-17.067-17.067v-8.533 c0-4.702,3.823-8.533,8.533-8.533h34.133C320.445,187.734,324.268,191.566,324.268,196.268z"/>\n                <path fill="').concat(i,'" d="M298.659,307.226c0.009-4.702-3.797-8.533-8.499-8.559c-0.162,0-15.42-0.171-30.345-7.629 c-2.398-1.203-5.231-1.203-7.629,0c-14.925,7.458-30.191,7.629-30.319,7.629c-4.71,0-8.533,3.823-8.533,8.533 s3.823,8.533,8.533,8.533c0.725,0,16.845-0.094,34.133-7.646c17.28,7.552,33.408,7.646,34.133,7.646 C294.836,315.734,298.642,311.928,298.659,307.226z"/>\n                <path fill="').concat(i,'" d="M120.986,237.953c4.378,18.611,18.91,76.877,34.048,99.584c10.974,16.452,36.668,54.997,100.966,54.997 s89.993-38.545,100.966-54.997c15.138-22.707,29.67-80.973,34.048-99.584c10.718-3.055,18.586-12.937,18.586-24.619v-34.133 c0-11.127-7.134-20.617-17.067-24.141v-44.126c0-1.109-1.562-110.933-136.533-110.933c-151.842,0-153.6,126.72-153.6,128 c0,4.702,3.806,8.516,8.516,8.525h0.017c4.693,0,8.516-3.806,8.533-8.499c0.017-4.54,2.048-110.959,136.533-110.959 c117.581,0,119.441,90.061,119.467,93.867v51.2c0,4.71,3.814,8.533,8.533,8.533c4.71,0,8.533,3.831,8.533,8.533v34.133 c0,4.702-3.823,8.533-8.533,8.533c-4.002,0-7.458,2.782-8.337,6.682c-0.162,0.751-16.896,75.52-32.896,99.516 c-10.257,15.386-31.599,47.403-86.767,47.403s-76.51-32.017-86.767-47.403c-15.992-23.979-32.734-98.765-32.905-99.516 c-0.87-3.9-4.326-6.682-8.329-6.682c-4.702,0-8.533-3.831-8.533-8.533v-34.133c0-4.702,3.831-8.533,8.533-8.533 c1.323,0,2.637-0.307,3.814-0.896c2.978-1.493,72.986-37.333,72.986-110.037c0-4.71-3.823-8.533-8.533-8.533 s-8.533,3.823-8.533,8.533c0,56.678-52.523,88.636-62.08,93.978c-13.022,1.186-23.253,12.169-23.253,25.489v34.133 C102.401,225.016,110.269,234.898,120.986,237.953z"/>\n                <path fill="').concat(i,'" d="M196.097,416.462c-0.794-3.994-4.292-6.861-8.363-6.861c-140.399,0-168.892,27.409-178.944,57.66l-8.533,34.133 c-1.143,4.582,1.638,9.207,6.204,10.351c0.7,0.179,1.391,0.256,2.082,0.256c3.823,0,7.296-2.586,8.269-6.46l8.354-33.51 c7.339-22.025,31.718-44.527,155.58-45.338l15.693,78.447c0.913,4.617,5.393,7.603,10.035,6.699 c4.625-0.93,7.62-5.427,6.69-10.044L196.097,416.462z"/>\n                <path fill="').concat(i,'" d="M511.745,501.394l-8.721-34.756c-7.117-21.342-39.689-57.216-178.782-56.678c-4.062,0.009-7.544,2.867-8.337,6.852 l-17.067,84.975c-0.93,4.625,2.065,9.122,6.682,10.052c4.591,0.896,9.114-2.074,10.044-6.69l15.693-78.114 c103.714,0.674,148.412,23.484,155.401,44.373l8.533,34.133c0.973,3.874,4.446,6.468,8.269,6.46c0.683,0,1.382-0.077,2.074-0.256 C510.106,510.601,512.888,505.976,511.745,501.394z"/>\n                <path fill="').concat(i,'" d="M256.257,426.668h-0.085c-4.71,0-8.491,3.823-8.491,8.533s3.866,8.533,8.576,8.533c4.71,0,8.533-3.823,8.533-8.533 S260.967,426.668,256.257,426.668z"/>\n                <path fill="').concat(i,'" d="M256.257,494.934h-0.085c-4.71,0-8.491,3.823-8.491,8.533s3.866,8.533,8.576,8.533c4.71,0,8.533-3.823,8.533-8.533 S260.967,494.934,256.257,494.934z"/>\n                <path fill="').concat(i,'" d="M247.468,324.268c-4.71,0-8.533,3.823-8.533,8.533c0,4.71,3.823,8.533,8.533,8.533h17.067 c4.719,0,8.533-3.823,8.533-8.533c0-4.71-3.814-8.533-8.533-8.533H247.468z"/>\n                <path fill="').concat(i,'" d="M256.257,460.801h-0.085c-4.71,0-8.491,3.823-8.491,8.533c0,4.71,3.866,8.533,8.576,8.533 c4.71,0,8.533-3.823,8.533-8.533C264.79,464.624,260.967,460.801,256.257,460.801z"/>\n            </svg>')},e.icon.mother=function(t,r,i,o,a){return e.isNEU(o)&&(o=0),e.isNEU(a)&&(a=0),'<svg width="'.concat(t,'" height="').concat(r,'" x="').concat(o,'" y="').concat(a,'" viewBox="0 0 512.011 512.011" >\n                <path fill="').concat(i,'" d="M299.355,445.356c-1.621,1.536-2.56,3.755-2.56,5.973c0,2.304,0.939,4.437,2.56,6.059 c1.536,1.621,3.755,2.475,5.973,2.475c2.304,0,4.523-0.853,6.059-2.475c1.621-1.536,2.475-3.755,2.475-6.059 c0-2.219-0.853-4.437-2.475-5.973C308.23,442.113,302.512,442.199,299.355,445.356z"/>\n                <path fill="').concat(i,'" d="M276.23,458.668c-1.621,1.621-2.475,3.755-2.475,6.059c0,2.219,0.939,4.437,2.475,5.973 c1.621,1.621,3.84,2.56,6.059,2.56c2.219,0,4.437-0.939,5.973-2.56c1.621-1.536,2.56-3.755,2.56-5.973 c0-2.304-0.939-4.437-2.56-6.059C285.104,455.511,279.387,455.511,276.23,458.668z"/>\n                <path fill="').concat(i,'" d="M392.539,196.268c0-2.68-1.263-5.205-3.405-6.818c-8.55-6.443-30.729-26.957-30.729-44.382 c0-4.71-3.823-8.533-8.533-8.533s-8.533,3.823-8.533,8.533c0,24.678,24.354,47.249,34.014,55.228 c-1.835,33.476-24.917,95.223-33.118,111.625c-7.654,15.317-48.154,63.548-86.229,63.548s-78.575-48.23-86.229-63.548 c-8.542-17.084-33.237-83.379-33.237-115.652V170.54c33.835-0.802,157.321-6.929,218.453-52.779 c3.772-2.825,4.531-8.175,1.707-11.947c-2.825-3.763-8.166-4.531-11.947-1.707c-65.186,48.887-215.236,49.493-216.747,49.493 c-4.71,0-8.533,3.823-8.533,8.533v34.133c0,36.625,26.871,106.965,35.029,123.281c10.394,20.77,55.834,72.986,101.504,72.986 s91.11-52.215,101.504-72.986C365.668,303.233,392.539,232.893,392.539,196.268z"/>\n                <path fill="').concat(i,'" d="M249.947,463.276c-1.536,1.621-2.475,3.84-2.475,6.059c0,2.219,0.939,4.437,2.475,6.059 c1.621,1.536,3.84,2.475,6.059,2.475s4.437-0.939,6.059-2.475c1.536-1.621,2.475-3.84,2.475-6.059 c0-2.219-0.939-4.437-2.475-6.059C258.907,460.119,253.104,460.119,249.947,463.276z"/>\n                <path fill="').concat(i,'" d="M34.139,230.401c0,18.85,6.75,36.659,19.098,50.688c-1.348,5.76-2.031,11.648-2.031,17.579 c0,42.342,34.458,76.8,76.8,76.8c6.494,0,12.954-0.819,19.191-2.432c4.565-1.178,7.305-5.828,6.127-10.394 c-1.178-4.565-5.828-7.305-10.394-6.127c-4.847,1.254-9.865,1.886-14.925,1.886c-32.939,0-59.733-26.795-59.733-59.733 c0-5.922,0.879-11.793,2.603-17.459c0.922-3.021,0.102-6.298-2.133-8.525c-11.307-11.298-17.536-26.308-17.536-42.283 c0-19.251,9.421-37.453,25.199-48.674c3.78-2.688,4.719-7.893,2.116-11.742c-6.707-9.89-10.249-21.461-10.249-33.451 c0-28.843,20.591-53.53,48.947-58.701c2.432-0.452,4.557-1.929,5.811-4.053c18.987-32.137,40.892-56.713,133.888-56.713 c71.714,0,128.947,23.484,142.413,58.436c0.888,2.304,2.731,4.105,5.052,4.949c23.535,8.559,39.356,31.095,39.356,56.081 c0,11.989-3.541,23.561-10.249,33.451c-2.603,3.849-1.664,9.054,2.116,11.742c15.778,11.221,25.199,29.423,25.199,48.674 c0,15.974-6.229,30.984-17.536,42.283c-2.236,2.227-3.055,5.504-2.133,8.525c1.724,5.666,2.603,11.537,2.603,17.459 c0,32.939-26.795,59.733-59.733,59.733c-5.018,0-10.001-0.623-14.814-1.852c-4.574-1.186-9.207,1.579-10.377,6.144 c-1.169,4.574,1.587,9.216,6.153,10.385c6.195,1.587,12.595,2.389,19.038,2.389c42.342,0,76.8-34.458,76.8-76.8 c0-5.931-0.683-11.819-2.031-17.579c12.348-14.029,19.098-31.838,19.098-50.688c0-22.11-9.643-43.128-26.138-57.643 c5.956-11.102,9.071-23.475,9.071-36.224c0-30.865-18.748-58.82-47.044-70.733C395.475,25.704,334.598,0.001,256.919,0.001 c-90.172,0-121.984,21.7-146.62,61.85c-34.475,8.115-59.093,38.921-59.093,74.684c0,12.749,3.115,25.122,9.071,36.224 C43.782,187.274,34.139,208.291,34.139,230.401z"/>\n                <path fill="').concat(i,'" d="M316.507,424.876c-1.621,1.621-2.475,3.84-2.475,6.059c0,2.304,0.853,4.437,2.475,6.059 c1.621,1.536,3.755,2.475,5.973,2.475c2.304,0,4.437-0.939,6.059-2.475c1.621-1.621,2.475-3.755,2.475-6.059 c0-2.219-0.853-4.437-2.475-6.059C325.382,421.719,319.664,421.719,316.507,424.876z"/>\n                <path fill="').concat(i,'" d="M223.664,458.668c-1.536,1.621-2.475,3.755-2.475,6.059c0,2.219,0.939,4.437,2.475,6.059 c1.621,1.536,3.84,2.475,6.059,2.475c2.304,0,4.437-0.939,6.059-2.475c1.621-1.621,2.475-3.84,2.475-6.059 c0-2.219-0.853-4.437-2.475-6.059C232.624,455.511,226.907,455.511,223.664,458.668z"/>\n                <path fill="').concat(i,'" d="M337.67,411.905c1.621-1.621,2.475-3.755,2.475-6.059c0-2.219-0.853-4.437-2.475-6.059 c-3.157-3.157-8.875-3.072-12.032,0.085c-1.621,1.536-2.56,3.755-2.56,5.973c0,2.304,0.939,4.437,2.56,6.059 c1.536,1.621,3.755,2.475,5.973,2.475C333.915,414.38,336.048,413.527,337.67,411.905z"/>\n                <path fill="').concat(i,'" d="M213.339,238.935c4.71,0,8.533-3.823,8.533-8.533v-5.615c0.546,0.529,0.922,0.964,0.964,1.024 c1.519,2.918,4.497,4.591,7.578,4.591c1.323,0,2.671-0.307,3.934-0.964c4.181-2.176,5.803-7.33,3.627-11.511 c-2.534-4.873-10.581-13.124-24.636-13.124c-14.054,0-22.101,8.252-24.636,13.124c-2.125,4.087-0.555,8.969,3.456,11.23 c4.011,2.287,9.156,0.811,11.563-3.123c0.077-0.128,0.495-0.623,1.084-1.195v5.564 C204.806,235.112,208.629,238.935,213.339,238.935z"/>\n                <path fill="').concat(i,'" d="M256.006,332.801c20.028,0,30.507-9.907,31.633-11.034c3.294-3.294,3.285-8.567,0.043-11.913 c-3.234-3.345-8.61-3.439-12.015-0.247c-0.265,0.247-6.699,6.127-19.661,6.127c-12.774,0-19.208-5.709-19.652-6.118 c-3.336-3.251-8.678-3.217-11.981,0.085c-3.337,3.336-3.337,8.73,0,12.066C225.499,322.894,235.978,332.801,256.006,332.801z"/>\n                <path fill="').concat(i,'" d="M298.672,238.935c4.71,0,8.533-3.823,8.533-8.533v-5.615c0.546,0.529,0.922,0.964,0.964,1.024 c1.519,2.918,4.497,4.591,7.578,4.591c1.323,0,2.671-0.307,3.934-0.964c4.181-2.176,5.803-7.33,3.627-11.511 c-2.534-4.873-10.581-13.124-24.636-13.124s-22.101,8.252-24.636,13.124c-2.125,4.087-0.555,8.969,3.456,11.23 c4.011,2.287,9.165,0.811,11.563-3.123c0.077-0.128,0.495-0.623,1.084-1.195v5.564 C290.139,235.112,293.962,238.935,298.672,238.935z"/>\n                <path fill="').concat(i,'" d="M511.571,500.771l-8.533-25.6c-8.883-26.658-62.464-65.212-136.098-65.212c-3.482,0-6.613,2.116-7.919,5.333 c-0.316,0.802-33.015,79.642-103.014,79.642c-69.99,0-102.69-79.181-103.014-79.983c-1.306-3.226-4.437-5.35-7.919-5.35 c-106.001,0-130.97,50.185-136.098,65.57l-8.533,25.6c-1.493,4.471,0.93,9.301,5.402,10.795c4.48,1.502,9.301-0.93,10.795-5.402 l8.533-25.6c8.465-25.412,42.974-52.514,114.381-53.845c9.293,19.703,45.577,85.282,116.454,85.282 c70.827,0,107.102-65.229,116.437-84.898c64.051,1.835,108.339,35.294,114.398,53.461l8.533,25.6 c1.195,3.576,4.523,5.837,8.098,5.837c0.887,0,1.801-0.137,2.697-0.435C510.64,510.073,513.064,505.243,511.571,500.771z"/>\n                <path fill="').concat(i,'" d="M375.472,281.601v17.067c0,4.71,3.823,8.533,8.533,8.533c4.71,0,8.533-3.823,8.533-8.533v-17.067 c0-4.71-3.823-8.533-8.533-8.533C379.295,273.068,375.472,276.891,375.472,281.601z"/>\n                <path fill="').concat(i,'" d="M188.934,405.847c0-2.219-0.939-4.437-2.56-5.973c-3.157-3.243-8.875-3.243-12.032,0 c-1.621,1.536-2.475,3.755-2.475,5.973c0,2.304,0.853,4.437,2.475,6.059s3.755,2.475,6.059,2.475 c2.219,0,4.437-0.853,5.973-2.475C187.995,410.284,188.934,408.151,188.934,405.847z"/>\n                <path fill="').concat(i,'" d="M189.531,439.468c2.219,0,4.437-0.939,5.973-2.475c1.621-1.621,2.475-3.755,2.475-6.059c0-2.219-0.853-4.437-2.475-6.059 c-3.157-3.157-8.875-3.157-12.032,0c-1.621,1.621-2.475,3.84-2.475,6.059c0,2.304,0.853,4.437,2.475,6.059 C185.008,438.529,187.227,439.468,189.531,439.468z"/>\n                <path fill="').concat(i,'" d="M200.624,445.356c-1.621,1.621-2.56,3.755-2.56,6.059c0,2.219,0.939,4.437,2.56,5.973c1.621,1.621,3.755,2.56,6.059,2.56 c2.219,0,4.437-0.939,5.973-2.56c1.621-1.536,2.475-3.755,2.475-5.973c0-2.304-0.853-4.523-2.475-6.059 C209.499,442.199,203.782,442.199,200.624,445.356z"/>\n                <path fill="').concat(i,'" d="M119.472,281.601v17.067c0,4.71,3.823,8.533,8.533,8.533s8.533-3.823,8.533-8.533v-17.067 c0-4.71-3.823-8.533-8.533-8.533S119.472,276.891,119.472,281.601z"/>\n            </svg>')},e.icon.teddy=function(t,r,i,o,a){return e.isNEU(o)&&(o=0),e.isNEU(a)&&(a=0),'<svg width="'.concat(t,'" height="').concat(r,'" x="').concat(o,'" y="').concat(a,'" viewBox="0 0 512 512">\n                <path fill="').concat(i,'" d="M234.513,246.613c9.378-1.929,16.555-9.02,21.487-15.863c4.932,6.844,12.109,13.935,21.487,15.863 c1.459,0.299,3.089,0.486,4.873,0.486c6.118,0,13.978-2.304,22.34-10.667c3.337-3.337,3.337-8.73,0-12.066s-8.73-3.337-12.066,0 c-4.361,4.369-8.337,6.212-11.699,5.53c-6.912-1.408-13.611-12.203-16.401-18.364c9.523-3.866,17.067-13.577,17.067-23.799 c0-9.353-9.566-14.933-25.6-14.933c-16.026,0-25.6,5.581-25.6,14.933c0,10.223,7.535,19.934,17.067,23.799 c-2.807,6.178-9.498,16.956-16.401,18.364c-3.405,0.666-7.339-1.178-11.699-5.53c-3.336-3.337-8.73-3.337-12.066,0 s-3.337,8.73,0,12.066C218.104,247.236,228.062,247.91,234.513,246.613z M263.748,190.669c-1.502,2.944-4.873,5.598-7.748,5.598	s-6.246-2.654-7.748-5.598C251.793,189.833,260.207,189.833,263.748,190.669z"/>\n                <path fill="').concat(i,'" d="M390.033,53.7c1.621,1.613,2.5,3.755,2.5,6.033s-0.879,4.42-2.5,6.025c-3.337,3.337-3.337,8.738,0,12.075 c1.664,1.664,3.849,2.5,6.033,2.5s4.369-0.836,6.033-2.492c4.838-4.838,7.501-11.273,7.501-18.108s-2.662-13.269-7.501-18.099 c-9.984-9.984-26.214-9.984-36.198,0c-3.337,3.328-3.337,8.73,0,12.066s8.73,3.337,12.066,0 C381.303,50.372,386.697,50.372,390.033,53.7z"/>\n                <path fill="').concat(i,'" d="M311.467,136.533c7.057,0,12.8-5.743,12.8-12.8c0-7.057-5.743-12.8-12.8-12.8s-12.8,5.743-12.8,12.8 C298.667,130.79,304.41,136.533,311.467,136.533z"/>\n                <path fill="').concat(i,'" d="M200.533,136.533c7.057,0,12.8-5.743,12.8-12.8c0-7.057-5.743-12.8-12.8-12.8s-12.8,5.743-12.8,12.8 C187.733,130.79,193.476,136.533,200.533,136.533z"/>\n                <path fill="').concat(i,'" d="M115.934,80.333c2.185,0,4.369-0.836,6.042-2.5c3.328-3.337,3.328-8.738-0.009-12.075c-1.613-1.604-2.5-3.746-2.5-6.025 s0.887-4.42,2.509-6.033c3.209-3.226,8.841-3.226,12.058,0c3.328,3.337,8.738,3.328,12.066,0 c3.337-3.328,3.337-8.738,0.009-12.066c-9.677-9.677-26.539-9.668-36.207-0.009c-4.838,4.838-7.501,11.273-7.501,18.108 s2.662,13.269,7.501,18.108C111.565,79.497,113.749,80.333,115.934,80.333z"/>\n                <path fill="').concat(i,'" d="M498.552,286.191c-28.262-23.945-91.742-14.2-98.884-13.005c-4.651,0.768-7.791,5.171-7.014,9.813 c0.777,4.651,5.171,7.799,9.813,7.014c17.246-2.867,66.133-6.827,85.052,9.199c5.06,4.284,7.415,9.54,7.415,16.521 c0,3.977-1.476,6.946-4.779,9.626c-24.098,19.567-114.33,5.982-147.063-0.913c-3.703-0.776-7.441,0.981-9.242,4.275 c-1.801,3.311-1.212,7.424,1.434,10.095c0.12,0.119,8.499,8.755,12.493,19.951c-2.125-0.222-4.267-0.367-6.443-0.367 c-37.641,0-68.267,34.458-68.267,76.8c0,7.629,1.024,14.993,2.884,21.956c-3.823,1.715-10.197,3.644-19.951,3.644 c-10.052,0-16.367-2.082-19.908-3.814c1.826-6.912,2.842-14.217,2.842-21.786c0-42.342-30.626-76.8-68.267-76.8 c-2.176,0-4.318,0.145-6.443,0.367c3.994-11.196,12.373-19.831,12.476-19.934c2.671-2.671,3.268-6.775,1.468-10.095 c-1.792-3.319-5.521-5.069-9.259-4.292c-32.725,6.895-122.974,20.48-147.063,0.913c-3.302-2.68-4.779-5.649-4.779-9.626 c0-6.98,2.355-12.228,7.407-16.512c18.867-15.991,67.806-12.066,85.06-9.208c4.651,0.794,9.045-2.364,9.813-7.014 c0.776-4.651-2.364-9.045-7.006-9.813c-7.151-1.195-70.613-10.957-98.884,13.005C4.651,293.649,0,303.863,0,315.733 c0,9.079,3.831,16.998,11.093,22.886c27.179,22.05,102.818,12.783,140.535,6.426c-2.825,5.47-5.188,11.896-6.11,18.825 c-25.216,11.29-43.119,38.98-43.119,71.33c0,42.342,30.626,76.8,68.267,76.8c25.446,0,47.642-15.778,59.383-39.057 c5.743,2.56,14.174,4.924,25.95,4.924c11.674,0,20.164-2.287,26.035-4.77C293.794,496.29,315.938,512,341.333,512 c37.641,0,68.267-34.458,68.267-76.8c0-32.35-17.903-60.041-43.119-71.33c-0.922-6.929-3.277-13.355-6.101-18.825 c37.717,6.357,113.365,15.633,140.527-6.426c7.262-5.888,11.093-13.807,11.093-22.886 C512,303.863,507.349,293.649,498.552,286.191z M170.667,494.933c-28.237,0-51.2-26.795-51.2-59.733s22.963-59.733,51.2-59.733 s51.2,26.795,51.2,59.733S198.904,494.933,170.667,494.933z M392.533,435.2c0,32.939-22.963,59.733-51.2,59.733 c-20.983,0-39.04-14.814-46.942-35.942c-0.145-0.614-0.324-1.186-0.606-1.766c-2.338-6.818-3.652-14.242-3.652-22.025 c0-32.939,22.963-59.733,51.2-59.733C369.57,375.467,392.533,402.261,392.533,435.2z"/>\n                <path fill="').concat(i,'" d="M307.2,443.733c0,18.825,15.309,34.133,34.133,34.133c18.825,0,34.133-15.309,34.133-34.133 c0-18.825-15.309-34.133-34.133-34.133C322.509,409.6,307.2,424.909,307.2,443.733z M358.4,443.733 c0,9.412-7.654,17.067-17.067,17.067c-9.404,0-17.067-7.654-17.067-17.067c0-9.412,7.663-17.067,17.067-17.067 C350.746,426.667,358.4,434.321,358.4,443.733z"/>\n                <path fill="').concat(i,'" d="M115.541,118.161c-8.619,21.709-13.141,45.525-13.141,69.572c0,67.849,52.762,136.533,153.6,136.533 s153.6-68.685,153.6-136.533c0-24.491-4.412-47.846-13.107-69.581c26.957-5.76,47.24-29.764,47.24-58.419 C443.733,26.795,416.93,0,384,0c-24.67,0-46.14,14.916-55.108,36.745C307.115,23.859,282.368,17.067,256,17.067 c-26.615,0-51.2,6.716-73.259,19.925C174.08,14.754,153.088,0,128,0C95.061,0,68.267,26.795,68.267,59.733 C68.267,88.397,88.559,112.41,115.541,118.161z M128,17.067c19.226,0,35.021,12.177,40.115,30.054 c-11.085,8.61-21.163,18.816-29.901,30.592c-2.807,3.789-2.014,9.131,1.775,11.938c3.789,2.816,9.139,2.022,11.938-1.766 c8.9-12.006,19.26-22.281,30.788-30.507C204.288,41.95,228.949,34.133,256,34.133c41.429,0,78.396,19.098,104.098,53.786 c1.681,2.253,4.25,3.447,6.869,3.447c1.766,0,3.55-0.546,5.077-1.681c3.78-2.799,4.574-8.149,1.775-11.938 c-8.969-12.092-19.157-22.485-30.345-31.104c5.427-17.374,21.632-29.577,40.525-29.577c23.526,0,42.667,19.14,42.667,42.667 S407.526,102.4,384,102.4c-2.935,0-5.658,1.502-7.228,3.985c-1.553,2.483-1.732,5.589-0.461,8.243 c10.761,22.443,16.222,47.044,16.222,73.105C392.533,247.1,345.634,307.2,256,307.2s-136.533-60.1-136.533-119.467 c0-25.617,5.615-50.901,16.23-73.122c1.263-2.637,1.084-5.751-0.478-8.226c-1.562-2.483-4.292-3.985-7.219-3.985 c-23.526,0-42.667-19.14-42.667-42.667S104.474,17.067,128,17.067z"/>\n                <path fill="').concat(i,'" d="M256,290.133c47.053,0,85.333-30.626,85.333-68.267c0-36.258-36.489-76.8-85.333-76.8s-85.333,40.542-85.333,76.8 C170.667,259.507,208.947,290.133,256,290.133z M256,162.133c38.451,0,68.267,32.111,68.267,59.733 c0,28.237-30.626,51.2-68.267,51.2c-37.641,0-68.267-22.963-68.267-51.2C187.733,194.244,217.557,162.133,256,162.133z"/>\n                <path fill="').concat(i,'" d="M170.667,409.6c-18.825,0-34.133,15.309-34.133,34.133c0,18.825,15.309,34.133,34.133,34.133 s34.133-15.309,34.133-34.133C204.8,424.909,189.491,409.6,170.667,409.6z M170.667,460.8c-9.412,0-17.067-7.654-17.067-17.067 c0-9.412,7.654-17.067,17.067-17.067c9.412,0,17.067,7.654,17.067,17.067C187.733,453.146,180.079,460.8,170.667,460.8z"/>\n            </svg>')},e.prototype.exportPDFProfile=function(t,r){t=this._defaultExportProfileOptions(t,"pdf"),this._exportProfile(t,r)},e.prototype.exportPDFPreview=function(t){e.pdfPrevUI.show(this,t)},e.prototype.exportPNGProfile=function(t,r){t=this._defaultExportProfileOptions(t,"png"),this._exportProfile(t,r)},e.prototype.shareProfile=function(t){var r;typeof t=="object"?t=(r=t).focusId:r=this.editUI.content(t,!0,!0,"100%",!0);var i=new URL(window.location.href);i.searchParams.append("nodeId",t);var o={title:r.title,text:r.shareText,url:i.href};try{navigator.share(o)}catch(a){console.error("error: "+a)}},e.prototype.exportPDF=function(t,r){t=this._defaultExportOptions(t,"pdf"),this._export(t,r)},e.prototype.exportPNG=function(t,r){t=this._defaultExportOptions(t,"png"),this._export(t,r)},e.prototype.exportSVG=function(t,r){t=this._defaultExportOptions(t,"svg"),this._export(t,r)},e.prototype._defaultExportOptions=function(t,r){return t==null&&(t={}),r=="svg"?(t.ext="svg",t.mime="image/svg+xml"):r=="pdf"?(t.mime="application/pdf",t.ext="pdf"):r=="png"&&(t.mime="image/png",t.ext="png"),t.margin==null&&(t.margin=[50,40,50,40]),t.padding==null&&(t.padding=0),t.landscape==null&&(t.landscape=!1),t.filename==null&&(t.filename="FamilyTree."+t.ext),t.scale==null&&(t.scale="fit"),t.format==null&&(t.format="fit"),t.header==null&&(t.header=""),r=="pdf"&&t.footer==null?t.footer="Page {current-page} of {total-pages}":t.footer==null&&(t.footer=""),t.openInNewTab==null&&(t.openInNewTab=!1),t.mode==null&&(t.mode="bft-"+this.config.mode),t},e.prototype._export=function(t,r){var i=this,o={id:t.nodeId,expandChildren:t.expandChildren,min:t.min};t.margin&&t.margin[0]<2&&(t.margin[0]=2),t.margin&&t.margin[1]<2&&(t.margin[1]=2),t.margin&&t.margin[2]<2&&(t.margin[2]=2),t.margin&&t.margin[3]<2&&(t.margin[3]=2),this._draw(!1,e.action.exporting,o,function(a,s){var l=document.createElement("div");if(l.innerHTML=a,t.padding>0){var c=l.querySelector("svg"),d=e._getViewBox(c);d[0]-=t.padding,d[1]-=t.padding,d[2]+=2*t.padding,d[3]+=2*t.padding,c.setAttribute("viewBox",d.join()),c.setAttribute("width",d[2]),c.setAttribute("height",d[3])}if(t.ext=="svg")if(r)r(t,l.innerHTML);else{(c=l.querySelector("svg")).classList.add("bft-"+i.config.mode);var f={content:l.innerHTML,options:t,styles:""},u=e.events.publish("exportstart",[i,f]),p=i.element.querySelector("[data-bft-styles]");if(p&&(f.styles+=p.outerHTML),f.styles&&(l.childNodes[0].insertAdjacentHTML("afterbegin",f.styles),f.content=l.innerHTML),u===!1||(u=e.events.publish("exportend",[i,f]))===!1)return!1;e._downloadFile(t.mime,f.content,f.options.filename,f.options.openInNewTab,f.options.ext)}else i._pages(t,l.querySelector("svg"),s,function(g){var m={content:l.innerHTML,options:t,pages:g,styles:""},w=e.events.publish("exportstart",[i,m]),y=i.element.querySelector("[data-bft-styles]");if(y&&(m.styles+=y.outerHTML),w===!1)return!1;r||e.loading.show(i),r?r(i,m,l.querySelector("svg")):(m=JSON.stringify(m),e._ajax(i.config.exportUrl+"/v3","POST",m,"arraybuffer",function(x){var v=e.events.publish("exportend",[i,x]);if(e.loading.hide(i),v===!1)return!1;e._downloadFile(t.mime,x,t.filename,t.openInNewTab,t.ext)}))})})},e.prototype.exportCSV=function(t){var r=e._defaultExportProfileOptionsForCSV_SVG_JSON(t,"csv"),i=this.getNode(r.nodeId),o=null;i?(o=[],e._exportIterateForJSON_XML_CSV(this,i,r,o)):r.min===!1||r.expandChildren===!1?e._exportIterateForJSON_XML_CSV(this,this.roots,r,o):o=JSON.parse(JSON.stringify(this.config.nodes));var a={ext:"csv",filename:t,options:r,nodes:o};if(e.events.publish("exportstart",[this,a])===!1)return!1;var s=e._json2csv(a.nodes),l={ext:a.ext,filename:a.filename,options:r,nodes:a.nodes,content:s};if(e.events.publish("exportend",[this,l])===!1)return!1;e._downloadFile("text/csv;charset=utf-8;","\uFEFF"+l.content,l.options.filename,l.options.openInNewTab,l.ext)},e.prototype.exportXML=function(t){var r=e._defaultExportProfileOptionsForCSV_SVG_JSON(t,"xml"),i=this.getNode(r.nodeId),o=null;i?(o=[],e._exportIterateForJSON_XML_CSV(this,i,r,o)):r.min===!1||r.expandChildren===!1?e._exportIterateForJSON_XML_CSV(this,this.roots,r,o):o=JSON.parse(JSON.stringify(this.config.nodes));var a={ext:"xml",filename:t,options:r,nodes:o};if(e.events.publish("exportstart",[this,a])===!1)return!1;var s=e._json2xml(a.nodes),l={ext:a.ext,filename:a.filename,options:r,nodes:a.nodes,content:s};if(e.events.publish("exportend",[this,l])===!1)return!1;e._downloadFile("application/xml",l.content,l.options.filename,l.options.openInNewTab,l.ext)},e.prototype.exportJSON=function(t){var r=e._defaultExportProfileOptionsForCSV_SVG_JSON(t,"json"),i=this.getNode(r.nodeId),o=null;i?(o=[],e._exportIterateForJSON_XML_CSV(this,i,r,o)):r.min===!1||r.expandChildren===!1?e._exportIterateForJSON_XML_CSV(this,this.roots,r,o):o=JSON.parse(JSON.stringify(this.config.nodes));var a={ext:"json",filename:r.filename,options:r,nodes:o};if(e.events.publish("exportstart",[this,a])===!1)return!1;var s={ext:a.ext,filename:a.filename,options:r,nodes:a.nodes,content:JSON.stringify(a.nodes)};if(e.events.publish("exportend",[this,s])===!1)return!1;e._downloadFile("application/json",s.content,s.options.filename,s.options.openInNewTab,s.ext)},e._exportIterateForJSON_XML_CSV=function(t,r,i,o){if(Array.isArray(r))for(var a=0;a<r.length;a++)e._exportIterateForJSON_XML_CSV(t,r[a],i,o);else{var s=t.get(r.id);if(o.push(s),i.min)for(a=0;a<r.stChildrenIds.length;a++)e._exportIterateForJSON_XML_CSV(t,t.getNode(r.stChildrenIds[a]),i,o);else for(a=0;a<r.stChildren.length;a++)e._exportIterateForJSON_XML_CSV(t,r.stChildren[a],i,o);if(i.expandChildren)for(a=0;a<r.childrenIds.length;a++)e._exportIterateForJSON_XML_CSV(t,t.getNode(r.childrenIds[a]),i,o);else for(a=0;a<r.children.length;a++)e._exportIterateForJSON_XML_CSV(t,r.children[a],i,o)}},e.prototype._pages=function(t,r,i,o){t.format=="A5"&&t.scale!="fit"||t.format=="A4"&&t.scale!="fit"||t.format=="A3"&&t.scale!="fit"||t.format=="A2"&&t.scale!="fit"||t.format=="A1"&&t.scale!="fit"||t.format=="Letter"&&t.scale!="fit"||t.format=="Legal"&&t.scale!="fit"?o(this._pagesA100(t,r,t.scale)):t.format=="A5"&&t.scale=="fit"||t.format=="A4"&&t.scale=="fit"||t.format=="A3"&&t.scale=="fit"||t.format=="A2"&&t.scale=="fit"||t.format=="A1"&&t.scale=="fit"||t.format=="Letter"&&t.scale=="fit"||t.format=="Legal"&&t.scale=="fit"?o(this._pagesAfit(t,r,i)):t.format=="fit"&&o(this._pagesFit(t,r))},e.prototype._pagesFit=function(t,r){var i=r.getAttribute("width"),o=r.getAttribute("height"),a=e._getViewBox(r),s={w:parseFloat(i),h:parseFloat(o)};return[{vb:a,size:{w:s.w+(t.margin[1]+t.margin[3]),h:s.h+(t.margin[0]+t.margin[2])},innerSize:s}]},e.prototype._pagesAfit=function(t,r,i){var o=r.getAttribute("width"),a=0,s=0;switch(t.format){case"A5":a=e.A5w,s=e.A5h;break;case"A4":a=e.A4w,s=e.A4h;break;case"A3":a=e.A3w,s=e.A3h;break;case"A2":a=e.A2w,s=e.A2h;break;case"A1":a=e.A1w,s=e.A1h;break;case"Letter":a=e.Letterw,s=e.Letterh;break;case"Legal":a=e.Legalw,s=e.Legalh}var l=t.landscape?s-(t.margin[1]+t.margin[3]):a-(t.margin[1]+t.margin[3]),c=(t.landscape,t.margin[0],t.margin[2],l/o);return this._pagesA100(t,r,100*c,i)},e.prototype._pagesA100=function(t,r,i,o){var a=e._getViewBox(r),s=0,l=0;switch(t.format){case"A5":s=e.A5w,l=e.A5h;break;case"A4":s=e.A4w,l=e.A4h;break;case"A3":s=e.A3w,l=e.A3h;break;case"A2":s=e.A2w,l=e.A2h;break;case"A1":s=e.A1w,l=e.A1h;break;case"Letter":s=e.Letterw,l=e.Letterh;break;case"Legal":s=e.Legalw,l=e.Legalh}var c=a[0],d=a[1],f=a[2],u=a[3],p={w:t.landscape?l-(t.margin[1]+t.margin[3]):s-(t.margin[1]+t.margin[3]),h:t.landscape?s-(t.margin[0]+t.margin[2]):l-(t.margin[0]+t.margin[2])},g={w:t.landscape?l:s,h:t.landscape?s:l};r.setAttribute("width",p.w),r.setAttribute("height",p.h);var m=p.w*(100/i),w=p.h*(100/i),y=c,x=d,v=[],S=!0;if(!e.EXPORT_PAGES_CUT_NODES&&t.scale=="fit"){r.setAttribute("preserveAspectRatio","xMinYMin");for(var _=Object.keys(o.bordersByRootIdAndLevel),b=o.bordersByRootIdAndLevel[_[0]],C=Object.keys(b).length,N=1;N<_.length;N++)C<Object.keys(o.bordersByRootIdAndLevel[_[N]]).length&&(b=o.bordersByRootIdAndLevel[_[N]],C=Object.keys(b).length);for(var I=0,E=0;;){for(E=I;!(C<=I);){if((b[I].maxY-b[I].minY)/(100/i)>p.h){S=!1;break}var A=(b[I].minY-b[E].minY)/(100/i);if(I==C-1&&(A=(b[I].maxY-b[E].minY)/(100/i)),A>p.h)break;I++}if(!S)break;var T=(I==C?b[I-1].maxY:b[I-1].minY)-b[E].minY;if(T==0){S=!1;break}if(P=(P=[y,b[E].minY,m,T]).join(),v.push({vb:P,innerSize:{w:p.x,h:T/(100/i)-1},size:g}),I==C)break;I--}v.length&&(v[v.length-1].innerSize.h+=1)}if(!S||e.EXPORT_PAGES_CUT_NODES||t.scale!="fit")for(r.setAttribute("preserveAspectRatio","xMinYMin slice"),v=[];y<f+c;){for(;x<u+d;){var P;P=(P=[y,x,m,w]).join(),v.push({vb:P,innerSize:p,size:g}),x+=w}y+=m,x=d}return v},e.prototype._defaultExportProfileOptions=function(t,r){return e.isNEU(t)||t.id==null||t.nodeId!=null||(t.nodeId=t.id),(e.isNEU(t)||e.isNEU(t.nodeId))&&console.error("options.nodeId is not defilned"),r=="svg"?(t.ext="svg",t.mime="image/svg+xml"):r=="pdf"?(t.mime="application/pdf",t.ext="pdf"):r=="png"&&(t.mime="image/png",t.ext="png"),t.margin==null&&(t.margin=[50,40,50,40]),t.padding==null&&(t.padding=0),t.landscape==null&&(t.landscape=!1),t.filename==null&&(t.filename="Profile."+t.ext),t.scale==null&&(t.scale="fit"),t.format==null&&(t.format="A4"),t.header==null&&(t.header=""),t.footer==null&&(t.footer=""),t.openInNewTab==null&&(t.openInNewTab=!1),t.mode==null&&(t.mode="bft-"+this.config.mode),t},e._defaultExportProfileOptionsForCSV_SVG_JSON=function(t,r){return e.isNEU(t)&&(t={}),typeof t=="string"&&(t={filename:t}),e.isNEU(t.filename)&&(t.filename="FamilyTree.".concat(r)),e.isNEU(t.expandChildren)&&(t.expandChildren=!0),e.isNEU(t.min)&&(t.min=!0),e.isNEU(t.openInNewTab)&&(t.openInNewTab=!1),t},e.prototype._exportProfile=function(t,r){var i=this,o=0,a=0;switch(t.format){case"A5":o=e.A5w,a=e.A5h;break;case"A4":o=e.A4w,a=e.A4h;break;case"A3":o=e.A3w,a=e.A3h;break;case"A2":o=e.A2w,a=e.A2h;break;case"A1":o=e.A1w,a=e.A1h;break;case"Letter":o=e.Letterw,a=e.Letterh;break;case"Legal":o=e.Legalw,a=e.Legalh}var s={w:t.landscape?a-(t.margin[1]+t.margin[3]):o-(t.margin[1]+t.margin[3]),h:t.landscape?o-(t.margin[0]+t.margin[2]):a-(t.margin[0]+t.margin[2])},l={w:t.landscape?a:o,h:t.landscape?o:a},c=this.editUI.content(t.nodeId,!0,!0,"100%",!0).element;e.input.init(c);var d={content:c.outerHTML,options:t,pages:[{vb:"",innerSize:s,size:l}],styles:""};if(!r){if(e.events.publish("exportstart",[i,d])===!1)return!1;e.loading.show(i)}var f=this.element.querySelector("[data-bft-styles]");f&&(d.styles+=f.outerHTML);var u=this.getSvg().querySelector("defs");if(u)for(var p=0;p<u.children.length;p++)u.children[p].nodeName.toLowerCase()=="style"&&(d.styles+=u.children[p].outerHTML);d=JSON.stringify(d),e._ajax(this.config.exportUrl+"/v3","POST",d,"arraybuffer",function(g){if(r)r(i,g);else{var m=e.events.publish("exportend",[i,g]);if(e.loading.hide(i),m===!1)return!1;e._downloadFile(t.mime,g,t.filename,t.openInNewTab,t.ext)}})},e===void 0&&(e={}),e.events=function(){var t={};return{on:function(r,i,o){Array.isArray(t[r])||(t[r]=[]),t[r].push({listener:i,event_id:o})},removeAll:function(r){Array.isArray(t[r])||(t[r]=[]),t[r]=[]},remove:function(r,i,o){var a=!1;if(t[r]&&Array.isArray(t[r])&&t[r].length>0)for(var s=t[r].length-1;s>=0;s--)(!e.isNEU(o)&&!e.isNEU(i)&&t[r][s].event_id==o&&t[r][s].listener==i||!e.isNEU(o)&&e.isNEU(i)&&t[r][s].event_id==o||e.isNEU(o)&&!e.isNEU(i)&&t[r][s].listener==i||e.isNEU(o)&&e.isNEU(i))&&(t[r].splice(s,1),a=!0);return a},has:function(r,i){if(t[r]&&Array.isArray(t[r])&&t[r].length>0){if(e.isNEU(i))return!0;for(var o=0;o<t[r].length;o++)if(t[r][o].event_id==i)return!0}return!1},removeForEventId:function(r){for(var i in t)if(Array.isArray(t[i]))for(var o=t[i].length-1;o>=0;o--)t[i][o].event_id==r&&t[i].splice(o,1)},publish:function(r,i){if(t[r]){for(var o=[],a=0;a<t[r].length;a++){var s=t[r][a];s.event_id!=null&&s.event_id!=i[0]._event_id||o.push(s.listener)}if(o.length>0){var l=!0;for(a=0;a<o.length&&(i.length==1?l=o[a](i[0])&&l:i.length==2?l=o[a](i[0],i[1])&&l:i.length==3?l=o[a](i[0],i[1],i[2])&&l:i.length==4?l=o[a](i[0],i[1],i[2],i[3])&&l:i.length==5&&(l=o[a](i[0],i[1],i[2],i[3],i[4])&&l),l!==!1);a++);return l}}}}}(),e.prototype.importCSV=function(){var t=this,r=document.createElement("INPUT");r.setAttribute("type","file"),r.setAttribute("accept",".csv"),r.style.display="none",r.onchange=function(i){var o=i.target,a=new FileReader;a.onload=function(){var s=a.result,l=e._csvToArray(s),c=[],d=l[0];e._importSetColumnNames(d,function(f){for(var u=1;u<l.length;u++){for(var p={},g=0;g<l[u].length;g++){var m=f[g],w=l[u][g];p[m]=e._convertStringToArray(m,w)}p.id.trim()!=""&&c.push(p)}var y={nodes:c,columnNames:l[0]};e.events.publish("import",[t,y])!=0&&(t._putInUndoStack(),t.clearRedo(),t.config.nodes=y.nodes,e.events.publish("updated",[t]),t.filterUI.update(),t.draw())})},a.readAsText(o.files[0])},r.click()},e._importSetColumnNames=function(t,r){if(t.indexOf("id")==-1||t.indexOf("pid")==-1){var i=document.createElement("DIV"),o=document.createElement("P");o.style.padding="5px",o.style.color="rgb(122, 122, 122)",o.innerHTML=e.IMPORT_MESSAGE,i.appendChild(o);var a=document.createElement("div"),s=document.createElement("div"),l=document.createElement("div"),c=document.createElement("span");a.setAttribute("id","bft-sampleDialog"),a.style.height="260px",a.style.width="400px",a.style.background="white",a.style.border="0.5px solid grey",a.style.position="fixed",a.style.overflow="hidden",a.style.zIndex="99",s.setAttribute("id","title"),s.style.backgroundColor="#e5e5e5",s.style.fontWeight="bold",s.style.color="rgb(122, 122, 122)",s.style.height="20px",s.style.padding="3px 0 0 7px",c.setAttribute("id","close"),c.style.cursor="pointer",c.style.position="absolute",c.style.color="rgb(122, 122, 122)",c.style.fontWeight="bold",c.style.top="2px",c.style.zIndex=100,l.setAttribute("id","content"),l.style.padding="2px",s.innerHTML="Import Organizational Chart Data",c.innerHTML="&times;";var d=document.createElement("HR");d.style.height="0.1px",d.style.backgroundColor="#aeaeae",d.style.border="none",d.style.margin="0",a.appendChild(s),a.appendChild(d),l.appendChild(i),a.appendChild(l),a.appendChild(c),document.body.appendChild(a),e._importCenter(a),c.style.left=a.offsetWidth-20+"px";var f=document.createElement("div");f.setAttribute("id","overlay"),f.style.width="100%",f.style.height="100%",f.style.left=0,f.style.top=0,f.style.position="fixed",f.style.background="grey",f.style.opacity="0.5",f.style.zIndex=98,document.body.appendChild(f),a._overlay=f;var u=document.createElement("LABEL"),p=document.createTextNode("Name:");u.setAttribute("for","bft-id-select"),u.appendChild(p),u.style.fontSize="16px",u.style.color="rgb(122, 122, 122)",u.style.padding="5px",u.style.margin="5px",u.style.width="30%",u.style.textAlign="right",u.style.display="inline-block",i.appendChild(u);var g=document.createElement("SELECT");g.id="bft-id-select",g.style.fontSize="16px",g.style.color="rgb(122, 122, 122)",g.style.padding="5px",g.style.margin="5px",g.style.width="60%",g.style.border="1px solid #aeaeae",i.appendChild(g);var m=document.createElement("BR");i.appendChild(m);for(var w=0;w<t.length;w++){(_=document.createElement("option")).setAttribute("value",t[w]);var y=document.createTextNode(t[w]);_.appendChild(y),g.appendChild(_)}var x=document.createElement("LABEL"),v=document.createTextNode("Reports to:");x.setAttribute("for","pid-select"),x.appendChild(v),x.style.fontSize="16px",x.style.color="rgb(122, 122, 122)",x.style.padding="5px",x.style.margin="5px",x.style.width="30%",x.style.textAlign="right",x.style.display="inline-block",i.appendChild(x);var S=document.createElement("SELECT");for(S.id="pid-select",S.style.fontSize="16px",S.style.color="rgb(122, 122, 122)",S.style.padding="5px",S.style.margin="5px",S.style.width="60%",S.style.border="1px solid #aeaeae",i.appendChild(S),w=0;w<t.length;w++){var _;(_=document.createElement("option")).setAttribute("value",t[w]),y=document.createTextNode(t[w]),_.appendChild(y),S.appendChild(_)}var b=document.createElement("BUTTON");b.innerHTML="Import",b.style.fontSize="16px",b.style.color="rgb(122, 122, 122)",b.style.padding="5px 20px",b.style.margin="20px auto",b.style.display="block",b.onclick=function(){a.style.display="none",a._overlay&&a._overlay.parentNode.removeChild(a._overlay);var N=g.options[g.selectedIndex].value,I=t.indexOf(N);t[I]="id";var E=S.options[S.selectedIndex].value,A=t.indexOf(E);t[A]="pid",r(t)};var C=document.createElement("DIV");return C.appendChild(b),i.appendChild(C),c.onclick=function(N){a._overlay&&a._overlay.parentNode.removeChild(a._overlay),a.parentNode.removeChild(a),N.stopPropagation()},s.onmousedown=function(N){N=N||window.event,a._dragging=!0,a._originalLeft=a.offsetLeft,a._originalTop=a.offsetTop,a._mouseLeft=N.clientX,a._mouseTop=N.clientY},document.onmousemove=function(N){N=N||window.event,a._dragging&&(a.style.left=a._originalLeft+N.clientX-a._mouseLeft+"px",a.style.top=a._originalTop+N.clientY-a._mouseTop+"px")},document.onmouseup=function(N){N=N||window.event,a._dragging&&(a.style.left=a._originalLeft+N.clientX-a._mouseLeft+"px",a.style.top=a._originalTop+N.clientY-a._mouseTop+"px",a._dragging=!1)},a}r(t)},e._importCenter=function(t){t&&(t.style.left=(window.innerWidth-t.offsetWidth)/2+"px",t.style.top=(window.innerHeight-t.offsetHeight)/2+"px")},e.prototype.importXML=function(){var t=this,r=document.createElement("INPUT");r.setAttribute("type","file"),r.setAttribute("accept",".xml"),r.style.display="none",r.onchange=function(i){var o=i.target,a=new FileReader;a.onload=function(){var s=a.result,l=e._xml2json(s);e.events.publish("import",[t,l])!=0&&(t._putInUndoStack(),t.clearRedo(),t.config.nodes=l,e.events.publish("updated",[t]),t.filterUI.update(),t.draw())},a.readAsText(o.files[0])},r.click()},e.prototype.importJSON=function(){var t=this,r=document.createElement("INPUT");r.setAttribute("type","file"),r.setAttribute("accept",".json"),r.style.display="none",r.onchange=function(i){var o=i.target,a=new FileReader;a.onload=function(){var s=a.result,l=JSON.parse(s);e.events.publish("import",[t,l])!=0&&(t._putInUndoStack(),t.clearRedo(),t.config.nodes=l,e.events.publish("updated",[t]),t.filterUI.update(),t.draw())},a.readAsText(o.files[0])},r.click()},e.prototype.__importJSON=e.prototype.importJSON,e.prototype.importJSON=function(){this.config.roots=[],this.__importJSON()},e.prototype.__importCSV=e.prototype.importCSV,e.prototype.importCSV=function(){this.config.roots=[],this.__importCSV()},e.prototype.__importXML=e.prototype.importXML,e.prototype.importXML=function(){this.config.roots=[],this.__importXML()},e._importSetColumnNames=function(t,r){r(t)},e.prototype.expand=function(t,r,i){this._resetMovableNodes();var o={id:t,ids:r};this._draw(!1,e.action.expand,o,i)},e.prototype.collapse=function(t,r,i){this._resetMovableNodes();var o={id:t,ids:r};this._draw(!1,e.action.collapse,o,i)},e.prototype.expandCollapse=function(t,r,i,o){this._resetMovableNodes(),Array.isArray(r)||(r=[]),Array.isArray(i)||(i=[]);var a={id:t,expandIds:r,collapseIds:i,ids:r.concat(i)};this._draw(!1,e.action.collapse,a,o)},e.prototype.changeRoots=function(t,r,i){this.config.roots=r;var o={id:t,changeRoots:r};this._draw(!1,e.action.update,o,i)},e.prototype._resetMovableNodes=function(){if(e.RESET_MOVABLE_ONEXPANDCOLLAPSE&&this.config.movable!=null){for(var t=!1,r=0;r<this.config.nodes.length;r++){var i=this.config.nodes[r];i.movex!=null&&(i.movex=0,t=!0),i.movey!=null&&(i.movey=0,t=!0)}t&&e.events.publish("updated",[this])}},e.prototype.maximize=function(t,r,i,o){var a=this,s={id:t,options:{}};e.isNEU(s.id)&&(s.id=this.roots[0].id,s.all=!0),s.options.horizontal=!1,s.options.vertical=!1,r&&(s.options.horizontal=r),i&&(s.options.vertical=i),this._draw(!1,e.action.maximize,s,function(){a.ripple(t),o&&o()})},e.prototype.minimize=function(t,r){var i=this,o={id:t};e.isNEU(o.id)&&(o.id=this.roots[0].id,o.all=!0),this._draw(!1,e.action.minimize,o,function(){i.ripple(t),r&&r()})},e.prototype._expCollHandler=function(t){this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.menuUI.hide(),this.nodeCircleMenuUI.hide();var r=this.getNode(t),i=this.getCollapsedIds(r);if(i.length){if(e.events.publish("expcollclick",[this,!1,t,i])===!1)return!1;this.expand(t,i,!1)}else{if(e.events.publish("expcollclick",[this,!0,t,r.childrenIds])===!1)return!1;this.collapse(t,r.childrenIds,!1)}},e.prototype._upHandler=function(t){this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.menuUI.hide(),this.nodeCircleMenuUI.hide();var r=this._upHandlerCreateArgs(t);if(e.events.publish("up-click",[this,r])===!1)return!1;this.changeRoots(r.id,r.roots,!1)},e.prototype._upHandlerCreateArgs=function(t){var r,i=this.getNode(t),o=Object.assign([],this.config.roots),a=this.getNode(i.pid);if(a&&(r=a),r){if(Array.isArray(o)){var s=o.indexOf(i.id);s!=-1&&o.splice(s,1)}else o=[];o.push(r.id)}return{id:i.id,roots:o}},e.prototype._upHandlerCreateArgs=function(t){var r=this.getNode(t),i=Object.assign([],this.config.roots),o=this.getRecentRootsByNodeId(t);return Array.isArray(i)||(i=[]),e._changeRootOption(i,o,this.manager.rootList),{id:r.id,roots:i}},String.prototype.replaceAll||(String.prototype.replaceAll=function(t,r){return this.replace(new RegExp(t,"g"),r)}),String.prototype.endsWith||(String.prototype.endsWith=function(t){return this.indexOf(t,this.length-t.length)!==-1}),String.prototype.splice||(String.prototype.splice=function(t,r,i){return this.slice(0,t)+i+this.slice(t+Math.abs(r))}),String.prototype.insert||(String.prototype.insert=function(t,r){return t>0?this.substring(0,t)+r+this.substr(t):r+this}),Array.prototype.unique||Object.defineProperty(Array.prototype,"unique",{value:function(){for(var t=this.concat(),r=0;r<t.length;++r)for(var i=r+1;i<t.length;++i)t[r]===t[i]&&t.splice(i--,1);return t},writable:!0,configurable:!0,enumerable:!1}),Array.prototype.has||Object.defineProperty(Array.prototype,"has",{value:function(t){for(var r=0;r<this.length;r++)if(this[r]==t)return!0;return!1},writable:!0,configurable:!0,enumerable:!1}),Array.prototype.compare||Object.defineProperty(Array.prototype,"compare",{value:function(t){if(this.length!=t.length)return!1;for(var r=0;r<this.length;r++)if(!t.has(this[r]))return!1;return!0},writable:!0,configurable:!0,enumerable:!1}),Object.assign||Object.defineProperty(Object,"assign",{value:function(t,r){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),o=1;o<arguments.length;o++){var a=arguments[o];if(a!=null)for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])}return i},writable:!0,configurable:!0}),e.prototype._globalMouseDownHandler=function(t,r){var i={move:"mousemove",up:"mouseup",leave:"mouseleave"};if(r.type.indexOf("touch")!=-1&&(r.touches.length==1?this._touch={x:r.touches[0].clientX,y:r.touches[0].clientY}:this._touch=null,i={move:"touchmove",up:"touchend",touchstart:"touchstart"}),t==r.target)return r.stopPropagation(),r.preventDefault(),void this._mouseDownHandler(t,r,i);if(this.config.nodeMouseClick==e.action.pan){for(var o=r.target;o!=t&&!o.hasAttribute(e.attr.control_expcoll_id)&&!o.hasAttribute(e.attr.control_up_id);)o=o.parentNode;if(!o.hasAttribute(e.attr.control_expcoll_id)&&!o.hasAttribute(e.attr.control_up_id))return r.stopPropagation(),r.preventDefault(),void this._mouseDownHandler(t,r,i)}for(var a=r.target;a!=t;){if(a.hasAttribute(e.attr.node_id))return void this._nodeMouseDownHandler(a,r,i);if(a.hasAttribute(e.attr.control_node_circle_menu_name))return r.stopPropagation(),r.preventDefault(),void this._nodeCircleNodeMenuItemMouseDownHandler(a,r,i);a=a.parentNode}},e.prototype._globalClickHandler=function(t,r){if(r.type.indexOf("touch")!=-1&&this._touch&&r.changedTouches.length==1){if(r.changedTouches.length){var i={x:r.changedTouches[0].clientX,y:r.changedTouches[0].clientY},o=e.t(this.config.template,!1,this.getScale()).size,a=this.getScale(),s=Math.abs(i.x-this._touch.x)/a,l=Math.abs(i.y-this._touch.y)/a;if(this._touch=null,s>o[0]/10||l>o[1]/10)return}}else if(r.type.indexOf("touch")!=-1&&this._touch==null)return;for(var c=r.target;c!=t;){if(c.hasAttribute(e.attr.control_expcoll_id)){var d=c.getAttribute(e.attr.control_expcoll_id),f=this.getNode(d);return void this._expCollHandler(f.id)}if(c.hasAttribute(e.attr.node_id))return d=c.getAttribute(e.attr.node_id),f=this.getNode(d),void this._nodeClickHandler(f.id,r);if(c.hasAttribute(e.attr.control_node_menu_id))return r.stopPropagation(),r.preventDefault(),d=c.getAttribute(e.attr.control_node_menu_id),f=this.getNode(d),void this._nodeMenuClickHandler(f.id,c,r);if(c.hasAttribute(e.attr.control_node_circle_menu_id))return r.stopPropagation(),r.preventDefault(),d=c.getAttribute(e.attr.control_node_circle_menu_id),void this._nodeCircleMenuClickHandler(d);if(c.hasAttribute(e.attr.control_node_circle_menu_name))return r.stopPropagation(),r.preventDefault(),void this._nodeCircleMenuItemClickHandler(c,r);if(c.hasAttribute(e.attr.control_add))return void this._lonelyButtonHandler();if(c.hasAttribute(e.attr.control_up_id))return d=c.getAttribute(e.attr.control_up_id),r.stopPropagation(),r.preventDefault(),void this._upHandler(d);if(c.hasAttribute(e.attr.c_link_from))return void e.events.publish("clink-click",[this,{from:c.getAttribute(e.attr.c_link_from),to:c.getAttribute(e.attr.c_link_to),event:r}]);if(c.hasAttribute(e.attr.s_link_from))return void e.events.publish("slink-click",[this,{from:c.getAttribute(e.attr.s_link_from),to:c.getAttribute(e.attr.s_link_to),event:r}]);c=c.parentNode}},e.prototype._globalContextHandler=function(t,r){for(var i=r.target;i!=t;){if(i.hasAttribute(e.attr.node_id)){var o=i.getAttribute(e.attr.node_id),a=this.getNode(o);return void this._nodeContextHandler(a.id,r)}i=i.parentNode}},e.prototype._nodeContextHandler=function(t,r){r.preventDefault(),e.SEARCH_CLOSE_RESULT_ON_ESCAPE_OR_CLICKOUTSIDE&&this.searchUI.hide(),this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.menuUI.hide(),this.nodeCircleMenuUI.hide();var i=this.get(t),o=null;if(i!=null&&Array.isArray(i.tags))for(var a=0;a<i.tags.length;a++){var s=i.tags[a];this.config.tags[s]&&this.config.tags[s].nodeContextMenu&&(o=this.config.tags[s].nodeContextMenu)}var l=this.element.getBoundingClientRect(),c=r.clientX-l.left,d=r.clientY-l.top;this.nodeContextMenuUI.show(c,d,t,null,o)},e.prototype._globalDbClickHandler=function(t,r){for(var i=r.target;i!=t;){if(i.hasAttribute(e.attr.node_id)){var o=i.getAttribute(e.attr.node_id),a=this.getNode(o);return void this._nodeDbClickHandler(a.id,r)}i=i.parentNode}},e.prototype._mouseScrollHandler=function(t,r){this.__mouseScrollHandler(this.getSvg(),r)},e.prototype.__mouseScrollHandler=function(t,r){if(r.ctrlKey){if(this.config.mouseScrool==e.action.zoom)return}else if(this.config.mouseScrool==e.action.ctrlZoom||this.config.mouseScrool!=e.action.zoom)return;var i=this,o=!1,a=this.config.zoom.speed,s=this.config.zoom.smooth,l=0,c=this.getScale(),d=e._centerPointInPercent(t,r.pageX,r.pageY),f=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(p){setTimeout(p,20)};r.preventDefault();var u=r.delta||r.wheelDelta;u===void 0&&(u=-r.detail),u=Math.max(-1,Math.min(1,u)),l+=-u*a,o||function p(){o=!0;var g=(l-c)/s;g>0?g++:g--,c+=g,i.zoom(1-g/12/50,d),parseInt(c)==parseInt(l)?o=!1:f(p)}()},e.prototype._nodeCircleNodeMenuItemMouseDownHandler=function(t,r,i){var o=t.parentNode.getAttribute(e.attr.control_node_circle_menu_wrraper_id),a=t.getAttribute(e.attr.control_node_circle_menu_name),s=this.nodeCircleMenuUI._menu[a];if(s.draggable){var l=this,c=e._getClientXY(r),d=this.getNode(o);t._dragEventFired=!1;var f=l.getScale(),u=null,p=null;this._gragStartedId=o,document.body.style.mozUserSelect=document.body.style.webkitUserSelect=document.body.style.userSelect="none";var g=this.getSvg(),m={x:c.x,y:c.y},w=t.cloneNode(!0);g.insertBefore(w,g.firstChild);var y=e._getTransform(w),x=y[4],v=y[5],S=function(N){for(;N&&!N.hasAttribute(e.attr.control_node_circle_menu_wrraper_id);)N=N.parentNode;if(N){var I=e._getTransform(N);return{x:I[4],y:I[5]}}console.error("cannot find parent"+e.attr.control_node_circle_menu_wrraper_id)}(t);w.setAttribute("transform","matrix(1,0,0,1,"+(x+S.x)+","+(v+S.y)+")"),w.style.opacity=.7;var _=function(N,I){if(N!=null){I.classList.remove("bft-drag-over");for(var E=e.getStParentNodes(l.getNode(u)),A=0;A<E.length;A++){var T=l.getNodeElement(E[A].id);T&&(T.style.opacity=1)}}},b=function(N){if(m){var I=e._getClientXY(N),E=N.target;e.isMobile()&&(E=document.elementFromPoint(I.x,I.y)),I.x+=S.x*f,I.y+=S.y*f;var A=e._getOffsetXY(l.element,N),T={left:l.width()-(A.x+l.config.padding)<0,right:A.x-l.config.padding<0,up:l.height()-(A.y+l.config.padding)<0,down:A.y-l.config.padding<0};if(T.left||T.right||T.up||T.down){g.classList&&(g.classList.remove("bft-cursor-grab"),g.classList.add("bft-cursor-move"),g.classList.remove("bft-cursor-nodrop"),g.classList.remove("bft-cursor-copy"));var P=y[4],O=y[5],D=m.x,W=m.y,H=I.x,M=I.y;l.moveStart(T,function(X){y[4]=P+X.x,y[5]=O+X.y,m.x=D-X.xWithoutScale,m.y=W-X.yWithoutScale,I.x=H-X.xWithoutScale,I.y=M-X.yWithoutScale,w.setAttribute("transform","matrix("+y.toString()+")")})}else{for(l.moveEnd(),g.classList&&(g.classList.add("bft-cursor-grab"),g.classList.remove("bft-cursor-move"),g.classList.remove("bft-cursor-nodrop"),g.classList.remove("bft-cursor-copy")),_(u,p),u=null,p=null;E!=null&&E!=g;){if(E.hasAttribute&&E.hasAttribute(e.attr.node_id)){var L=E.getAttribute(e.attr.node_id);u=L,p=E;break}E=E.parentNode}if(u!=null){p.classList.add("bft-drag-over");for(var j=l.getNode(u),F=e.getStParentNodes(j),q=0;q<F.length;q++){var Y=l.getNodeElement(F[q].id);Y&&(Y.style.opacity=.1)}g.classList.remove("bft-cursor-grab"),g.classList.remove("bft-cursor-move"),g.classList.add("bft-cursor-copy"),g.classList.remove("bft-cursor-nodrop")}var K=(I.x-m.x)/f,U=(I.y-m.y)/f;y[4]=x+K,y[5]=v+U,!t._dragEventFired&&(Math.abs(I.x-m.x)>e.FIRE_DRAG_NOT_CLICK_IF_MOVE||Math.abs(I.y-m.y)>e.FIRE_DRAG_NOT_CLICK_IF_MOVE)&&(e.events.publish("drag",[l.nodeCircleMenuUI,{from:L,menuItem:s,menuItemName:a}])===!1&&C(),t._dragEventFired=!0),w.setAttribute("transform","matrix("+y.toString()+")")}}},C=function(N){if(l.moveEnd(),g.classList&&(g.classList.remove("bft-cursor-grab"),g.classList.remove("bft-cursor-move"),g.classList.remove("bft-cursor-nodrop"),g.classList.remove("bft-cursor-copy")),g.removeEventListener(i.move,b),g.removeEventListener(i.up,C),i.leave&&g.removeEventListener(i.leave,C),d.id==u||u==null)return g.removeChild(w),l._gragStartedId=null,void(t._dragEventFired&&e.events.publish("drop",[l.nodeCircleMenuUI,{from:d.id,menuItemName:a,menuItem:s,event:N}]));var I=l.getNode(u);e.events.publish("drop",[l.nodeCircleMenuUI,{from:d.id,to:I.id,menuItem:s,menuItemName:a,event:N}]),_(u,p),g.removeChild(w),l._gragStartedId=null};g.addEventListener(i.move,b),g.addEventListener(i.up,C),i.leave&&g.addEventListener(i.leave,C)}},e.prototype._nodeMouseDownHandler=function(t,r,i){var o=t.getAttribute(e.attr.node_id),a=this.getNode(o);this.config.movable&&!e.getRootOf(a).stParent?this._movableHandler(t,r,i):this.config.enableDragDrop&&this._dragDropHandler(t,r,i)},e.prototype._movableHandler=function(t,r,i){var o=this,a=t.getAttribute(e.attr.node_id),s=[],l=function(M,L){if(Array.isArray(M))for(var j=0;j<M.length;j++)l(M[j],L);else{for(L.push(M.id),j=0;j<M.stChildren.length;j++)l(M.stChildren[j],L);for(j=0;j<M.children.length;j++)l(M.children[j],L)}},c=function(M,L){if(Array.isArray(M))for(var j=0;j<M.length;j++)l(M[j],L);else{for(L.push(M.id),j=0;j<M.stChildrenIds.length;j++)c(o.getNode(M.stChildrenIds[j]),L);for(j=0;j<M.childrenIds.length;j++)c(o.getNode(M.childrenIds[j]),L)}},d=this.getNode(a);l(d,s);for(var f=this.getSvg(),u=e._getClientXY(r),p=[],g=[],m=[],w=[],y=[],x=[],v=[],S=[],_=0;_<s.length;_++){var b=this.getNode(s[_]);p.push(b),m.push({x:b.x,y:b.y});var C=this.getNodeElement(s[_]);if(C){y.push(C);var N=e._getTransform(C);w.push({x:N[4],y:N[5]}),g.push(N);var I=this.element.querySelector('[data-ctrl-ec-id="'.concat(s[_],'"]'));if(I){x.push(I);var E=e._getTransform(I);v.push(E),S.push({x:E[4],y:E[5]})}else x.push(null),v.push(null),S.push(null);if(this.config.movable==e.movable.node)break}}t._dragEventFired=!1;var A=null,T=null;this._gragStartedId=s[0],document.body.style.mozUserSelect=document.body.style.webkitUserSelect=document.body.style.userSelect="none";var P={x:u.x,y:u.y},O=o.getScale(),D=function(M,L){if(M!=null){L.classList.remove("bft-drag-over");for(var j=o.getNode(A),F=e.getStParentNodes(j),q=0;q<F.length;q++){var Y=o.getNodeElement(F[q].id);Y&&(Y.style.opacity=1)}}},W=function(M){{var L=e._getClientXY(M),j=M.target;e.isMobile()&&(j=document.elementFromPoint(L.x,L.y));var F=e._getOffsetXY(o.element,M),q={left:o.width()-(F.x+o.config.padding)<0,right:F.x-o.config.padding<0,up:o.height()-(F.y+o.config.padding)<0,down:F.y-o.config.padding<0};if(q.left||q.right||q.up||q.down){f.classList&&(f.classList.remove("bft-cursor-grab"),f.classList.add("bft-cursor-move"),f.classList.remove("bft-cursor-nodrop"),f.classList.remove("bft-cursor-copy"));for(var Y=[],K=[],U=[],X=[],Z=0;Z<g.length;Z++)Y.push(g[Z][4]),K.push(g[Z][5]),v[Z]?(U.push(v[Z][4]),X.push(v[Z][5])):(U.push(null),X.push(null));var ae=P.x,Ee=P.y,Oe=L.x,Le=L.y;o.moveStart(q,function(Ye){for(var he=0;he<g.length;he++){var dt=Y[he],mt=K[he],Cn=U[he],bt=X[he];g[he][4]=dt+Ye.x,g[he][5]=mt+Ye.y,P.x=ae-Ye.xWithoutScale,P.y=Ee-Ye.yWithoutScale,L.x=Oe-Ye.xWithoutScale,L.y=Le-Ye.yWithoutScale,p[he].x=dt+Ye.x,p[he].y=mt+Ye.y,p[he].movex=Ye.x,p[he].movey=Ye.y,v[he]&&(v[he][4]=Cn+Ye.x,v[he][5]=bt+Ye.y);for(var Re=e.ui.link(p[he],o,O,o.response.bordersByRootIdAndLevel,o.nodes,e.action.update,!0),We=0;We<Re.length;We++){var Ct=Re[We];(Fe=o.element.querySelector('[data-l-id="['.concat(Ct.id,"][").concat(Ct.childId,']"]')))&&(Fe.innerHTML=Ct.html)}if(p[he].parent)for(Re=e.ui.link(p[he].parent,o,O,o.response.bordersByRootIdAndLevel,o.nodes,e.action.update,!0),We=0;We<Re.length;We++){var Fe;Ct=Re[We],(Fe=o.element.querySelector('[data-l-id="['.concat(Ct.id,"][").concat(Ct.childId,']"]')))&&(Fe.innerHTML=Ct.html)}y[he].setAttribute("transform","matrix("+g[he].toString()+")"),x[he]&&x[he].setAttribute("transform","matrix("+v[he].toString()+")")}})}else{if(o.moveEnd(),f.classList&&(f.classList.add("bft-cursor-grab"),f.classList.remove("bft-cursor-move"),f.classList.remove("bft-cursor-nodrop"),f.classList.remove("bft-cursor-copy")),D(A,T),A=null,T=null,o.config.enableDragDrop)for(;j!=null&&j!=f;){if(j.hasAttribute&&j.hasAttribute(e.attr.node_id)){var Ie=j.getAttribute(e.attr.node_id);if(o._gragStartedId&&Ie!=o._gragStartedId){A=Ie,T=j;break}}j=j.parentNode}if(A!=null){T.classList.add("bft-drag-over");for(var ct=o.getNode(A),Te=e.getStParentNodes(ct),Ne=0;Ne<Te.length;Ne++){var ze=o.getNodeElement(Te[Ne].id);ze&&(ze.style.opacity=.1)}!o.canUpdateLink(p[0].id,A)&&f.classList?(f.classList.remove("bft-cursor-grab"),f.classList.remove("bft-cursor-move"),f.classList.remove("bft-cursor-copy"),f.classList.add("bft-cursor-nodrop")):f.classList&&(f.classList.remove("bft-cursor-grab"),f.classList.remove("bft-cursor-move"),f.classList.add("bft-cursor-copy"),f.classList.remove("bft-cursor-nodrop"))}var xt=(L.x-P.x)/O,Rt=(L.y-P.y)/O;for(Z=0;Z<g.length;Z++){g[Z][4]=w[Z].x+xt,g[Z][5]=w[Z].y+Rt,v[Z]&&(v[Z][4]=S[Z].x+xt,v[Z][5]=S[Z].y+Rt),p[Z].x=m[Z].x+xt,p[Z].y=m[Z].y+Rt,p[Z].movex=xt,p[Z].movey=Rt;var un=e.ui.link(p[Z],o,O,o.response.bordersByRootIdAndLevel,o.nodes,e.action.update,!0);for(Ne=0;Ne<un.length;Ne++){var ve=un[Ne];(we=o.element.querySelector('[data-l-id="['.concat(ve.id,"][").concat(ve.childId,']"]')))&&(we.innerHTML=ve.html)}}if(d.parent)if(o.config.movable==e.movable.detachTree)(we=o.element.querySelector('[data-l-id="['.concat(d.parent.id,"][").concat(d.id,']"]')))&&we.parentElement.removeChild(we);else for(un=e.ui.link(d.parent,o,O,o.response.bordersByRootIdAndLevel,o.nodes,e.action.update,!0),Ne=0;Ne<un.length;Ne++){var we;ve=un[Ne],(we=o.element.querySelector('[data-l-id="['.concat(ve.id,"][").concat(ve.childId,']"]')))&&(we.innerHTML=ve.html)}if(!t._dragEventFired&&(Math.abs(L.x-P.x)>e.FIRE_DRAG_NOT_CLICK_IF_MOVE||Math.abs(L.y-P.y)>e.FIRE_DRAG_NOT_CLICK_IF_MOVE)){if(e.events.publish("drag",[o,a,M,s])===!1&&H(),o.config.enableDragDrop)for(Z=0;Z<y.length;Z++)f.insertBefore(y[Z],f.firstChild);t._dragEventFired=!0}for(Z=0;Z<g.length;Z++)y[Z].setAttribute("transform","matrix("+g[Z].toString()+")"),x[Z]&&x[Z].setAttribute("transform","matrix("+v[Z].toString()+")")}}},H=function(M){for(var L=0;L<p.length;L++)p[L].x=m[L].x,p[L].y=m[L].y;if(o.moveEnd(),f.classList&&(f.classList.remove("bft-cursor-grab"),f.classList.remove("bft-cursor-move"),f.classList.remove("bft-cursor-nodrop"),f.classList.remove("bft-cursor-copy")),f.removeEventListener(i.move,W),f.removeEventListener(i.up,H),i.leave&&f.removeEventListener(i.leave,H),p[0].id!=A&&A!=null){var j=o.getNode(A);if((F=e.events.publish("drop",[o,p[0].id,j.id,y[0],M]))===!1)return D(A,T),void(o._gragStartedId=null);o.canUpdateLink(p[0].id,A)?((X=o.get(p[0].id)).pid=A,X.stpid=null,o.updateNode(X,null,!0)):D(A,T),o._gragStartedId=null}else{if(t._dragEventFired){var F=e.events.publish("drop",[o,p[0].id,void 0,y[0],M]);if(o.config.movable&&F!==!1)if(o.config.movable==e.movable.detachTree){var q=e._getTransform(o.getNodeElement(d.id));(X=o.get(d.id)).pid=null,X.stpid=null,o.updateNode(X,null,!0)}else{var Y=[];o.config.movable==e.movable.node?Y.push(d.id):c(d,Y);var K=(q=e._getTransform(o.getNodeElement(d.id)))[4]-d.x,U=q[5]-d.y;for(L=0;L<Y.length;L++){var X;(X=o.get(Y[L]))&&(X.movex!=null?X.movex+=K:X.movex=K,X.movey!=null?X.movey+=U:X.movey=U,o.update(X))}e.events.publish("updated",[o]),o.draw(e.action.update,{dragNodeIdList:Y})}}o._gragStartedId=null}};f.addEventListener(i.move,W),f.addEventListener(i.up,H),i.leave&&f.addEventListener(i.leave,H)},e.prototype._dragDropHandler=function(t,r,i){var o=e._getClientXY(r),a=t.getAttribute(e.attr.node_id),s=this.getNode(a);t._dragEventFired=!1;var l=null,c=null;this._gragStartedId=a,this.element.style.mozUserSelect=this.element.style.webkitUserSelect=this.element.style.userSelect="none";var d=this,f=this.getSvg(),u={x:o.x,y:o.y},p=e._getTransform(t),g=p[4],m=p[5],w=d.getScale(),y=t.cloneNode(!0);y.setAttribute("data-n-id","draging"),f.insertBefore(y,f.firstChild),y.style.opacity=.7;var x=function(_,b){if(_!=null){b.classList.remove("bft-drag-over");for(var C=d.getNode(l),N=e.getStParentNodes(C),I=0;I<N.length;I++){var E=d.getNodeElement(N[I].id);E&&(E.style.opacity=1)}}},v=function(_){{var b=e._getClientXY(_),C=_.target;e.isMobile()&&(C=document.elementFromPoint(b.x,b.y));var N=e._getOffsetXY(d.element,_),I={left:d.width()-(N.x+d.config.padding)<0,right:N.x-d.config.padding<0,up:d.height()-(N.y+d.config.padding)<0,down:N.y-d.config.padding<0};if(I.left||I.right||I.up||I.down){f.classList&&(f.classList.remove("bft-cursor-grab"),f.classList.add("bft-cursor-move"),f.classList.remove("bft-cursor-nodrop"),f.classList.remove("bft-cursor-copy"));var E=p[4],A=p[5],T=u.x,P=u.y,O=b.x,D=b.y;d.moveStart(I,function(Y){p[4]=E+Y.x,p[5]=A+Y.y,u.x=T-Y.xWithoutScale,u.y=P-Y.yWithoutScale,b.x=O-Y.xWithoutScale,b.y=D-Y.yWithoutScale,y.setAttribute("transform","matrix("+p.toString()+")")})}else{if(d.moveEnd(),f.classList&&(f.classList.add("bft-cursor-grab"),f.classList.remove("bft-cursor-move"),f.classList.remove("bft-cursor-nodrop"),f.classList.remove("bft-cursor-copy")),x(l,c),l=null,c=null,d.config.enableDragDrop)for(;C!=null&&C!=f;){if(C.hasAttribute&&C.hasAttribute(e.attr.node_id)){var W=C.getAttribute(e.attr.node_id);if(d._gragStartedId&&W!=d._gragStartedId){l=W,c=C;break}}C=C.parentNode}if(l=="draging"&&(l=null,c=null),l!=null){c.classList.add("bft-drag-over");for(var H=d.getNode(l),M=e.getStParentNodes(H),L=0;L<M.length;L++){var j=d.getNodeElement(M[L].id);j&&(j.style.opacity=.1)}!d.canUpdateLink(s.id,l)&&f.classList?(f.classList.remove("bft-cursor-grab"),f.classList.remove("bft-cursor-move"),f.classList.remove("bft-cursor-copy"),f.classList.add("bft-cursor-nodrop")):f.classList&&(f.classList.remove("bft-cursor-grab"),f.classList.remove("bft-cursor-move"),f.classList.add("bft-cursor-copy"),f.classList.remove("bft-cursor-nodrop"))}var F=(b.x-u.x)/w,q=(b.y-u.y)/w;p[4]=g+F,p[5]=m+q,!t._dragEventFired&&(Math.abs(b.x-u.x)>e.FIRE_DRAG_NOT_CLICK_IF_MOVE||Math.abs(b.y-u.y)>e.FIRE_DRAG_NOT_CLICK_IF_MOVE)&&(e.events.publish("drag",[d,W,_])===!1&&S(),t._dragEventFired=!0),y.setAttribute("transform","matrix("+p.toString()+")")}}},S=function(_){if(d.moveEnd(),f.classList&&(f.classList.remove("bft-cursor-grab"),f.classList.remove("bft-cursor-move"),f.classList.remove("bft-cursor-nodrop"),f.classList.remove("bft-cursor-copy")),f.removeEventListener(i.move,v),f.removeEventListener(i.up,S),i.leave&&f.removeEventListener(i.leave,S),s.id==l||l==null)return t._dragEventFired&&e.events.publish("drop",[d,s.id,void 0,y,_]),f.removeChild(y),void(d._gragStartedId=null);var b=d.getNode(l);if(e.events.publish("drop",[d,s.id,b.id,y,_])===!1)return x(l,c),f.removeChild(y),void(d._gragStartedId=null);if(d.canUpdateLink(s.id,l)){var C=d.get(s.id);C.pid=l,C.stpid=null,C.movex!=null&&(C.movex=void 0),C.movey!=null&&(C.movey=void 0),d.updateNode(C,null,!0)}else f.removeChild(y),x(l,c);d._gragStartedId=null};f.addEventListener(i.move,v),f.addEventListener(i.up,S),i.leave&&f.addEventListener(i.leave,S)},e.prototype._resizeHandler=function(t,r){if(this.isVisible){var i=this.getViewBox(),o=this.getSvg(),a=o.getAttribute("width"),s=o.getAttribute("height"),l=a/i[2],c=s/i[3],d=l>c?c:l;o.setAttribute("width",this.width()),o.setAttribute("height",this.height()),i[2]=this.width()/d,i[3]=this.height()/d,this.setViewBox(i),this.xScrollUI.create(this.width()),this.yScrollUI.create(this.height()),this._draw(!1,e.action.resize)}},e.prototype._nodeDbClickHandler=function(t,r){if(e.events.publish("dbclick",[this,this.get(t)])===!1)return!1;this._commonClickHandler(t,r,this.config.nodeMouseDbClick)},e.prototype._nodeClickHandler=function(t,r){var i=this.getNodeElement(t);if(i&&i._dragEventFired)i._dragEventFired=!1;else{if(e.events.publish("click",[this,{node:this.getNode(t),event:r}])===!1)return!1;this._commonClickHandler(t,r,this.config.nodeMouseClick)}},e.prototype._nodeCircleMenuItemClickHandler=function(t,r){var i=t.parentNode.getAttribute(e.attr.control_node_circle_menu_wrraper_id),o=t.getAttribute(e.attr.control_node_circle_menu_name),a=this.nodeCircleMenuUI._menu[o];e.events.publish("click",[this.nodeCircleMenuUI,{nodeId:i,menuItemName:o,menuItem:a,event:r}])},e.prototype._nodeCircleMenuClickHandler=function(t){e.SEARCH_CLOSE_RESULT_ON_ESCAPE_OR_CLICKOUTSIDE&&this.searchUI.hide(),this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.menuUI.hide();var r=this.getNode(t),i=null;if(Array.isArray(r.tags))for(var o=0;o<r.tags.length;o++){var a=r.tags[o];this.config.tags[a]&&this.config.tags[a].nodeCircleMenu&&(i=this.config.tags[a].nodeCircleMenu)}this.nodeCircleMenuUI.show(t,i)},e.prototype._commonClickHandler=function(t,r,i){var o;e.SEARCH_CLOSE_RESULT_ON_ESCAPE_OR_CLICKOUTSIDE&&this.searchUI.hide(),this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.menuUI.hide(),this.nodeCircleMenuUI.hide(),i==e.action.expandCollapse&&this.toggleExpandCollapse(t,r),i==e.action.edit&&(o=this.getNode(t))&&(this.editUI.show(o.id),this.ripple(o.id,r.clientX,r.clientY)),i==e.action.details&&(o=this.getNode(t))&&(this.editUI.show(o.id,!0),this.ripple(o.id,r.clientX,r.clientY))},e.prototype._menuHandlerMouseDownHandler=function(t,r){r.stopPropagation(),r.preventDefault()},e.prototype._nodeMenuClickHandler=function(t,r,i){e.SEARCH_CLOSE_RESULT_ON_ESCAPE_OR_CLICKOUTSIDE&&this.searchUI.hide(),this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.menuUI.hide(),this.nodeCircleMenuUI.hide();var o=this.getNode(t),a=null;if(Array.isArray(o.tags))for(var s=0;s<o.tags.length;s++){var l=o.tags[s];this.config.tags[l]&&this.config.tags[l].nodeMenu&&(a=this.config.tags[l].nodeMenu)}this.nodeMenuUI.showStickIn(r,t,null,a)},e.prototype._menuClickHandler=function(t,r){r.stopPropagation(),r.preventDefault(),this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.menuUI.show(t.offsetLeft,t.offsetTop)},e.prototype._lonelyButtonHandler=function(){var t={id:this.generateId()};this.addNode(t,null,!0)!==!1&&this.center(t.id)},e.prototype.toggleExpandCollapse=function(t,r){var i=this.getNode(t),o=this.getCollapsedIds(i);if(o.length){if(e.events.publish("expcollclick",[this,!1,t,o])===!1)return!1;this.expand(t,o,!1)}else{if(e.events.publish("expcollclick",[this,!0,t,i.childrenIds])===!1)return!1;this.collapse(t,i.childrenIds,!1)}r&&this.ripple(i.id,r.clientX,r.clientY)},e.prototype._move=function(t,r,i){i[0]=r,i[1]=t,this.setViewBox(i),this.xScrollUI.setPosition(),this.yScrollUI.setPosition()},e.prototype.moveStart=function(t,r,i,o){if(t){if(!this._moveInterval){var a=this,s=this.getViewBox().slice(0),l=this.getScale(),c=0,d=0,f=1;e.isNEU(i)&&(i=e.anim.inSin),e.isNEU(o)&&(o=3e3),this._moveInterval=setInterval(function(){var u={x:0,y:0,xWithoutScale:0,yWithoutScale:0};t.left?(c++,u.x=c*e.MOVE_STEP/l,u.xWithoutScale=c*e.MOVE_STEP):t.right&&(c++,u.x=-c*e.MOVE_STEP/l,u.xWithoutScale=-c*e.MOVE_STEP),t.up?(d++,u.y=d*e.MOVE_STEP/l,u.yWithoutScale=d*e.MOVE_STEP):t.down&&(d++,u.y=-d*e.MOVE_STEP/l,u.yWithoutScale=-d*e.MOVE_STEP);var p=i((10*f-10)/o);u.x=u.x*p,u.xWithoutScale=u.xWithoutScale*p,u.y=u.y*p,u.yWithoutScale=u.yWithoutScale*p,a.setViewBox([s[0]+u.x,s[1]+u.y,s[2],s[3]]),r&&r(u),f+=1},10)}}else console.error("movePosition parameter not defined")},e.prototype.moveEnd=function(){this._moveInterval&&(clearInterval(this._moveInterval),this._moveInterval=null)},e===void 0&&(e={}),e.node=function(t,r,i,o){this.templateName=o,this.id=t,this.pid=r,this.children=[],this.childrenIds=[],this.parent=null,this.stpid=null,this.stParent=null,this.stChildren=[],this.stChildrenIds=[],this.tags=i,this.tags||(this.tags=[])},e.prototype._mouseDownHandler=function(t,r,i){var o=this;e.HIDE_EDIT_FORM_ON_PAN&&this.editUI.hide(),e.SEARCH_CLOSE_RESULT_ON_ESCAPE_OR_CLICKOUTSIDE&&this.searchUI.hide(),this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.menuUI.hide(),this.nodeCircleMenuUI.hide();var a=this.getViewBox(),s=this.getScale(),l=e._getClientTouchesXY(r,0),c=e._getClientTouchesXY(r,1),d={diffX:0,diffY:0,x0:l.x,y0:l.y,type:"pan",viewBoxLeft:a[0],viewBoxTop:a[1]};r.touches&&r.touches.length>1&&(d.type="pinch",d.dist=Math.sqrt((l.x-c.x)*(l.x-c.x)+(l.y-c.y)*(l.y-c.y))),d.type=="pan"&&(this._hideBeforeAnimation(),this._changeCursorOnPanStart(a,s,r));var f=function(p){var g=e._getClientTouchesXY(p,0);if(d&&d.type=="pan"){o._hideBeforeAnimation(),d.diffX=g.x-d.x0,d.diffY=g.y-d.y0;var m=-d.diffY/s+d.viewBoxTop,w=-d.diffX/s+d.viewBoxLeft;o._move(m,w,a)}else if(d&&d.type=="pinch"){var y=e._getClientTouchesXY(p,1),x=Math.sqrt((g.x-y.x)*(g.x-y.x)+(g.y-y.y)*(g.y-y.y)),v=1+(x-d.dist)/(d.dist/100)/100;d.dist=x;var S=e._pinchMiddlePointInPercent(o.element,o.width(),o.height(),p);o.zoom(v,S)}},u=function(){d.type=="pan"&&o.config.sticky?setTimeout(function(){e._moveToBoundaryArea(t,o.getViewBox(),o.response.boundary,function(){o._draw(!0,e.action.pan)})},0):d.type!="pan"||o.config.sticky||setTimeout(function(){o._draw(!0,e.action.pan)},0),d.type=="pan"&&o._changeCursorOnPanEnd(),d=null,t.removeEventListener(i.move,f),t.removeEventListener(i.up,u),i.leave&&t.removeEventListener(i.leave,u),i.touchstart&&t.removeEventListener(i.touchstart,u)};this.config.enablePan&&(t.addEventListener(i.move,f),t.addEventListener(i.up,u),i.leave&&t.addEventListener(i.leave,u),i.touchstart&&t.addEventListener(i.touchstart,u))},e.prototype._changeCursorOnPanStart=function(t,r,i){var o=this.getPointerElement(),a=e._getOffsetXY(this.element,i),s=a.x/r+t[0]-16/r,l=a.y/r+t[1]-16/r;o.style.display="inherit",o.setAttribute("transform","matrix(0,0,0,0,"+s+","+l+")"),e.animate(o,{transform:[0,0,0,0,s,l],opacity:0},{transform:[1/r,0,0,1/r,s,l],opacity:1},300,e.anim.outBack)},e.prototype._changeCursorOnPanEnd=function(){this.getPointerElement().style.display="none"},e.searchUI=function(){this.lastSearch=[],this._searchAfterEnterPress=!1,this._event_id=e._guid(),this.instance=null},e.searchUI.prototype.init=function(t){this.instance=t,this.obj=this.instance,this._initSearchFields();var r=this,i=this.instance.config.padding-10,o=this.instance.config.padding-10,a=this.instance.getMenuButton();if(a){var s=a.getBoundingClientRect(),l=this.instance.getSvg().getBoundingClientRect();i=l.right-s.left+10,o=s.top-l.top-10}var c=document.createElement("div");c.classList.add("bft-search"),c.style.right=i+"px",c.style.top=o+"px";var d=e.elements.textbox({},{label:e.SEARCH_PLACEHOLDER,btn:"X"},"320px");c.innerHTML+=d.html,this.xBtn=c.querySelector("[data-input-btn]"),this.xBtn.style.display="none",this.searchTableWrapper=document.createElement("div"),c.appendChild(this.searchTableWrapper);var f=this.instance.getSvg().nextSibling;this.instance.element.insertBefore(c,f),e.input.init(c),this.input=document.getElementById(d.id),this.xBtn.addEventListener("click",function(g){g.preventDefault(),r.hide()}),this.input.addEventListener("keypress",function(g){g.key=="Enter"&&g.preventDefault()}),this.input.addEventListener("focus",function(g){r.xBtn.style.display="",r._search()}),this.input.addEventListener("blur",function(g){e.isNEU(r.input.value)&&e.SEARCH_HELP_SYMBOL!=r.input.value&&(r.xBtn.style.display="none")}),this.input.addEventListener("keydown",function(g){(g.key=="ArrowDown"||g.key=="ArrowUp")&&g.preventDefault()}),this.input.addEventListener("keyup",function(g){g.key=="ArrowDown"?u():g.key=="ArrowUp"?p():g.key=="Enter"?r._enterHandler():g.key=="Escape"?r.hide():this.value.length>=e.MINIMUM_SYMBOLS_IN_SEARCH_INPUT&&r._search()});var u=function(){var g=r.instance.element.querySelectorAll("[data-search-item-id]"),m=r.instance.element.querySelector('[data-selected="yes"]');m==null&&g.length>0?g[0].setAttribute("data-selected","yes"):g.length>0&&m.nextSibling&&m.nextSibling.setAttribute&&(m.removeAttribute("data-selected"),m.nextSibling.setAttribute("data-selected","yes"))},p=function(){var g=r.instance.element.querySelectorAll("[data-search-item-id]"),m=r.instance.element.querySelector('[data-selected="yes"]');m==null&&g.length>0?g[g.length-1].setAttribute("data-selected","yes"):g.length>0&&m.previousSibling&&m.previousSibling.setAttribute&&(m.removeAttribute("data-selected"),m.previousSibling.setAttribute("data-selected","yes"))}},e.searchUI.prototype._enterHandler=function(){var t=this.instance.element.querySelector('[data-selected="yes"]');if(t){if(t.hasAttribute("data-search-item-id")){var r=t.getAttribute("data-search-item-id");if(this.input.value!=e.SEARCH_HELP_SYMBOL){var i=e.events.publish("",[this.instance,r]),o=e.events.publish("searchclick",[this,{nodeId:r}]);i===!1&&(o=!1),o!=0&&this.instance.center(r)}else this.input.value=r+" ",this.searchTableWrapper.innerHTML=""}}else this._searchAfterEnterPress=!0,this.__search(),this.searchTableWrapper.innerHTML="",this.instance.draw()},e.searchUI.prototype._initSearchFields=function(){if(this.instance.config.searchFields==null){this._searchFields=[];for(var t=0;t<this.instance.response.allFields.length;t++){var r=this.instance.response.allFields[t];r=="tags"||e._fieldIsImg(this.instance.config,r)||this._searchFields.indexOf(r)==-1&&this._searchFields.push(r)}}else this._searchFields=this.instance.config.searchFields;if(this.instance.config.searchFieldsAbbreviation==null)for(this.searchFieldsAbbreviation={},t=0;t<this._searchFields.length;t++){for(var i=this._searchFields[t],o=0,a=i.slice(0,o+1).toLowerCase();this.searchFieldsAbbreviation[a];)o++,a=i.slice(0,o+1).toLowerCase();this.searchFieldsAbbreviation[a]=i}else this.searchFieldsAbbreviation=this.instance.config.searchFieldsAbbreviation;this._searchFieldsAbbreviation=this.searchFieldsAbbreviation},e.searchUI.prototype.find=function(t){this.input&&(this.input.value=t,document.activeElement==this.input?this._search(t):this.input.focus())},e.searchUI.prototype.addMatchTag=function(t){if(this._searchAfterEnterPress){for(var r=0;r<this.lastSearch.length;r++)if(this.lastSearch[r].id==t)return!0;return!1}return null},e.searchUI.prototype.__search=function(){this.lastSearch=e._search.search(this.instance.config.nodes,this.input.value,this._searchFields,this._searchFields,this.instance.config.searchDisplayField,this.instance.config.searchFieldsWeight,this.searchFieldsAbbreviation)},e.searchUI.prototype._search=function(){var t,r=this;if(this._searchAfterEnterPress=!1,this.input.value==e.SEARCH_HELP_SYMBOL)t=this.helpView();else{this.__search();var i=e._getFistImgField(this.instance.config);t='<table border="0" cellspacing="0" cellpadding="0">\n                        <tbody>\n                            '.concat(function(){for(var s="",l=0;l<r.lastSearch.length&&!(l>=e.SEARCH_RESULT_LIMIT);l++){var c=r.lastSearch[l],d="";if(i){var f=r.instance._get(c.id);typeof i=="function"?d=i(r.instance,r.instance.getNode(c.id),f):f[i]&&(d=f[i])}var u="",p="";r.instance.config.searchDisplayField==c.__searchField?u=c.__searchMarks:r.instance.config.searchDisplayField?(u=c[r.instance.config.searchDisplayField],e.isNEU(u)&&(u=""),p=c.__searchMarks):u=c.__searchMarks;var g={img:d,nodeId:c.id,first:u,second:p,searchItem:c,html:e.searchUI.createItem(d,c.id,u,p)};e.events.publish("add-item",[r,g]),s+=g.html}return s}(),"  \n                        </tbody>\n                    </table>")}this.searchTableWrapper.innerHTML=t;for(var o=this.instance.element.querySelectorAll("[data-search-item-id]"),a=0;a<o.length;a++)o[a].addEventListener("click",function(){if(this.hasAttribute("data-search-item-id")){var s=this.getAttribute("data-search-item-id");if(r.input.value!=e.SEARCH_HELP_SYMBOL){var l=e.events.publish("searchclick",[r.instance,s]),c=e.events.publish("searchclick",[r,{nodeId:s}]);if(l===!1&&(c=!1),c!==!1){r.instance.center(this.getAttribute("data-search-item-id"));var d=r.instance.element.querySelector('[data-selected="yes"]');d&&d.removeAttribute("data-selected"),this.setAttribute("data-selected","yes"),r.input.focus()}}else r.input.value=s+" ",r.searchTableWrapper.innerHTML="",r.input.focus()}});e.events.publish("show-items",[this,{}])},e.searchUI.prototype.helpView=function(){var t='<table border="0" cellspacing="0" cellpadding="0">';for(var r in this.searchFieldsAbbreviation)t+='<tr data-search-item-id="'.concat(r,'" style="height: 50px;"><td class="bft-search-image-td" style="text-align: center;">').concat(r,'</td><td class="bft-search-text-td">').concat(this.searchFieldsAbbreviation[r],"</td></tr>");return t+="</table>"},e.searchUI.createItem=function(t,r,i,o){return i&&(i="<b>"+i+"</b>"),'<tr data-search-item-id="'.concat(r,'">\n                <td class="bft-search-image-td">\n                    ').concat(t=t?'<div class="bft-search-photo" style="background-image: url('.concat(t,')"></div>'):'<div class="bft-search-photo">'.concat(e.icon.user(32,32,"#aeaeae"),"</div>"),'\n                </td>\n                <td class="bft-search-text-td">').concat(i," <br/>").concat(o,"</td>\n            </tr>")},e.searchUI.prototype.hide=function(){if(e.events.publish("hide",[this])===!1)return!1;this._searchAfterEnterPress&&(this._searchAfterEnterPress=!1,this.instance.draw()),this.lastSearch=[],this.xBtn&&(this.xBtn.style.display="none"),this.searchTableWrapper&&(this.searchTableWrapper.innerHTML=""),this.input&&(this.input.value="",document.activeElement==this.input&&this.input.blur(),document.activeElement==this.xBtn&&e.input.blurHandler(this.input))},e.searchUI.prototype.on=function(t,r){return e.events.on(t,r,this._event_id),this},e===void 0&&(e={}),e.manager=function(t){this.config=t.config,this.layoutConfigs=t._layoutConfigs,this.visibleNodeIds=[],this.viewBox=null,this.action=null,this.actionParams=null,this.nodes={},this.oldNodes={},this.maxX=null,this.maxY=null,this.minX=null,this.minY=null,this.bordersByRootIdAndLevel=null,this.roots=null,this.state=null,this.vbIsInitializedFromState=!1,this.rootList=[],this.instance=t,this._fixAdjustForExport={x:0,y:0}},e.manager.prototype.read=function(t,r,i,o,a,s,l,c){var d=this;e.state._get(this.config.state,r,i,function(f){d.state=f,d.action=a,d.actionParams=s,a!=e.action.init||!d.state||s&&s.method&&s.method=="fit"?(d.viewBox=o,d.vbIsInitializedFromState=!1):(d.viewBox=d.state.vb,d.vbIsInitializedFromState=!0,Array.isArray(d.state.roots)&&(d.config.roots=d.state.roots));var u=d.maxX,p=d.maxY,g=d.minX,m=d.minY,w=d.bordersByRootIdAndLevel,y=d.roots,x=d.nodes;if(t){var v=e.manager._getResponse(r,i,d.visibleNodeIds,d.config,u,p,g,m,d.viewBox,y,d.action,d.actionParams,x,d.oldNodes,d.vbIsInitializedFromState);a!=e.action.exporting&&(d.maxX=u,d.maxY=p,d.minX=g,d.minY=m,d.roots=y,d.nodes=x,d.visibleNodeIds=v.visibleNodeIds),v.bordersByRootIdAndLevel=w,v.roots=y,v.adjustify={x:0,y:0},d.state&&(v.adjustify=d.state.adjustify),l(v)}else d.oldNodes=x||null,d._read(function(S){u=S.maxX,p=S.maxY,g=S.minX,m=S.minY,w=S.bordersByRootIdAndLevel,y=S.roots,x=S.nodes;var _=e.manager._getResponse(r,i,d.visibleNodeIds,d.config,u,p,g,m,d.viewBox,y,d.action,d.actionParams,x,d.oldNodes,d.vbIsInitializedFromState);_.notif=S.limit,_.roots=y,_.bordersByRootIdAndLevel=w,_.adjustify=S.adjustify,a!=e.action.exporting&&(d.maxX=u,d.maxY=p,d.minX=g,d.minY=m,d.roots=y,d.nodes=x,d.visibleNodeIds=_.visibleNodeIds,d.bordersByRootIdAndLevel=w,d.rootList=S.rootList),l(_)},c)})},e.manager.prototype._read=function(t,r){var i=this,o=e.manager._createNodes(this.instance);r(o);var a=o.nodes,s=o.roots,l=e.remote;l==null&&(l=e.local),l._setPositions(s,i.layoutConfigs,function(c){var d=e.manager._doNotChangePositionOfClickedNodeIfAny(s,a,i.action,i.actionParams,i.oldNodes,i.config.orientation);i.state&&i.action==e.action.init&&(d=i.state.adjustify),i.action==e.action.exporting?d=i._fixAdjustForExport:i._fixAdjustForExport=d;for(var f={minX:null,minY:null,maxX:null,maxY:null},u={},p=[],g=0;g<s.length;g++)e.manager._setMinMaxXYAdjustifyIterate(s[g],s[g],f,0,u,d,i.config.orientation,p);for(var m in p)for(var w in p[m]){var y=u[m][w],x=p[m][w];y.minX==null&&y.minY==null&&y.maxX==null&&y.maxY==null&&e._setMinMaxXY(x,y)}t({minX:f.minX,minY:f.minY,maxX:f.maxX,maxY:f.maxY,bordersByRootIdAndLevel:u,nodes:a,roots:s,rootList:o.rootList,limit:c,adjustify:d})},a)},e===void 0&&(e={}),e.manager._initDinamicNode=function(t,r,i){r&&(t.lcn=r),i&&(t.isAssistant=!0);var o=e.t(t.templateName);t.w=o&&o.size?o.size[0]:0,t.h=o&&o.size?o.size[1]:0,t.isSplit=t.templateName=="split",t.isMirror=t.templateName=="mirror",t.isSubLevel=t.templateName=="subLevel"},e.manager._setCollpasedProperty=function(t,r,i,o,a,s,l){t.collapsed==null&&r.collapse&&r.collapse.allChildren?t.collapsed=!0:t.collapsed==null&&(t.collapsed=!1),a==e.action.expand&&i.ids.indexOf(t.id)!=-1&&(t.collapsed=!1),a==e.action.collapse&&(i.expandIds||i.collapseIds)?i.expandIds&&i.expandIds.indexOf(t.id)!=-1?t.collapsed=!1:i.collapseIds&&i.collapseIds.indexOf(t.id)!=-1&&(t.collapsed=!0):a==e.action.collapse&&i.ids.indexOf(t.id)!=-1&&(t.collapsed=!0),a==e.action.expand&&i.ids=="all"&&(t.collapsed=!1),a==e.action.exporting&&i.expandChildren&&(t.collapsed=!1),a==e.action.init&&l!=null?t.collapsed=!l.exp.has(t.id):a==e.action.init?t.tags.indexOf("left-partner")!=-1||t.tags.indexOf("right-partner")!=-1||t.tags.indexOf("partner")!=-1||t.parentPartner?t.collapsed=r.collapse&&s>=r.collapse.level&&o.indexOf(t.id)==-1:t.collapsed=r.collapse&&s>=r.collapse.level-1&&o.indexOf(t.id)==-1:a==e.action.centerNode||a==e.action.insert||a==e.action.expand||a==e.action.collapse?o.has(t.id)&&(t.collapsed=!1):a==e.action.update&&i&&i.changeRoots&&i.changeRoots.has(t.id)&&(t.collapsed=!1)},e.manager._initNode=function(t,r,i,o,a,s,l){var c=l.manager.config,d=l.manager.layoutConfigs,f=l.manager.action,u=l.manager.actionParams,p=l.manager.state,g=d[i||"base"];t.parent==null&&e.manager._setCollpasedProperty(t,g,u,a,f,o-1,p);for(var m=0;m<t.childrenIds.length;m++){var w=r[t.childrenIds[m]];if(e.manager._setCollpasedProperty(w,g,u,a,f,o,p),!w.collapsed){if(w.parent=t,w.ppid!=null){var y=r[w.ppid];y&&(w.parentPartner=y)}(w.tags.indexOf("left-partner")!=-1||w.tags.indexOf("right-partner")!=-1||w.tags.indexOf("partner")!=-1||w.parentPartner)&&s.indexOf(t.id)==-1&&s.push(t.id),t.children.push(w)}}if(f!=e.action.minimize||t.min?f==e.action.maximize&&t.min===!0?(u.all||u.id==t.id)&&(t.min=!1):f==e.action.exporting&&u.min===!1?t.min=!1:f==e.action.init&&p!=null&&(t.min=p.min.has(t.id)):(u.all||u.id==t.id)&&(t.min=!0),!t.min)for(m=0;m<t.stChildrenIds.length;m++)w=r[t.stChildrenIds[m]],t.tags&&t.tags.has("filter")||(w.stParent=t,t.stChildren.push(w));o!=null&&(t.level=o),i&&(t.lcn=i);var x=e._getSubLevels(t.tags,c.tags);x>0&&(t.subLevels=x),t.tags.indexOf("assistant")!=-1&&t.parent!=null&&(t.isAssistant=!0);var v=e.t(t.templateName,t.min);t.w=v&&v.size?v.size[0]:0,t.h=v&&v.size?v.size[1]:0,t.padding=v&&v.padding?v.padding:[0,0,0,0];var S={node:t};e.events.publish("node-initialized",[l,S])},e.manager._iterate=function(t,r,i,o,a,s,l,c,d,f,u,p){var g=p.manager.layoutConfigs;if(e.manager._initNode(r,i,d,o,f,u,p),r.isAssistant&&(s[r.pid]||(s[r.pid]=[]),s[r.pid].push(r.id)),r.subLevels>0&&l.push(r.id),e.MIXED_LAYOUT_FOR_NODES_WITH_COLLAPSED_CHILDREN&&!r.isAssistant&&r.parent){if(r.parent&&r.parent.children.length&&r.parent.children[r.parent.children.length-1]==r){for(var m=[],w=0,y=0,x=0;x<r.parent.children.length;x++)(v=r.parent.children[x]).tags.indexOf("partner")==-1&&v.tags.indexOf("left-partner")==-1&&v.tags.indexOf("right-partner")==-1&&v.tags.indexOf("assistant")==-1&&v.children.length==0?m.push(v.id):v.tags.indexOf("assistant")!=-1?w++:v.tags.indexOf("partner")==-1&&v.tags.indexOf("left-partner")==-1&&v.tags.indexOf("right-partner")==-1||y++;(e.MIXED_LAYOUT_ALL_NODES&&m.length>1&&m.length==r.parent.children.length-w-y||!e.MIXED_LAYOUT_ALL_NODES&&m.length>1)&&(c[r.pid]=m)}}else if(!r.isAssistant&&r.childrenIds.length==0&&r.parent&&!c[r.pid]){for(m=[],w=0,y=0,x=0;x<r.parent.children.length;x++){var v;(v=r.parent.children[x]).tags.indexOf("partner")==-1&&v.tags.indexOf("left-partner")==-1&&v.tags.indexOf("right-partner")==-1&&v.tags.indexOf("assistant")==-1&&v.childrenIds.length==0?m.push(v.id):v.tags.indexOf("assistant")!=-1?w++:v.tags.indexOf("partner")==-1&&v.tags.indexOf("left-partner")==-1&&v.tags.indexOf("right-partner")==-1||y++}(e.MIXED_LAYOUT_ALL_NODES&&m.length>e.MIXED_LAYOUT_IF_NUMBER_OF_CHILDREN_IS_MORE_THEN&&m.length==r.parent.childrenIds.length-w-y||!e.MIXED_LAYOUT_ALL_NODES&&m.length>e.MIXED_LAYOUT_IF_NUMBER_OF_CHILDREN_IS_MORE_THEN)&&(c[r.pid]=m)}r.stChildren.length&&(t.stContainerNodes||(t.stContainerNodes=[]),t.stContainerNodes.push(r));for(var S=0;S<r.stChildren.length;S++){var _="";for(x=0;x<r.tags.length;x++)if(g[r.tags[x]]){_=r.tags[x];break}a.push(r.stChildren[S].id),e.manager._iterate(t,r.stChildren[S],i,0,a,s,l,c,_,f,u,p)}for(o++,S=0;S<r.children.length;S++)e.manager._iterate(t,r.children[S],i,o,a,s,l,c,d,f,u,p)},e.manager.__createNodes=function(t,r,i,o,a,s,l,c){for(var d=[],f=e._addDottedLines(i),u=0;u<f.length;u++){var p,g=f[u];p=e.STRING_TAGS?g.tags?g.tags.split(","):[]:Array.isArray(g.tags)?g.tags.slice(0):[],c.filterUI.addFilterTag(g)&&p.unshift("filter");var m=c.searchUI.addMatchTag(g.id);m===!0?p.unshift("match"):m===!1&&p.unshift("no-match");var w=e._getTemplate(p,i.tags,i.template),y=new e.node(g.id,g.pid,p,w);e.isNEU(g.ppid)||(y.ppid=g.ppid),e.isNEU(g.stpid)||(y.stpid=g.stpid),i.orderBy!=null&&(y.order=e.manager._getOrderFieldValue(g,i.orderBy)),g.movex!=null&&(y.movex=g.movex),g.movey!=null&&(y.movey=g.movey),t[g.id]=y,d.push(g.id)}for(i.orderBy!=null&&d.sort(function(C,N){var I=t[C].order,E=t[N].order;return typeof I=="number"||typeof E=="number"?(I==null&&(I=-1),E==null&&(E=-1),i.orderBy.desc?E-I:I-E):typeof I=="string"||typeof E=="string"?(I==null&&(I=""),E==null&&(E=""),i.orderBy.desc?E.localeCompare(I):I.localeCompare(E)):void 0}),u=0;u<d.length;u++){var x=d[u],v=(y=t[x],s?s[x]:null),S=t[y.stpid],_=t[y.pid];if(S||(y.stpid=null),_||(y.pid=null),S){var b=s?s[S.id]:null;b&&(S.min=b.min),S.stChildrenIds.push(y.id)}else _?(v&&(y.collapsed=v.collapsed,y.min=v.min),_.childrenIds.push(y.id)):(v&&(y.collapsed=v.collapsed,y.min=v.min),r.push(y),l.push(y.id));o==e.action.init&&(y.min=e._getMin(y,i))}},e.manager._createNodes=function(t){var r=t.manager.config,i=t.manager.layoutConfigs,o=t.manager.action,a=t.manager.actionParams,s=t.manager.oldNodes,l=t.manager.state,c={},d=[],f=[];if(e.manager.__createNodes(c,d,r,o,a,s,f,t),r.roots!=null){d=[];for(var u=0;u<r.roots.length;u++){var p=c[r.roots[u]];if(p&&o==e.action.centerNode){for(var g=p;g.pid!=null||g.stpid!=null;)g=g.pid==null&&g.stpid!=null?c[g.stpid]:c[g.pid];for(var m=c[a.id];(m.pid!=null||m.stpid!=null)&&m!=p;)m=m.pid==null&&m.stpid!=null?c[m.stpid]:c[m.pid];g==m&&(p=g)}if(p){for(var w=!1,y=0;y<d.length;y++)if(d[y].id==p.id){w=!0;break}w||(e.isNEU(p.pid)||(He=(S=c[p.pid]).childrenIds.indexOf(p.id))>-1&&S.childrenIds.splice(He,1),d.push(p))}}for(r.roots=[],u=0;u<d.length;u++)r.roots.push(d[u].id)}o==e.action.exporting&&a.id!=null&&(v=c[a.id])&&(v.pid=null,d=[v]);var x=[];if(o==e.action.init&&r.expand&&r.expand.nodes&&l==null)for(u=0;u<r.expand.nodes.length;u++){var v=c[r.expand.nodes[u]];for(r.expand.allChildren===!0&&e.manager._addExpandedNodeIdsIterate(v,c,x);v;)x.push(v.id),v.pid==null&&v.stpid!=null?(v=c[v.stpid]).min=!1:v=c[v.pid]}else if(o==e.action.expand&&a.ids&&a.ids!="all"||o==e.action.collapse&&a&&a.expandIds)for(he=o==e.action.expand?a.ids:a.expandIds,u=0;u<he.length;u++)for(var S=c[(v=c[he[u]]).pid];S;)x.push(S.id),S.pid==null&&S.stpid!=null?(S=c[S.stpid]).min=!1:S=c[S.pid];else if(o==e.action.centerNode){for(var _=c[a.id];_;){if(x.push(_.id),a.options.parentState===e.COLLAPSE_PARENT_NEIGHBORS&&_)for(u=0;u<_.childrenIds.length;u++)(U=c[_.childrenIds[u]]).collapsed=!0;_.pid==null&&_.stpid!=null?(_=c[_.stpid]).min=!1:_=c[_.pid]}if(_=c[a.id],a.options.childrenState===e.COLLAPSE_SUB_CHILDRENS)for(u=0;u<_.childrenIds.length;u++){(C=c[_.childrenIds[u]]).collapsed=!1;for(var b=0;b<C.childrenIds.length;b++)c[C.childrenIds[b]].collapsed=!0}if(a.options.parentState===e.COLLAPSE_PARENT_SUB_CHILDREN_EXCEPT_CLICKED&&(S=c[_.pid]))for(u=0;u<S.childrenIds.length;u++){var C;if((C=c[S.childrenIds[u]])!=_)for(C.collapsed=!1,b=0;b<C.childrenIds.length;b++)c[C.childrenIds[b]].collapsed=!0}}else if(o==e.action.insert)for(v=c[a.insertedNodeId];v;)x.push(v.id),v.pid==null&&v.stpid!=null?(v=c[v.stpid]).min=!1:v=c[v.pid];var N=[],I={},E=[],A={},T=[];for(u=0;u<d.length;u++)e.manager._iterate(d[u],d[u],c,0,N,I,E,A,"",x,T,t);if(o==e.action.collapse&&a&&Array.isArray(a.expandIds)&&Array.isArray(a.collapseIds))for(u=0;u<a.ids.length;u++)a.expandIds.has(a.collapseIds[u])?console.error("id ".concat(a.collapseIds[u]," exist in both collapseIds and expandIds")):(v=c[a.collapseIds[u]])&&(v.collapsed=!0);for(u=d.length-1;u>=0;u--)d[u].collapsed&&d.splice(u,1);for(u=0;u<T.length;u++){v=c[T[u]];var P=[],O=[],D=[],W={},H=0,M=0,L=0,j=[],F=[];for(b=0;b<v.children.length;b++)(U=v.children[b]).isAssistant?P.push(U.id):U.tags.indexOf("right-partner")!=-1?(U.isPartner=1,U.children=[],O.push(U.id)):U.tags.indexOf("left-partner")!=-1?(U.isPartner=2,U.children=[],D.push(U.id)):U.tags.indexOf("partner")==-1||H%2?U.tags.indexOf("partner")!=-1&&H%2?(U.isPartner=2,U.children=[],D.push(U.id),H++):U.parentPartner?(W[U.parentPartner.id]||(W[U.parentPartner.id]=[]),W[U.parentPartner.id].push(U.id)):P.push(U.id):(U.isPartner=1,U.children=[],O.push(U.id),H++);v.children=[];var q=[];for(b=0;b<O.length;b++){W[(U=c[O[b]]).id]?v.children.push(U):v.children.splice(0,0,U);for(var Y=0;Y<U.childrenIds.length;Y++)q.push(U.childrenIds[Y])}var K=[];for(b=0;b<D.length;b++)for(W[(U=c[D[b]]).id]?v.children.push(U):v.children.splice(0,0,U),Y=0;Y<U.childrenIds.length;Y++)K.push(U.childrenIds[Y]);for(b=0;b<K.length;b++)(U=c[K[b]]).collapsed||(U.parentPartner=U.parent,U.parent=v,U.isChildOfPartner=!0,v.children.push(U));for(b=D.length-1;b>=0;b--)if(W[D[b]])for(y=0;y<W[D[b]].length;y++)v.children.push(c[W[D[b]][y]]),M++,F.indexOf(D[b])==-1&&F.push(D[b]);for(b=0;b<P.length;b++){var U=c[P[b]];v.children.push(U)}for(b=0;b<O.length;b++)if(W[O[b]])for(y=0;y<W[O[b]].length;y++)v.children.push(c[W[O[b]][y]]),L++,j.indexOf(O[b])==-1&&j.push(O[b]);for(b=0;b<q.length;b++)(U=c[q[b]]).collapsed||(U.parentPartner=U.parent,U.parent=v,U.isChildOfPartner=!0,v.children.push(U));v.partnerSeparation=Math.max(F.length,j.length)*r.partnerChildrenSplitSeparation+r.minPartnerSeparation,P.length||!M||L?P.length||M||!L?P.length||M!=1||L!=1?P.length||M||L?!P.length||M||L?P.length&&(M||L)?v.hasPartners=7:v.hasPartners=1:v.hasPartners=6:v.hasPartners=5:v.hasPartners=4:v.hasPartners=3:v.hasPartners=2}for(u=0;u<E.length;u++){var X=i[(v=c[E[u]]).lcn?v.lcn:"base"];for(b=0;b<v.subLevels;b++){var Z=new e.node(v.id+"_sub_level_index_"+b,v.pid,[],"subLevel");e.manager._initDinamicNode(Z,v.lcn),(S=v.parent)&&((He=S.children.indexOf(v))>-1&&(S.children.splice(He,1),S.children.splice(He,0,Z)),Z.children.push(v),Z.parent=S,v.parent=Z,c[Z.id]=Z)}}for(var ae in I){(S=c[ae]).hasAssistants=!0,Z=new e.node(S.id+"_split_assitant_0",S.id,["assistant"],"split"),e.manager._initDinamicNode(Z,S.lcn,!0),c[Z.id]=Z;var Ee=[];for(b=S.children.length-1;b>=0;b--)(U=S.children[b]).isAssistant?(U.parent=null,S.children.splice(b,1),Ee.splice(0,0,U.id)):U.isPartner||(U.parent&&A[U.parent.id]&&Z&&U.parent.id!=Z.id&&(Object.defineProperty(A,Z.id,Object.getOwnPropertyDescriptor(A,U.parent.id)),delete A[U.parent.id]),U.parent=Z,Z.children.unshift(U),S.children.splice(b,1));if(Ee.length%2){var Oe=c[Ee[Ee.length-1]],Le=new e.node(Oe.id+"_mirror",S.pid,[],"mirror");e.manager._initDinamicNode(Le,Oe.lcn,!0),Le.isAssistant=!0,Le.w=Oe.w,Le.h=Oe.h,c[Le.id]=Le,Ee.splice(Ee.length-1,0,Le.id)}var Ie=1;for(b=Ee.length-1;b>=0;b--)if(b%2&&b!=Ee.length-1){var ct=new e.node(S.id+"_split_assitant_"+Ie,S.pid,[],"split");e.manager._initDinamicNode(ct,S.lcn,!0),c[ct.id]=ct,Ee.splice(b,0,ct.id),Ie++}else b%2&&Ee.splice(b,0,Z.id);for(b=0;b<Ee.length;b+=3){var Te=null;Te=b==0?S:c[Ee[b-2]];var Ne=c[Ee[b]],ze=c[Ee[b+1]],xt=c[Ee[b+2]];Ne.parent=Te,ze.parent=Te,xt.parent=Te,Te.children.push(Ne),Te.children.push(ze),Te.children.push(xt)}}var Rt=!1;for(var un in i)if((X=i[un]).layout!=0){Rt=!0;break}var ve=e.events.has("node-layout",t._event_id);if(Rt||ve){var we={nodes:c,config:r,action:o,actionParams:a};if(E.length){var Ye=!1;for(var ae in A){var he=A[ae];for(u=0;u<he.length;u++)if((v=c[he[u]]).subLevels){Ye=!0;break}if(Ye)break}if(Ye){var dt={},mt={},Cn={};for(var ae in A){he=A[ae];var bt=!1,Re=null;for(u=0;u<he.length;u++){var We=he[u];(Re===null||E.has(We))&&(Re=c[We].parent.id,bt||e.isNEU(c[We].subLevels)||(bt=c[We].subLevels>0)),dt[Re]||(dt[Re]=[]),dt[Re].push(We),bt&&(Cn[Re]=ae,mt[Re]||(mt[Re]=[]),mt[Re].push(We))}}for(var ae in A={},mt)if(mt[ae].length>e.MIXED_LAYOUT_IF_NUMBER_OF_CHILDREN_IS_MORE_THEN){var Ct=Cn[ae];for(u=c[Ct].children.length-1;u>=0;u--)U=c[Ct].children[u],mt[ae].has(U.id)&&c[Ct].children.splice(u,1)}for(var ae in dt)dt[ae].length>e.MIXED_LAYOUT_IF_NUMBER_OF_CHILDREN_IS_MORE_THEN&&(A[ae]=dt[ae])}}for(var ae in A){for(var Fe=S=c[ae];Fe.isSplit;)Fe=c[Fe.pid];for(;Fe.isSubLevel;)Fe=c[Fe.pid];if((X=i[S.lcn?S.lcn:"base"]).layout!=0||ve){we.pnode=S,we.layout=X.layout,we.layoutGridColumns=r.layoutGridColumns,we.childrenIds=A[ae],we.lastChildrenPidIds=A,we.subLevels=0,we.layouts=[],e.events.publish("node-layout",[t,we]),e.events.publish("layout",[we]),we.layouts.length||we.layouts.push({layout:we.layout,childrenIds:we.childrenIds,subLevels:we.subLevels,layoutGridColumns:we.layoutGridColumns});for(var wt=0;wt<we.layouts.length;wt++){var re=we.layouts[wt];for(e.isNEU(re.subLevels)&&(re.subLevels=0),e.isNEU(re.layout)&&(re.layout=X.layout),Fe=S=c[ae];Fe.isSplit;)Fe=c[Fe.pid];for(;Fe.isSubLevel;)Fe=c[Fe.pid];var fe=S;for(b=0;b<re.subLevels;b++)Z=new e.node(wt+"_sublevel_layout_"+b,fe.id,[],"subLevel"),e.manager._initDinamicNode(Z,fe.lcn),Z.parent=fe,fe.children.push(Z),c[Z.id]=Z,fe=Z;if(re.subLevels){for(b=0;b<re.childrenIds.length;b++){var He;U=c[re.childrenIds[b]],(He=S.children.indexOf(U))!=-1&&S.children.splice(He,1),U.parent=fe,fe.children.push(U)}S=fe}if(re.layout==e.layout.grid&&re.childrenIds.length>2){re.layoutGridColumns=="dynamic"&&(re.layoutGridColumns=e._getDynamicGridCoulumns(re.childrenIds.length));var Qe=S.id;for(u=S.children.length-1;u>=0;u--)for(b=0;b<re.childrenIds.length;b++)if(We=re.childrenIds[b],S.children[u].id==We){S.children.splice(u,1);break}var _t=re.layoutGridColumns;for(_t%2!=0&&_t>2&&_t--,u=0;u<re.childrenIds.length;u+=_t){var Dt=null;for(b=0;b<_t;b++){var $t=u+_t>=re.childrenIds.length;if(re.childrenIds.length-1<u+b)break;(U=c[We=re.childrenIds[u+b]]).parent=c[Qe],c[Qe].children.push(U),$t||(_t/2-1==b&&(Dt=new e.node(re.childrenIds[u+b-1]+"_grid_pseudo_node_"+re.childrenIds[u+b+1],Qe,[],"subLevel"),e.manager._initDinamicNode(Dt,S.lcn),Dt.parent=c[Qe],c[Qe].children.push(Dt),c[Dt.id]=Dt),_t-1==b&&(Qe=Dt.id))}}}if(re.layout==e.layout.mixed){var rn=re.childrenIds;for(u=rn.length-1;u>=0;u--){for(S=(U=c[rn[u]]).parent,U.layout=e.layout.mixed,b=S.children.length-1;b>=0;b--)if(U.id==S.children[b].id){S.children.splice(b,1);break}if(u>0){var Xn=c[rn[u-1]];U.parent=Xn,U.layout=e.layout.mixed,Xn.children.push(U)}else S.children.push(U)}}else if(re.layout>1){Z=new e.node(wt+"_"+S.id+"_split_0",Fe.id,[],"split"),e.manager._initDinamicNode(Z,S.lcn),c[Z.id]=Z,Z.layout=re.layout;var gt=[];for(u=re.childrenIds.length-1;u>=0;u--){for(U=c[re.childrenIds[u]],b=0;b<S.children.length;b++)S.children[b].id==U.id&&S.children.splice(b,1);if(U.parent=null,U.layout=re.layout,re.layout!=e.layout.treeRightOffset&&re.layout!=e.layout.treeRight||gt.splice(0,0,U.id),re.layout>2){var Qt=new e.node(wt+"_"+U.id+"_mirror",Fe.id,[],"mirror");e.manager._initDinamicNode(Qt,U.lcn),Qt.layout=re.layout,c[Qt.id]=Qt,gt.splice(0,0,Qt.id)}re.layout!=e.layout.treeRightOffset&&re.layout!=e.layout.treeRight&&gt.splice(0,0,U.id)}for(Ie=1,b=gt.length-1;b>=0;b--)b%2&&b!=gt.length-1?(ct=new e.node(wt+"_"+S.id+"_split_"+Ie,Fe.id,[],"split"),e.manager._initDinamicNode(ct,S.lcn),ct.layout=re.layout,c[ct.id]=ct,gt.splice(b,0,ct.id),Ie++):b%2&&gt.splice(b,0,Z.id);for(b=0;b<gt.length;b+=3)Te=null,b==0&&(Te=S),Ne=c[gt[b]],ze=c[gt[b+1]],xt=c[gt[b+2]],b!=0&&(Te=c[gt[b-3]]),b==0||ze||(Te=c[gt[b-2]]),Ne.parent=Te,Te.children.push(Ne),ze&&(b!=0&&(Te=c[gt[b-2]]),ze.parent=Te,Te.children.push(ze)),xt&&(b!=0&&(Te=c[gt[b-1]]),xt.parent=Te,Te.children.push(xt))}}}}}if(e.VERTICAL_CHILDREN_ASSISTANT)for(u=0;u<d.length;u++)e.manager._verticalAssistantIterate(d[u],c);return we={nodes:c,roots:d},e.events.publish("nodes-initialized",[t,we]),{nodes:we.nodes,roots:we.roots,rootList:f}},e.manager._getOrderFieldValue=function(t,r){var i=r;return r.field&&(i=r.field),t[i]},e.manager._getNodeWidth=function(t,r){switch(r.orientation){case e.orientation.top:case e.orientation.top_left:case e.orientation.bottom:case e.orientation.bottom_left:return t.w;case e.orientation.right:case e.orientation.right_top:case e.orientation.left:case e.orientation.left_top:return t.h}return 0},e.manager._isVisible=function(t,r,i,o){if(t.x!=null&&t.y!=null){if(r.lazyLoading&&o!==e.action.exporting){let s=function(l,c){var d=l.x,f=l.y,u=l.w,p=l.h,g=c[0]-e.LAZY_LOADING_FACTOR,m=c[2]+e.LAZY_LOADING_FACTOR+c[0],w=c[1]-e.LAZY_LOADING_FACTOR,y=c[3]+e.LAZY_LOADING_FACTOR+c[1],x=d+u>g&&m>d;return x&&(x=f+p>w&&y>f),x};if(s(t,i))return!0;for(var a=0;a<t.children.length;a++)if(s(t.children[a],i))return!0;return!1}return!0}},e.manager.getAllFields=function(t){var r=[e.TAGS];for(var i in t.nodeBinding)r.push(t.nodeBinding[i]);for(i=0;i<t.nodes.length;i++)for(var o in t.nodes[i])o!==e.ID&&o!==e.TAGS&&o!==e.NODES&&o!==e.PID&&o!==e.STPID&&o!=="movex"&&o!=="movey"&&(t.nodeBinding[o]||r.has(o)||r.push(o));return r},e.manager._getMostDeepChild=function(t){if(t){var r=t;return function i(o){o.sl>r.sl&&(r=o);for(var a=0;a<o.children.length;a++)i(o.children[a])}(t),r}},e.manager._getResponse=function(t,r,i,o,a,s,l,c,d,f,u,p,g,m,w){var y=f[0],x=[],v={top:null,left:null,bottom:null,right:null,minX:null,maxX:null,minY:null,maxY:null},S=[[],[],[]],_=a-l+2*o.padding,b=s-c+2*o.padding,C=e.getScale(d,t,r,o.scaleInitial,o.scaleMax,o.scaleMin,_,b);if(v.top=c-o.padding,v.left=l-o.padding,v.bottom=s+o.padding-r/C,v.right=a+o.padding-t/C,v.maxX=a,v.minX=l,v.maxY=s,v.minY=c,f.length==0||d==null&&!w&&o.align==e.CENTER){var N=Math.ceil(t/C),I=Math.ceil(r/C),E=0,A=0;if(N-2*o.padding>=a-l)switch(E=(a+l)/2-N/2,o.orientation){case e.orientation.right:case e.orientation.right_top:E=(l-a)/2-N/2}else switch(E=y.x-N/2+e.manager._getNodeWidth(y,o)/2,o.orientation){case e.orientation.right:case e.orientation.right_top:(E=-(N/2-(l-a)/2))<o.padding-N&&(E=o.padding-N);break;case e.orientation.left:case e.orientation.bottom_left:case e.orientation.top_left:case e.orientation.left_top:(E=-(N/2-(a-l)/2))>-o.padding&&(E=-o.padding)}if(I-2*o.padding>=s-c)switch(A=(s+c)/2-I/2,o.orientation){case e.orientation.bottom:case e.orientation.bottom_left:A=(c-s)/2-I/2}else switch((A=-(I/2-(s-c)/2))>-o.padding&&(A=-o.padding),o.orientation){case e.orientation.bottom:case e.orientation.bottom_left:(A=-(I/2-(c-s)/2))<o.padding-I&&(A=o.padding-I);break;case e.orientation.left:case e.orientation.right:A=y.y-I/2+e.manager._getNodeWidth(y,o)/2}d=[E,A,N,I]}else if(d==null&&!w&&o.align==e.ORIENTATION){switch(N=Math.ceil(t/C),I=Math.ceil(r/C),E=0,A=0,o.orientation){case e.orientation.top:E=y.x-N/2+e.manager._getNodeWidth(y,o)/2,A=-o.padding;break;case e.orientation.bottom:E=y.x-N/2+e.manager._getNodeWidth(y,o)/2,A=o.padding-I;break;case e.orientation.left:E=-o.padding,A=y.y-I/2+e.manager._getNodeWidth(y,o)/2;break;case e.orientation.right:E=o.padding-N,A=y.y-I/2+e.manager._getNodeWidth(y,o)/2;break;case e.orientation.top_left:E=-o.padding,A=-o.padding;break;case e.orientation.right_top:E=o.padding-N,A=-o.padding;break;case e.orientation.left_top:E=-o.padding,A=-o.padding;break;case e.orientation.bottom_left:E=-o.padding,A=o.padding-I}d=[E,A,N,I],o.sticky&&(d[0]<v.left&&d[0]<v.right&&(d[0]=v.left>v.right?v.right:v.left),d[0]>v.right&&d[0]>v.left&&(d[0]=v.left>v.right?v.left:v.right),d[1]<v.top&&d[1]<v.bottom&&(d[1]=v.top>v.bottom?v.bottom:v.top),d[1]>v.bottom&&d[1]>v.top&&(d[1]=v.top>v.bottom?v.top:v.bottom))}if(u==e.action.centerNode||u==e.action.maximize){var T=g[p.id];p.options.horizontal==1&&(d[0]=T.x+T.w/2-d[2]/2),p.options.vertical==1&&(d[1]=T.y+T.h/2-d[3]/2),o.sticky&&(d[0]<v.left&&d[0]<v.right&&(d[0]=v.left>v.right?v.right:v.left),d[0]>v.right&&d[0]>v.left&&(d[0]=v.left>v.right?v.left:v.right),d[1]<v.top&&d[1]<v.bottom&&(d[1]=v.top>v.bottom?v.bottom:v.top),d[1]>v.bottom&&d[1]>v.top&&(d[1]=v.top>v.bottom?v.top:v.bottom))}if(u==e.action.insert||u==e.action.expand||u==e.action.collapse||u==e.action.update||u==e.action.centerNode){var P=null;if(u==e.action.insert&&p&&p.insertedNodeId!=null&&p.insertedNodeId!=null)P=g[p.insertedNodeId];else if(u==e.action.update&&p&&p.visId!=null&&p.visId!=null)P=g[p.visId];else if(u!=e.action.expand&&u!=e.action.collapse||!p||p.id==null||p.id==null){if(u==e.action.centerNode){switch(o.orientation){case e.orientation.top:case e.orientation.top_left:case e.orientation.bottom:case e.orientation.bottom_left:p.options.vertical||(P=g[p.id]);break;case e.orientation.right:case e.orientation.right_top:case e.orientation.left:case e.orientation.left_top:p.options.horizontal||(P=g[p.id])}P&&(P=e.manager._getMostDeepChild(P,g))}}else P=g[p.id],P=e.manager._getMostDeepChild(P,g);if(!e.FIXED_POSITION_ON_CLICK&&P)switch(o.orientation){case e.orientation.top:case e.orientation.top_left:var O=P.y+P.h-d[3]+o.padding;d[1]<O&&(d[1]=O);break;case e.orientation.bottom:case e.orientation.bottom_left:O=P.y-o.padding,d[1]>O&&(d[1]=O);break;case e.orientation.right:case e.orientation.right_top:O=P.x-o.padding,d[0]>O&&(d[0]=O);break;case e.orientation.left:case e.orientation.left_top:O=P.x+P.w-d[2]+o.padding,d[0]<O&&(d[0]=O)}}for(var D=0;D<f.length;D++)e.manager._iterate2(f[D],g,o,d,u,p,x,m,i,S);return{animations:S,boundary:v,viewBox:d,visibleNodeIds:x,nodes:g,allFields:e.manager.getAllFields(o)}},e.manager._iterate2=function(t,r,i,o,a,s,l,c,d,f){if(e.manager._isVisible(t,i,o,a)){l.push(t.id);var u=null;if((a==e.action.expand||a==e.action.collapse||a==e.action.maximize)&&c&&c[t.id]&&s.method=="expandCollapseToLevel"){if(u={x:(w=c[t.id]).x,y:w.y},w){u={x:w.x,y:w.y};for(var p=t,g=null;p!=null;)c[p.id]&&c[p.id].collapsed&&(g=p),p=p.parent;g&&g.parent&&(u={x:g.parent.x,y:g.parent.y})}if(y=r[s.id]){for(p=t.parent;p!=null;)p=p.parent;p&&(u={x:y.x+y.w/2-t.w/2,y:y.y+y.h/2-t.h/2})}}else if((a==e.action.expand||a==e.action.collapse)&&c&&c[t.id]){if(u={x:(w=c[t.id]).x,y:w.y},s.ids=="all"&&w){for(u={x:w.x,y:w.y},p=t,g=null;p!=null;)c[p.id]&&c[p.id].collapsed&&(g=p),p=p.parent;g&&g.parent&&(u={x:g.parent.x,y:g.parent.y})}if(y=r[s.id]){for(p=t.parent;p!=null&&s.ids.indexOf(t.id)==-1&&s.ids.indexOf(p.id)==-1;)p=p.parent;p&&(u={x:y.x+y.w/2-t.w/2,y:y.y+y.h/2-t.h/2})}}else if(a==e.action.centerNode&&c&&c[t.id])(w=c[t.id]).x!=null&&w.y!=null&&(u={x:w.x,y:w.y}),(m=r[s.id])&&m==t&&(p=t.parent)&&p.id==s.id&&(u={x:m.x+m.w/2-t.w/2,y:m.y+m.h/2-t.h/2});else if(a==e.action.maximize&&c&&c[t.id]){var m;(w=c[t.id]).x!=null&&w.y!=null&&(u={x:w.x,y:w.y}),(m=r[s.id])&&m==t&&(p=t.parent)&&p.id==s.id&&(u={x:m.x+m.w/2-t.w/2,y:m.y+m.h/2-t.h/2})}else if(a==e.action.minimize&&c&&c[t.id])u={x:(w=c[t.id]).x,y:w.y};else if(a==e.action.insert&&s&&s.insertedNodeId==t.id&&t.parent)u={x:t.parent.x,y:t.parent.y};else if(a!=e.action.update&&a!=e.action.insert||!c)a!==e.action.exporting&&a!==e.action.init&&d.indexOf(t.id)==-1&&(f[0].push(t.id),f[1].push({opacity:0}),f[2].push({opacity:1}));else{var w,y;if((!(w=c[t.id])||e.isNEU(w.x)&&e.isNEU(w.y))&&s){if(y=r[s.id]){for(p=y;p&&p.id==t.id;)p=p.parent;p&&(u={x:y.x,y:y.y})}}else w&&(u={x:w.x,y:w.y})}u!=null&&u.x!=null&&u.y!=null&&(u.x!=t.x||u.y!=t.y)&&(s&&s.dragNodeIdList&&s.dragNodeIdList.indexOf(t.id)!=-1||(f[0].push(t.id),f[1].push({transform:[1,0,0,1,u.x,u.y]}),f[2].push({transform:[1,0,0,1,t.x,t.y]})))}for(var x=0;x<t.stChildren.length;x++)e.manager._iterate2(t.stChildren[x],r,i,o,a,s,l,c,d,f);for(x=0;x<t.children.length;x++)e.manager._iterate2(t.children[x],r,i,o,a,s,l,c,d,f)},e.manager._addExpandedNodeIdsIterate=function(t,r,i){for(var o=0;o<t.childrenIds.length;o++)i.push(t.childrenIds[o]),e.manager._addExpandedNodeIdsIterate(r[t.childrenIds[o]],r,i)},e.manager._setMinMaxXYAdjustifyIterate=function(t,r,i,o,a,s,l,c){t.x+=s.x,t.y+=s.y;for(var d=0;d<t.stChildren.length;d++)e.manager._setMinMaxXYAdjustifyIterate(t.stChildren[d],t.stChildren[d],i,0,a,s,l,c);for(t.isPartner?t.sl=o-1:t.sl=o,a[r.id]==null&&(a[r.id]={}),a[r.id][t.sl]==null&&(a[r.id][t.sl]={minX:null,minY:null,maxX:null,maxY:null}),t.layout?(c[r.id]==null&&(c[r.id]={}),c[r.id][t.sl]==null&&(c[r.id][t.sl]=t)):e._setMinMaxXY(t,a[r.id][t.sl]),t.movex!=null&&(t.x+=t.movex),t.movey!=null&&(t.y+=t.movey),e._setMinMaxXY(t,i),o++,d=0;d<t.children.length;d++)e.manager._setMinMaxXYAdjustifyIterate(t.children[d],r,i,o,a,s,l,c)},e.manager._doNotChangePositionOfClickedNodeIfAny=function(t,r,i,o,a,s){if(i!=e.action.expand&&i!=e.action.collapse&&i!=e.action.minimize&&i!=e.action.maximize&&i!=e.action.centerNode&&i!=e.action.update&&i!=e.action.insert)return{x:0,y:0};if(i==e.action.update&&(!o||o.id==null)){if(!t||!t.length)return{x:0,y:0};o={id:t[0].id}}if(o.id==null)return{x:0,y:0};var l=o.id;(i==e.action.minimize&&r[l].parent||i==e.action.maximize&&r[l].parent)&&(l=r[l].pid);var c=r[l],d=a[l];if(!d)return{x:0,y:0};var f=d.movex!=null?d.movex:0,u=d.movey!=null?d.movey:0;return{x:(d.x?d.x-f:0)-c.x,y:(d.y?d.y-u:0)-c.y}},e.manager._verticalAssistantIterate=function(t,r){for(var i=0;i<t.stChildren.length;i++)e.manager._verticalAssistantIterate(t.stChildren[i],r);if(t.children.length==3)e.manager._verticalAssistantIterate(t.children[0],r),e.manager._verticalAssistantIterate(t.children[2],r),e.manager._verticalAssistantIterate(t.children[1],r);else for(i=0;i<t.children.length;i++)e.manager._verticalAssistantIterate(t.children[i],r);if(t.isAssistant&&t.isSplit&&t.children.length){for(var o=t.parent.children[0],a=t.parent.children[2],s=t.parent;!s.hasAssistants;)s=s.parent;var l={max:0},c={max:0};e.manager._verticalAssistantLevelCountIterate(o,0,l),e.manager._verticalAssistantLevelCountIterate(a,0,c);var d=Math.max(l.max,c.max),f=[];for(i=0;i<d;i++){var u=new e.node(t.parent.id+"_split_assitant_level_"+i,t.pid,[],"subLevel");e.manager._initDinamicNode(u,t.lcn,!0),i>0&&(f[i-1].children.push(u),u.parent=f[i-1]),r[u.id]=u,f.push(u)}if(f.length){for(var p=f[f.length-1],g=f[0],m=t.children.length-1;m>=0;m--){var w=t.children[m];p.children.unshift(w),w.parent=p,t.children.splice(m,1)}t.children.push(g),g.parent=t}}},e.manager._verticalAssistantLevelCountIterate=function(t,r,i){i.max<r&&(i.max=r),r++;for(var o=0;o<t.children.length;o++)e.manager._verticalAssistantLevelCountIterate(t.children[o],r,i)},e._addDottedLines=function(t){var r=t.nodes;if((t.groupDottedLines.length||t.dottedLines.length)&&(r=JSON.parse(JSON.stringify(r))),t.groupDottedLines.length)for(var i=[],o=0;o<t.groupDottedLines.length;o++){var a=t.groupDottedLines[o];a.rootId==null&&(a.rootId=a.to);var s="balkan_group_dotted_".concat(a.rootId);if(!i.has(s)){for(var l=0;l<r.length;l++)if(r[l].id==a.rootId){(u=JSON.parse(JSON.stringify(r[l]))).id="balkan_group_dotted_".concat(a.rootId,"_balkan_id_").concat(r[l].id),u.pid=void 0,u.stpid=r[l].id,r.push(u),i.push(s),r[l].tags||(r[l].tags=[]),r[l].tags.push("group-dotted-lines"),r[l].tags.push("group-dotted-lines-"+s);break}}for(l=0;l<r.length;l++)if(r[l].id==a.from){if((u=JSON.parse(JSON.stringify(r[l]))).id="balkan_group_dotted_".concat(a.rootId,"_balkan_id_").concat(r[l].id),u.pid="balkan_group_dotted_".concat(a.rootId,"_balkan_id_").concat(a.to),u.tags){var c=u.tags.indexOf("group-dotted-lines");c!=-1&&u.tags.splice(c,1)}if(u.tags||(u.tags=[]),u.tags.push("bft-dotted-connector"),a.tags)for(var d=0;d<a.tags.length;d++)u.tags.push(a.tags[d]);r.push(u);break}}if(t.dottedLines.length)for(o=0;o<t.dottedLines.length;o++){var f=t.dottedLines[o];for(f.rootId==null&&(f.rootId=f.to),l=0;l<r.length;l++)if(r[l].id==f.from){var u;if((u=JSON.parse(JSON.stringify(r[l]))).id="balkan_dotted_".concat(f.rootId,"_balkan_id_").concat(r[l].id),f.rootId==f.to?u.pid=f.to:u.pid="balkan_dotted_".concat(f.rootId,"_balkan_id_").concat(f.to),u.tags||(u.tags=[]),u.tags.push("bft-dotted-connector"),f.tags)for(d=0;d<f.tags.length;d++)u.tags.push(f.tags[d]);r.push(u);break}}return r},e.manager.__createNodes=function(t,r,i,o,a,s,l,c){for(var d=i.nodes,f=[],u={},p={},g=0;g<d.length;g++){var m,w=d[g];m=e.STRING_TAGS?w.tags?w.tags.split(","):[]:Array.isArray(w.tags)?w.tags.slice(0):[],c.filterUI.addFilterTag(w)&&m.push("filter");var y=c.searchUI.addMatchTag(w.id);y===!0?m.unshift("match"):y===!1&&m.unshift("no-match"),w.gender&&m.push(w.gender);var x=e._getTemplate(m,i.tags,i.template);w.templateName&&(x=w.templateName);var v=new e.node(w.id,w.pid,m,x);v.ftChildrenIds=[],v.rids=[],e.isNEU(w.ppid)||(v.ppid=w.ppid),e.isNEU(w.stpid)||(v.stpid=w.stpid),e.isNEU(w.mid)||(v.mid=w.mid),e.isNEU(w.fid)||(v.fid=w.fid),e.isNEU(w.gender)||(v.gender=w.gender),Array.isArray(w.pids)?v.pids=w.pids:v.pids=[],i.orderBy!=null&&(v.order=e.manager._getOrderFieldValue(w,i.orderBy)),t[w.id]=v,e.isNEU(v.stpid)?(e.isNEU(v.mid)||(u[v.mid]||(u[v.mid]=[]),u[v.mid].push(v.id)),e.isNEU(v.fid)||(u[v.fid]||(u[v.fid]=[]),u[v.fid].push(v.id)),e.isNEU(v.mid)&&e.isNEU(v.fid)&&e.isNEU(v.stpid)&&(f.has(v.id)||f.push(v.id))):(p[v.stpid]||(p[v.stpid]=[]),p[v.stpid].push(v.id))}if(i.orderBy!=null&&u)for(var S in u)u[S].sort(function(T,P){var O=t[T].order,D=t[P].order;return typeof O=="number"||typeof D=="number"?(O==null&&(O=-1),D==null&&(D=-1),i.orderBy.desc?D-O:O-D):typeof O=="string"||typeof D=="string"?(O==null&&(O=""),D==null&&(D=""),i.orderBy.desc?D.localeCompare(O):O.localeCompare(D)):void 0});for(g=0;g<f.length;g++){var _=t[f[g]];if(_){var b=[];e.manager._iterateSetRootIds(_.id,_.id,p,u,t,b),l.push(b)}}for(g=0;g<l.length;g++)for(var C=0;C<l.length;C++)if(C!=g){for(var N=l[g],I=l[C],E=!1,A=0;A<N.length;A++)if(I.has(N[A])){E=!0;break}E&&(l[g]=N.concat(I).unique(),l[C]=[])}for(g=l.length-1;g>=0;g--)l[g].length||l.splice(g,1);if(!i.roots||!i.roots.length)for(i.roots=[],g=l.length-1;g>=0;g--)i.roots.push(l[g][0]);for(g=0;g<i.roots.length;g++)e.manager._iterateFT(i.roots[g],p,u,t,s,r,o,a,i)},e.manager._iterateSetRootIds=function(t,r,i,o,a,s){var l=a[t];if(l){l.rids.has(r)||l.rids.push(r);for(var c=0;c<l.rids.length;c++)s.has(l.rids[c])||s.push(l.rids[c]);for(c=0;c<l.pids.length;c++){var d=a[l.pids[c]];if(d)for(var f=0;f<d.rids.length;f++)s.has(d.rids[f])||s.push(d.rids[f])}if(i[l.id])for(c=0;c<i[l.id].length;c++)e.manager._iterateSetRootIds(i[l.id][c],r,i,o,a,s);if(o[l.id])for(c=0;c<o[l.id].length;c++)e.manager._iterateSetRootIds(o[l.id][c],r,i,o,a,s)}},e.manager._iterateFT=function(t,r,i,o,a,s,l,c,d){var f,u=o[t],p=a?a[t]:null,g=o[u.stpid],m=o[u.mid],w=o[u.fid];if(g||(u.stpid=null),m?w&&(m.tags.has("partner")||m.tags.has("left-partner")||m.tags.has("right-partner"))?(u.pid=w.id,f=w,u.ppid=m.id):(u.pid=m.id,f=m,w&&(u.ppid=w.id)):w?m&&(w.tags.has("partner")||w.tags.has("left-partner")||w.tags.has("right-partner"))?(u.pid=m.id,f=m,u.ppid=w.id):(u.pid=w.id,f=w,m&&(u.ppid=m.id)):u.pid,g){var y=a?a[g.id]:null;y&&(g.min=y.min),g.stChildrenIds.push(u.id)}else m||w?(p&&(u.collapsed=p.collapsed,u.min=p.min),f&&!f.childrenIds.has(u.id)&&f.childrenIds.push(u.id),m&&!m.ftChildrenIds.has(u.id)&&m.ftChildrenIds.push(u.id),w&&!w.ftChildrenIds.has(u.id)&&w.ftChildrenIds.push(u.id)):(p&&(u.collapsed=p.collapsed,u.min=p.min),s.push(u));l==e.action.init&&(u.min=e._getMin(u,d));for(var x=0;x<u.pids.length;x++){var v=o[u.pids[x]];if(v){v.pid=u.id;var S=a?a[v.id]:null;if(S&&(v.collapsed=S.collapsed,v.min=S.min),l==e.action.init&&(v.min=e._getMin(v,d)),c&&p&&S&&c.id==u.id?S.hasPartners&&p.isPartner==1?v.tags.push("left-partner"):S.hasPartners&&p.isPartner==2||p.isPartner==1?v.tags.push("right-partner"):p.isPartner==2?v.tags.push("left-partner"):v.tags.push("partner"):S&&S.isPartner==2?v.tags.push("left-partner"):S&&S.isPartner==1?v.tags.push("right-partner"):v.tags.push("partner"),!e.isNEU(v)&&i[v.id])for(var _=0;_<i[v.id].length;_++){var b=o[i[v.id][_]];b&&(e.isNEU(b.fid)||e.isNEU(b.mid))&&e.manager._iterateFT(i[v.id][_],r,i,o,a,s,l,c,d)}u.childrenIds.push(v.id)}}if(r[t])for(_=0;_<r[t].length;_++)e.manager._iterateFT(r[t][_],r,i,o,a,s,l,c,d);if(i[t])for(_=0;_<i[t].length;_++)e.manager._iterateFT(i[t][_],r,i,o,a,s,l,c,d)},e.manager.getAllFields=function(t){var r=[e.TAGS];for(var i in t.nodeBinding)r.push(t.nodeBinding[i]);for(i=0;i<t.nodes.length;i++)for(var o in t.nodes[i])o!==e.ID&&o!==e.TAGS&&o!==e.NODES&&o!==e.PID&&o!==e.STPID&&o!=="mid"&&o!=="fid"&&o!=="pids"&&(t.nodeBinding[o]||r.has(o)||r.push(o));return r},e.templates={},e.templates.base={defs:'<g transform="matrix(1,0,0,1,0,0)" id="dot"><circle class="bft-fill" cx="0" cy="0" r="5" stroke="#aeaeae" stroke-width="1"></circle></g>\n            <g id="base_node_menu" style="cursor:pointer;"><rect x="0" y="0" fill="transparent" width="22" height="22"></rect><circle cx="4" cy="11" r="2" fill="#aeaeae"></circle><circle cx="11" cy="11" r="2" fill="#aeaeae"></circle><circle cx="18" cy="11" r="2" fill="#aeaeae"></circle></g>\n            <g style="cursor: pointer;" id="base_tree_menu">\n                <rect x="0" y="0" width="25" height="25" fill="transparent"></rect>\n                '.concat(e.icon.addUser(25,25,"#fff",0,0),'\n            </g>\n            <g style="cursor: pointer;" id="base_tree_menu_close">\n                <circle cx="12.5" cy="12.5" r="12" fill="#F57C00"></circle>\n                ').concat(e.icon.close(25,25,"#fff",0,0),'\n            </g>            \n            <g id="base_up">\n                <circle cx="15" cy="15" r="15" fill="#fff" stroke="#aeaeae" stroke-width="1"></circle>\n                ').concat(e.icon.ft(20,20,"#aeaeae",5,5),'\n            </g>\n            <clipPath id="base_img_0"><rect id="base_img_0_stroke" stroke-width="3" stroke="#fff" x="170" y="-5" rx="25" ry="25" width="70" height="70"></rect></clipPath>'),size:[250,120],linkAdjuster:{fromX:0,fromY:0,toX:0,toY:0},ripple:{radius:0,color:"#e6e6e6",rect:null},expandCollapseSize:0,svg:'<svg class="{randId} {template}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"  style="display:block;" width="{w}" height="{h}" viewBox="{viewBox}">{content}</svg>',link:'<path stroke-linejoin="round" stroke="#aeaeae" stroke-width="1px" fill="none" d="{rounded}" />',assistanseLink:'<path stroke-linejoin="round" stroke="#aeaeae" stroke-width="2px" fill="none" d="M{xa},{ya} {xb},{yb} {xc},{yc} {xd},{yd} L{xe},{ye}"/>',pointer:'<g data-pointer="pointer" transform="matrix(0,0,0,0,100,100)"><radialGradient id="pointerGradient"><stop stop-color="#ffffff" offset="0" /><stop stop-color="#C1C1C1" offset="1" /></radialGradient><circle cx="16" cy="16" r="16" stroke-width="1" stroke="#acacac" fill="url(#pointerGradient)"></circle></g>',node:'<rect x="0" y="0" height="{h}" width="{w}" stroke-width="1" stroke="#aeaeae" rx="7" ry="7"></rect>',menuButton:'<div style="position:absolute;right:{p}px;top:{p}px; width:40px;height:50px;cursor:pointer;" '+e.attr.control_export_menu+'=""><hr style="background-color: #7A7A7A; height: 3px; border: none;"><hr style="background-color: #7A7A7A; height: 3px; border: none;"><hr style="background-color: #7A7A7A; height: 3px; border: none;"></div>',padding:[50,20,35,20],nodeMenuButton:"<use ".concat(e.attr.control_node_menu_id,'="{id}" x="220" y="95" xlink:href="#base_node_menu"/>'),nodeTreeMenuButton:'<use data-ctrl-n-t-menu-id="{id}" x="10" y="10" xlink:href="#base_tree_menu"/>',nodeTreeMenuCloseButton:'<use data-ctrl-n-t-menu-c="" x="10" y="10" xlink:href="#base_tree_menu_close"/>',up:'<use x="110" y="-10" xlink:href="#base_up"/>',img_0:'<use xlink:href="#base_img_0_stroke" /><image preserveAspectRatio="xMidYMid slice" clip-path="url(#base_img_0)" xlink:href="{val}"  x="170" y="-5"  width="70" height="70"></image>',link_field_0:'<text text-anchor="middle" fill="#aeaeae" '+e.attr.width+'="290" x="0" y="0" style="font-size:10px;">{val}</text>'},e.templates.dot=Object.assign({},e.templates.base),e.templates.dot.node='<circle cx="5" cy="5" r="5" fill="none" stroke-width="1" stroke="#aeaeae"></circle>',e.templates.dot.size=[10,10],e.templates.dot.nodeMenuButton="",e.templates.dot.nodeTreeMenuButton="",e.templates.dot.nodeTreeMenuCloseButton="",e.templates.dot.up="",e.templates.john=Object.assign({},e.templates.base),e.templates.john.nodeMenuButton="<use ".concat(e.attr.control_node_menu_id,'="{id}" x="90" y="50" xlink:href="#base_node_menu"/>'),e.templates.john.defs='<style>                          \n                                        .{randId} .bft-edit-form-header, .{randId} .bft-img-button{\n                                            background-color: #aeaeae;\n                                        }\n                                        .{randId}.male .bft-edit-form-header, .{randId}.male .bft-img-button{\n                                            background-color: #039BE5;\n                                        }        \n                                        .{randId}.male div.bft-img-button:hover{\n                                            background-color: #F57C00;\n                                        }\n                                        .{randId}.female .bft-edit-form-header, .{randId}.female .bft-img-button{\n                                            background-color: #F57C00;\n                                        }        \n                                        .{randId}.female div.bft-img-button:hover{\n                                            background-color: #039BE5;\n                                        }\n                                    </style>\n                                    <clipPath id="john_img_0"><rect  x="6" y="6" rx="54" ry="54" width="108" height="108"></rect></clipPath>\n                                    '.concat(e.gradientCircleForDefs("circle","#aeaeae",60,5),"\n                                    ").concat(e.gradientCircleForDefs("male_circle","#039BE5",60,5),"\n                                    ").concat(e.gradientCircleForDefs("female_circle","#F57C00",60,5)),e.templates.john.field_0="<text "+e.attr.width+'="230" style="font-size: 16px;font-weight:bold;" fill="#aeaeae" x="60" y="135" text-anchor="middle">{val}</text>',e.templates.john.field_1="<text "+e.attr.width+'="150" style="font-size: 13px;" fill="#aeaeae" x="60" y="150" text-anchor="middle">{val}</text>',e.templates.john.node='<use x="0" y="0" xlink:href="#circle" />',e.templates.john.img_0='<image preserveAspectRatio="xMidYMid slice" clip-path="url(#john_img_0)" xlink:href="{val}"  x="6" y="6"  width="108" height="108"></image>',e.templates.john.ripple={radius:60,color:"#e6e6e6",rect:null},e.templates.john.size=[120,120],e.templates.john_male=Object.assign({},e.templates.john),e.templates.john_male.node+='<use x="0" y="0" xlink:href="#male_circle" />',e.templates.john_male.ripple={radius:60,color:"#039BE5",rect:null},e.templates.john_female=Object.assign({},e.templates.john),e.templates.john_female.node+='<use x="0" y="0" xlink:href="#female_circle" />',e.templates.john_female.ripple={radius:60,color:"#F57C00",rect:null},e.templates.tommy=Object.assign({},e.templates.base),e.templates.tommy.defs="<style>                          \n                                        .{randId} .bft-edit-form-header, .{randId} .bft-img-button{\n                                            background-color: #aeaeae;\n                                        }\n                                        .{randId}.male .bft-edit-form-header, .{randId}.male .bft-img-button{\n                                            background-color: #039BE5;\n                                        }        \n                                        .{randId}.male div.bft-img-button:hover{\n                                            background-color: #F57C00;\n                                        }\n                                        .{randId}.female .bft-edit-form-header, .{randId}.female .bft-img-button{\n                                            background-color: #F57C00;\n                                        }        \n                                        .{randId}.female div.bft-img-button:hover{\n                                            background-color: #039BE5;\n                                        }\n                                    </style>",e.templates.tommy.field_0="<text "+e.attr.width+'="230" style="font-size: 18px;font-weight:bold;" fill="#ffffff" x="10" y="90" text-anchor="start">{val}</text>',e.templates.tommy.field_1="<text "+e.attr.width+'="150" style="font-size: 14px;" fill="#ffffff" x="10" y="65" text-anchor="start">{val}</text>',e.templates.tommy.node='<rect x="0" y="0" height="{h}" width="{w}" stroke-width="1" fill="#aeaeae" stroke="#aeaeae" rx="7" ry="7"></rect>',e.templates.tommy_male=Object.assign({},e.templates.tommy),e.templates.tommy_male.node='<rect x="0" y="0" height="{h}" width="{w}" stroke-width="1" fill="#039BE5" stroke="#aeaeae" rx="7" ry="7"></rect>',e.templates.tommy_female=Object.assign({},e.templates.tommy),e.templates.tommy_female.node='<rect x="0" y="0" height="{h}" width="{w}" stroke-width="1" fill="#F57C00" stroke="#aeaeae" rx="7" ry="7"></rect>',e.templates.hugo=Object.assign({},e.templates.base),e.templates.hugo.up='<use x="200" y="10" xlink:href="#hugo_up"/>',e.templates.hugo.nodeMenuButton='<use x="225" y="10" '.concat(e.attr.control_node_menu_id,'="{id}" xlink:href="#hugo_node_menu"/>'),e.templates.hugo.defs='<clipPath id="hugo_img_0"><rect id="hugo_img_0_stroke" stroke-width="2" stroke="#fff" x="90" y="-5" rx="25" ry="25" width="70" height="70"></rect></clipPath>\n                                    <linearGradient id="hugo_grad_female" x1="0%" y1="0%" x2="100%" y2="0%">\n                                        <stop offset="0%" style="stop-color:#FF8024;stop-opacity:1" />\n                                        <stop offset="100%" style="stop-color:#FF46A3;stop-opacity:1" />\n                                    </linearGradient>\n                                    <linearGradient id="hugo_grad_male" x1="0%" y1="0%" x2="100%" y2="0%">\n                                        <stop offset="0%" style="stop-color:#00D3A5;stop-opacity:1" />\n                                        <stop offset="100%" style="stop-color:#00A7D4;stop-opacity:1" />\n                                    </linearGradient>\n                                    <linearGradient id="hugo_grad" x1="0%" y1="0%" x2="100%" y2="0%">\n                                        <stop offset="0%" style="stop-color:#D0D0D0;stop-opacity:1" />\n                                        <stop offset="100%" style="stop-color:#909090;stop-opacity:1" />\n                                    </linearGradient>\n                                    <g id="hugo_up">\n                                        <circle cx="12" cy="12" r="15" fill="transparent" ></circle>\n                                        '.concat(e.icon.ft(24,24,"#fff",0,0),'\n                                    </g>\n                                    <g id="hugo_node_menu" style="cursor:pointer;"><rect x="0" y="0" fill="transparent" width="22" height="22"></rect><circle cx="11" cy="4" r="2" fill="#ffffff"></circle><circle cx="11" cy="11" r="2" fill="#ffffff"></circle><circle cx="11" cy="18" r="2" fill="#ffffff"></circle></g>\n                                    <style>\n                                        .{randId} .bft-edit-form-header{\n                                            background: linear-gradient(90deg, #D0D0D0 0%, #909090 100%);\n                                        }\n                                        .{randId}.male .bft-edit-form-header{\n                                            background: linear-gradient(90deg, #00D3A5 0%, #00A7D4 100%);\n                                        }\n                                        .{randId}.female .bft-edit-form-header{\n                                            background: linear-gradient(90deg, #FF8024 0%, #FF46A3 100%);\n                                        }  \n                                        .{randId} .bft-img-button{\n                                            background-color: #909090;\n                                        }      \n                                        .{randId} .bft-img-button:hover{\n                                            background-color: #D0D0D0;\n                                        }\n                                        .{randId}.male .bft-img-button{\n                                            background-color: #00A7D4;\n                                        }      \n                                        .{randId}.male .bft-img-button:hover{\n                                            background-color: #00D3A5;\n                                        }\n                                        .{randId}.female .bft-img-button{\n                                            background-color: #FF46A3;\n                                        }      \n                                        .{randId}.female .bft-img-button:hover{\n                                            background-color: #FF8024;\n                                        }\n                                        \n                                    </style>'),e.templates.hugo.img_0='<use xlink:href="#hugo_img_0_stroke" /><image preserveAspectRatio="xMidYMid slice" clip-path="url(#hugo_img_0)" xlink:href="{val}"  x="90" y="-5"  width="70" height="70"></image>',e.templates.hugo.field_0="<text "+e.attr.width+'="230" style="font-size: 18px;font-weight:bold;" fill="#ffffff" x="125" y="85" text-anchor="middle">{val}</text>',e.templates.hugo.field_1="<text "+e.attr.width+'="230" style="font-size: 14px;" fill="#ffffff" x="125" y="105" text-anchor="middle">{val}</text>',e.templates.hugo.node='<rect x="0" y="0" height="{h}" width="{w}" stroke-width="1" fill=url(#hugo_grad) stroke="#aeaeae" rx="7" ry="7"></rect>',e.templates.hugo_male=Object.assign({},e.templates.hugo),e.templates.hugo_male.node='<rect x="0" y="0" height="{h}" width="{w}" stroke-width="1" fill=url(#hugo_grad_male) stroke="#aeaeae" rx="7" ry="7"></rect>',e.templates.hugo_female=Object.assign({},e.templates.hugo),e.templates.hugo_female.node='<rect x="0" y="0" height="{h}" width="{w}" stroke-width="1" fill=url(#hugo_grad_female) stroke="#aeaeae" rx="7" ry="7"></rect>',e.templates.mother=Object.assign({},e.templates.base),e.templates.mother.up="",e.templates.mother.node='<rect x="0" y="0" height="{h}" width="{w}" style="fill:transparent;"  stroke-width="1" stroke="#F57C00" rx="5" ry="5"></rect><text style="font-size: 18px;" fill="#F57C00" x="240" y="30" text-anchor="end">Add mother</text>'+e.icon.mother(70,70,"#F57C00",10,40),e.templates.mother.field_0="",e.templates.mother.field_1="",e.templates.father=Object.assign({},e.templates.mother),e.templates.father.node='<rect x="0" y="0" height="{h}" width="{w}" style="fill:transparent;height:{h}; width:{w};stroke-width:1;stroke:#039BE5;rx:5;ry:5;"></rect><text style="font-size: 18px;" fill="#039BE5" x="240" y="30" text-anchor="end">Add father</text>'+e.icon.father(70,70,"#039BE5",10,40),e.templates.partner=Object.assign({},e.templates.mother),e.templates.partner.node='<rect x="0" y="0" height="{h}" width="{w}" style="fill:transparent;height:{h}; width:{w};stroke-width:1;stroke:#aeaeae;rx:5;ry:5;"></rect><text style="font-size: 18px;" fill="#aeaeae" x="240" y="30" text-anchor="end">Add partner</text>',e.templates.son=Object.assign({},e.templates.mother),e.templates.son.node='<rect x="0" y="0" height="{h}" width="{w}" style="fill:transparent;height:{h}; width:{w};stroke-width:1;stroke:#039BE5;rx:5;ry:5;"></rect><text style="font-size: 18px;" fill="#039BE5" x="240" y="30" text-anchor="end">Add son</text>'+e.icon.son(70,70,"#039BE5",10,40),e.templates.daughter=Object.assign({},e.templates.mother),e.templates.daughter.node='<rect x="0" y="0" height="{h}" width="{w}" style="fill:transparent;height:{h}; width:{w};stroke-width:1;stroke:#F57C00;rx:5;ry:5;"></rect><text style="font-size: 18px;" fill="#F57C00" x="240" y="30" text-anchor="end">Add daughter</text>'+e.icon.daughter(70,70,"#F57C00",10,40),e.templates.husband=Object.assign({},e.templates.mother),e.templates.husband.node='<rect x="0" y="0" height="{h}" width="{w}" style="fill:transparent;height:{h}; width:{w};stroke-width:1;stroke:#039BE5;rx:5;ry:5;"></rect><text style="font-size: 18px;" fill="#039BE5" x="240" y="30" text-anchor="end">Add husband</text>'+e.icon.husband(70,70,"#039BE5",10,40),e.templates.wife=Object.assign({},e.templates.mother),e.templates.wife.node='<rect x="0" y="0" height="{h}" width="{w}" style="fill:transparent;height:{h}; width:{w};stroke-width:1;stroke:#F57C00;rx:5;ry:5;"></rect><text style="font-size: 18px;" fill="#F57C00" x="240" y="30" text-anchor="end">Add wife</text>'+e.icon.wife(70,70,"#F57C00",10,40),e.templates.pet=Object.assign({},e.templates.mother),e.templates.pet.node='<rect x="0" y="0" style="fill:transparent;height:{h}; width:{w};stroke-width:1;stroke:#F57C00;rx:5;ry:5;"></rect><text style="font-size: 18px;" fill="#F57C00" x="240" y="30" text-anchor="end">Add pet</text>'+e.icon.teddy(70,70,"#F57C00",10,40),e.templates.cgroup=Object.assign({},e.templates.base),e.templates.cgroup.defs="",e.templates.cgroup.size=[250,120],e.templates.cgroup.padding=[0,0,0,0],e.templates.cgroup.node="",e.templates.split=Object.assign({},e.templates.base),e.templates.split.size=[10,10],e.templates.split.node='<circle cx="5" cy="5" r="5" fill="none" stroke-width="1" stroke="#aeaeae"></circle>',e.templates.mirror={linkAdjuster:{},link:"",node:"",nodeMenuButton:"",size:[0,0]},e.ui={_defsIds:{},defs:function(t){var r="";for(var i in e.templates){var o=e.templates[i];o.defs&&(e.ui._defsIds[i]=e.randomId(),r+=o.defs.replaceAll("{randId}",e.ui._defsIds[i]))}return"<defs>"+r+t+"</defs>"},lonely:function(t){return t.nodes&&t.nodes.length?"":e.IT_IS_LONELY_HERE.replace("{link}",e.RES.IT_IS_LONELY_HERE_LINK)},pointer:function(t,r,i){return r===e.action.exporting?"":e.t(t.template,!1,i).pointer},node:function(t,r,i,o,a,s,l,c,d,f){var u=e.t(t.templateName,t.min,d),p=u.node.replaceAll("{w}",t.w).replaceAll("{h}",t.h);u.defs&&(p=p.replaceAll("{randId}",e.ui._defsIds[t.templateName])),l==null&&(l=o.nodeBinding);var g={node:t,data:r};for(var m in l){var w,y=l[m];r&&(w=r[y]);var x=e._lblIsImg(o,m);if(g.value=w,g.element=u[m],g.name=y,g.field=m,e.events.publish("field",[f,g])!==!1&&g.value!=null&&g.value!=null&&g.element!=null&&(!x||x&&!e.isNEU(g.value))){if(!x&&typeof g.value=="string"){var v=g.element;v&&(v=v.replaceAll("{ew}",t.w-(t.padding?t.padding[1]:0)).replaceAll("{cw}",t.w/2)),g.value=e.wrapText(g.value,v)}var S=g.element.replace("{val}",g.value);p+=S=S.replaceAll("{ew}",t.w-(t.padding?t.padding[1]:0)).replaceAll("{cw}",t.w/2).replaceAll("{randId}",e.randomId()).replaceAll("{randId2}",e.randomId())}}var _=e._getPosition(i,t,a,s),b="node";Array.isArray(t.tags)&&t.tags.length&&(b+=" "+t.tags.join(" ")),t.layout&&(b+=" tree-layout");var C="";t.lcn&&(C='lcn="'+t.lcn+'"');var N=e.nodeOpenTag.replace("{lcn}",C).replace("{id}",t.id).replace("{class}",b).replace("{sl}",t.sl).replace("{level}",t.level).replace("{x}",_.x).replace("{y}",_.y),I=e._getOpacity(i,t);return p=(N=N.replace("{opacity}",I))+(p+=e.ui.nodeBtns(o,t,c,u,f))+e.grCloseTag},nodeBtns:function(t,r,i,o,a){var s="";return t.nodeMenu==null||r.isSplit||i===e.action.exporting||(s+=o.nodeMenuButton.replace("{id}",r.id).replace("{cw}",r.w/2).replace("{ch}",r.h/2).replace("{ew}",r.w-(r.padding?r.padding[1]:0)).replace("{eh}",r.h-(r.padding?r.padding[2]:0))),t.nodeCircleMenu==null||r.isSplit||i===e.action.exporting||e.isNEU(o.nodeCircleMenuButton)||(s+='<g style="cursor:pointer;" transform="matrix(1,0,0,1,'+o.nodeCircleMenuButton.x+","+o.nodeCircleMenuButton.y+')" '+e.attr.control_node_circle_menu_id+'="'+r.id+'"><circle cx="0" cy="0" fill="'+o.nodeCircleMenuButton.color+'" r="'+o.nodeCircleMenuButton.radius+'" stroke-width="1" stroke="'+o.nodeCircleMenuButton.stroke+'"></circle><line x1="-'+o.nodeCircleMenuButton.radius/2+'" y1="-6" x2="'+o.nodeCircleMenuButton.radius/2+'" y2="-6" stroke-width="2" stroke="'+o.nodeCircleMenuButton.stroke+'"></line><line x1="-'+o.nodeCircleMenuButton.radius/2+'" y1="0" x2="'+o.nodeCircleMenuButton.radius/2+'" y2="0" stroke-width="2" stroke="'+o.nodeCircleMenuButton.stroke+'"></line><line x1="-'+o.nodeCircleMenuButton.radius/2+'" y1="6" x2="'+o.nodeCircleMenuButton.radius/2+'" y2="6" stroke-width="2" stroke="'+o.nodeCircleMenuButton.stroke+'"></line></g>'),s},expandCollapseBtn:function(t,r,i,o,a){var s="";if(o!==e.action.exporting&&!r.isSplit){var l=i[r.lcn?r.lcn:"base"],c=0,d=0,f=e.t(r.templateName,r.min,a);if(r.childrenIds.length>0){if(r.hasPartners){for(var u=!1,p=0;p<r.childrenIds.length;p++){var g=t.getNode(r.childrenIds[p]);!g||g.parentPartner||g.isPartner||(u=!0)}if(!u)return""}switch(l.orientation){case e.orientation.top:case e.orientation.top_left:c=r.x+r.w/2,d=r.y+r.h;break;case e.orientation.bottom:case e.orientation.bottom_left:c=r.x+r.w/2,d=r.y;break;case e.orientation.right:case e.orientation.right_top:c=r.x,d=r.y+r.h/2;break;case e.orientation.left:case e.orientation.left_top:c=r.x+r.w,d=r.y+r.h/2}if(c-=f.expandCollapseSize/2,d-=f.expandCollapseSize/2,t.getCollapsedIds(r).length?(s+=e.expcollOpenTag.replace("{id}",r.id).replace("{x}",c).replace("{y}",d),s+=f.plus,s+=e.grCloseTag):(s+=e.expcollOpenTag.replace("{id}",r.id).replace("{x}",c).replace("{y}",d),s+=f.minus,s+=e.grCloseTag),s.indexOf("{collapsed-children-count}")!=-1){var m=e.collapsedChildrenCount(t,r);s=s.replace("{collapsed-children-count}",m)}if(s.indexOf("{collapsed-children-total-count}")!=-1){var w=e.collapsedChildrenTotalCount(t,r);s=s.replace("{collapsed-children-total-count}",w)}if(s.indexOf("{children-count}")!=-1){var y=e.childrenCount(t,r);s=s.replace("{children-count}",y)}if(s.indexOf("{children-total-count}")!=-1){var x=e.childrenTotalCount(t,r);s=s.replace("{children-total-count}",x)}}t._nodeHasHiddenParent(r)&&(s+=e.upOpenTag.replace("{id}",r.id).replace("{x}",r.x).replace("{y}",r.y),s+=f.up,s+=e.grCloseTag)}var v={html:s,node:r};return e.events.publish("renderbuttons",[t,v]),v.html},link:function(t,r,i,o,a,s,l){var c=t.lcn?t.lcn:"base",d=r._layoutConfigs[c],f=e.t(t.templateName,t.min,i),u=[],p=[],g=d.levelSeparation/2;t.layout>0&&(g=d.mixedHierarchyNodesSeparation/2);var m=0,w=e.getRootOf(t).id,y=o[w][t.sl],x=void 0;if(t.hasPartners){x={ids:[],indexes:{},ppnodes:{},lastLeft:null,firstRight:null,maxSidePartnersWithChildren:0,rightIds:[],leftIds:[],partnerChildrenSplitSeparation:r.config.partnerChildrenSplitSeparation};for(var v=0;v<t.children.length;v++)(_=t.children[v]).parentPartner?(x.ppnodes[_.id]=_.parentPartner,x.ids.push(_.id),_.parentPartner.isPartner==1?(x.rightIds.indexOf(_.parentPartner.id)==-1&&x.rightIds.push(_.parentPartner.id),x.indexes[_.id]=x.rightIds.indexOf(_.parentPartner.id),x.firstRight||(x.firstRight=_)):_.parentPartner.isPartner==2&&(x.leftIds.indexOf(_.parentPartner.id)==-1&&x.leftIds.push(_.parentPartner.id),x.indexes[_.id]=x.leftIds.indexOf(_.parentPartner.id),x.lastLeft=_)):_.isPartner||(x.lastLeft=_,x.firstRight||(x.firstRight=_));x.maxSidePartnersWithChildren=Math.max(x.leftIds.length,x.rightIds.length),m=x.maxSidePartnersWithChildren==0?r.config.minPartnerSeparation/2:r.config.minPartnerSeparation/2+x.partnerChildrenSplitSeparation*x.maxSidePartnersWithChildren+x.partnerChildrenSplitSeparation/2}for(v=0;v<t.children.length;v++){var S,_=t.children[v],b=o[w][_.sl],C={xa:0,ya:0,xb:0,yb:0,xc:0,yc:0,xd:0,yd:0,x:0,y:0,rotate:0},N=(f=e.t(_.templateName,_.min,i)).link;if(_.isChildOfPartner)switch(d.orientation){case e.orientation.top:case e.orientation.top_left:var I=_.layout==1?void 0:b.minY-(b.minY-y.maxY)/2;C=e.ui._linkTopToBottom(_.parentPartner,_,f,g,I);break;case e.orientation.bottom:case e.orientation.bottom_left:I=_.layout==1?void 0:b.maxY-(b.maxY-y.minY)/2,C=e.ui._linkBottomToTop(_.parentPartner,_,f,g,I);break;case e.orientation.right:case e.orientation.right_top:I=_.layout==1?void 0:b.maxX-(b.maxX-y.minX)/2,C=e.ui._linkRightToLeft(_.parentPartner,_,f,g,I);break;case e.orientation.left:case e.orientation.left_top:I=_.layout==1?void 0:b.minX-(b.minX-y.maxX)/2,C=e.ui._linkLeftToRight(_.parentPartner,_,f,g,I)}else if(x&&x.ids.indexOf(_.id)!=-1)switch(d.orientation){case e.orientation.top:case e.orientation.top_left:C=e.ui._linkPpTop(x,t,_,b,y,f);break;case e.orientation.bottom:case e.orientation.bottom_left:C=e.ui._linkPpBottom(x,t,_,b,y,f);break;case e.orientation.right:case e.orientation.right_top:C=e.ui._linkPpRight(x,t,_,b,y,f);break;case e.orientation.left:case e.orientation.left_top:C=e.ui._linkPpLeft(x,t,_,b,y,f)}else{var E=_.isAssistant&&_.rightNeighbor&&_.rightNeighbor.isAssistant&&_.parent==_.rightNeighbor.parent,A=_.isAssistant&&_.leftNeighbor&&_.leftNeighbor.isAssistant&&_.parent==_.leftNeighbor.parent;if((E||_.layout>1)&&_.rightNeighbor&&_.rightNeighbor.isSplit)switch(d.orientation){case e.orientation.top:case e.orientation.top_left:case e.orientation.bottom:case e.orientation.bottom_left:C=e.ui._linkRightToLeft(_.rightNeighbor,_,f,g);break;case e.orientation.right:case e.orientation.right_top:case e.orientation.left:case e.orientation.left_top:C=e.ui._linkBottomToTop(_.rightNeighbor,_,f,g)}else if((A||_.layout>1)&&_.leftNeighbor&&_.leftNeighbor.isSplit)switch(d.orientation){case e.orientation.top:case e.orientation.top_left:case e.orientation.bottom:case e.orientation.bottom_left:C=e.ui._linkLeftToRight(_.leftNeighbor,_,f,g);break;case e.orientation.right:case e.orientation.right_top:case e.orientation.left:case e.orientation.left_top:C=e.ui._linkTopToBottom(_.leftNeighbor,_,f,g)}else switch(d.orientation){case e.orientation.top:case e.orientation.top_left:_.isPartner==1?C=e.ui._linkLeftToRight(t,_,f,m):_.isPartner==2?C=e.ui._linkRightToLeft(t,_,f,m):(I=_.layout==1?void 0:b.minY-(b.minY-y.maxY)/2,C=e.ui._linkTopToBottom(t,_,f,g,I));break;case e.orientation.bottom:case e.orientation.bottom_left:_.isPartner==1?C=e.ui._linkLeftToRight(t,_,f,m):_.isPartner==2?C=e.ui._linkRightToLeft(t,_,f,m):(I=_.layout==1?void 0:b.maxY-(b.maxY-y.minY)/2,C=e.ui._linkBottomToTop(t,_,f,g,I));break;case e.orientation.right:case e.orientation.right_top:_.isPartner==1?C=e.ui._linkTopToBottom(t,_,f,m):_.isPartner==2?C=e.ui._linkBottomToTop(t,_,f,m):(I=_.layout==1?void 0:b.maxX-(b.maxX-y.minX)/2,C=e.ui._linkRightToLeft(t,_,f,g,I));break;case e.orientation.left:case e.orientation.left_top:_.isPartner==1?C=e.ui._linkTopToBottom(t,_,f,m):_.isPartner==2?C=e.ui._linkBottomToTop(t,_,f,m):(I=_.layout==1?void 0:b.minX-(b.minX-y.maxX)/2,C=e.ui._linkLeftToRight(t,_,f,g,I))}}var T=e.ui._draggableLinkPath(r,t,_,C,g,d.orientation);if(T)S=T,N=N.replaceAll("{rounded}",T).replaceAll("{edge}",T).replaceAll("{curve}",S);else if(N.indexOf("{rounded}")!=-1)if(C.xa==C.xb&&C.xa==C.xc&&C.xa==C.xd||C.ya==C.yb&&C.ya==C.yc&&C.ya==C.yd)S="M"+C.xa+","+C.ya+" L"+C.xd+","+C.yd,N=N.replaceAll("{rounded}",S);else if(Math.abs(C.xa-C.xd)<=e.LINK_ROUNDED_CORNERS&&Math.abs(C.xa-C.xc)<=e.LINK_ROUNDED_CORNERS&&Math.abs(C.xa-C.xb)<=e.LINK_ROUNDED_CORNERS)S="M"+C.xa+","+C.ya+" L"+C.xa+","+C.yd,N=N.replaceAll("{rounded}",S);else if(Math.abs(C.ya-C.yd)<=e.LINK_ROUNDED_CORNERS&&Math.abs(C.ya-C.yc)<=e.LINK_ROUNDED_CORNERS&&Math.abs(C.ya-C.yb)<=e.LINK_ROUNDED_CORNERS)S="M"+C.xa+","+C.ya+" L"+C.xd+","+C.ya,N=N.replaceAll("{rounded}",S);else{var P=e.ui._roundedEdge(C.xa,C.ya,C.xb,C.yb,C.xc,C.yc),O=e.ui._roundedEdge(C.xb,C.yb,C.xc,C.yc,C.xd,C.yd);S="M"+P.x1+","+P.y1+" "+P.x2+","+P.y2+" Q"+P.qx1+","+P.qy1+" "+P.qx2+","+P.qy2+" L"+O.x2+","+O.y2+" Q"+O.qx1+","+O.qy1+" "+O.qx2+","+O.qy2+" L"+O.x3+","+O.y3,N=N.replaceAll("{rounded}",S)}else N.indexOf("{edge}")!=-1?(S="M"+C.xa+","+C.ya+" "+C.xb+","+C.yb+" "+C.xc+","+C.yc+" L"+C.xd+","+C.yd,N=N.replaceAll("{edge}",S)):N.indexOf("{curve}")!=-1?(S="M"+C.xa+","+C.ya+" C"+C.xb+","+C.yb+" "+C.xc+","+C.yc+" "+C.xd+","+C.yd,N=N.replaceAll("{curve}",S)):(S=N.replaceAll("{xa}",C.xa).replaceAll("{ya}",C.ya).replaceAll("{xb}",C.xb).replaceAll("{yb}",C.yb).replaceAll("{xc}",C.xc).replaceAll("{yc}",C.yc).replaceAll("{xd}",C.xd).replaceAll("{yd}",C.yd),N=S);u.push(e.linkOpenTag.replaceAll("{id}",t.id).replaceAll("{class}","link "+_.tags.join(" ")).replaceAll("{child-id}",_.id));var D={node:t,cnode:_,p:C,html:N,action:s};e.events.publish("render-link",[r,D]),u.push(D.html),l&&p.push({id:t.id,childId:_.id,html:D.html});var W="";for(var H in r.config.linkBinding){var M=r.config.linkBinding[H],L=r._get(_.id);if(L){var j=L[M];D.value=j,D.element=f[H],D.name=M,e.events.publish("label",[r,D])!==!1&&(e.isNEU(D.value)||e.isNEU(D.element)||(W+=D.element.replace("{val}",D.value)))}}if(W!=""){var F=C.x,q=C.y;_.movey!=null&&(q+=_.movey),W=e.linkFieldsOpenTag.replace("{x}",F).replace("{y}",q).replace("{rotate}",0)+W+e.grCloseTag,u.push(W)}u.push(e.grCloseTag)}return l?p:u.join("")},svg:function(t,r,i,o,a,s){return e.t(o.template,!1,s).svg.replace("{w}",t).replace("{h}",r).replace("{viewBox}",i).replace("{randId}",e.ui._defsIds[o.template]).replace("{mode}",o.mode).replace("{template}",o.template).replace("{content}",function(){return a})},menuButton:function(t){return t.menu==null?"":e.t(t.template,!1).menuButton.replaceAll("{p}",t.padding)},_roundedEdge:function(t,r,i,o,a,s){var l,c,d,f=e.LINK_ROUNDED_CORNERS,u=0;return t==i&&t==a||r==o&&r==s?(l=d=i,c=u=o):(t!=a&&i==a&&(l=d=i,c=o,r<s?u=o+f:r>s&&(u=o-f)),t<a&&i==a?i-=f:t>a&&i==a&&(i+=f),r!=s&&o==s&&(l=i,c=u=o,t<a?d=i+f:t>a&&(d=i-f)),r<s&&o==s?o-=f:r>s&&o==s&&(o+=f)),{x1:t,y1:r,x2:i,y2:o,x3:a,y3:s,qx1:l,qy1:c,qx2:d,qy2:u}},_linkTopToBottom:function(t,r,i,o,a){var s,l,c,d,f,u=0;return s=t.x+t.w/2+i.linkAdjuster.toX,l=t.y+t.h+i.linkAdjuster.toY,d=c=r.x+r.w/2+i.linkAdjuster.fromX,f=r.y+i.linkAdjuster.fromY,{xa:s,ya:l,xb:s,yb:u=t.rightNeighbor&&t.rightNeighbor.isAssistant&&r.templateName=="split"?t.rightNeighbor.y+t.rightNeighbor.h+o:t.templateName=="split"&&(r.isAssistant||r.layout>1)?f:r.templateName=="split"?l+o:a!=null?a:f-o,xc:c,yc:u,xd:d,yd:f,x:c,y:e.isNEU(r.parentPartner)?u+16:u,rotate:0}},_linkBottomToTop:function(t,r,i,o,a){var s,l,c,d,f,u=0;return s=t.x+t.w/2+i.linkAdjuster.toX,l=t.y+i.linkAdjuster.toY,d=c=r.x+r.w/2+i.linkAdjuster.fromX,f=r.y+r.h+i.linkAdjuster.fromY,{xa:s,ya:l,xb:s,yb:u=t.rightNeighbor&&t.rightNeighbor.isAssistant&&r.templateName=="split"?t.rightNeighbor.y-o:t.templateName=="split"&&(r.isAssistant||r.layout>1)?f:r.templateName=="split"?l-o:a!=null?a:f+o,xc:c,yc:u,xd:d,yd:f,x:c,y:u-14,rotate:0}},_linkRightToLeft:function(t,r,i,o,a){var s,l,c,d,f,u,p=0;return s=t.x+i.linkAdjuster.toX,l=t.y+t.h/2+i.linkAdjuster.toY,f=r.x+r.w+i.linkAdjuster.fromX,u=d=r.y+r.h/2+i.linkAdjuster.fromY,c=l,{xa:s,ya:l,xb:p=t.rightNeighbor&&t.rightNeighbor.isAssistant&&r.templateName=="split"?t.rightNeighbor.x-o:t.templateName=="split"&&(r.isAssistant||r.layout>1)?f:r.templateName=="split"?s-o:a!=null?a:f+o,yb:c,xc:p,yc:d,xd:f,yd:u,x:p-16,y:d,rotate:90}},_linkLeftToRight:function(t,r,i,o,a){var s,l,c,d,f,u,p=0;return s=t.x+t.w+i.linkAdjuster.toX,l=t.y+t.h/2+i.linkAdjuster.toY,f=r.x+i.linkAdjuster.fromX,u=d=r.y+r.h/2+i.linkAdjuster.fromY,c=l,{xa:s,ya:l,xb:p=t.rightNeighbor&&t.rightNeighbor.isAssistant&&r.templateName=="split"?t.rightNeighbor.x+t.rightNeighbor.w+o:t.templateName=="split"&&(r.isAssistant||r.layout>1)?f:r.templateName=="split"?s+o:a!=null?a:f-o,yb:c,xc:p,yc:d,xd:f,yd:u,x:p+14,y:d,rotate:270}},_linkPpTop:function(t,r,i,o,a,s){var l=t.ppnodes[i.id],c=l.y+l.h/2,d=o.minY-(o.minY-a.maxY)/2,f=(o.minY-a.maxY)/t.maxSidePartnersWithChildren/4,u=e.ui.__linkPpBottomTop(t,r,i,d,f,l),p=u.x;return d=u.mid,e.ui._linkTopToBottom({x:p,y:c,w:0,h:0},i,s,0,d)},_linkPpBottom:function(t,r,i,o,a,s){var l=t.ppnodes[i.id],c=l.y+l.h/2,d=o.maxY-(o.maxY-a.minY)/2,f=(o.maxY-a.minY)/t.maxSidePartnersWithChildren/4,u=e.ui.__linkPpBottomTop(t,r,i,d,f,l),p=u.x;return d=u.mid,e.ui._linkBottomToTop({x:p,y:c,w:0,h:0},i,s,0,d)},_linkPpLeft:function(t,r,i,o,a,s){var l=t.ppnodes[i.id],c=o.minX-(o.minX-a.maxX)/2,d=(o.minX-a.maxX)/t.maxSidePartnersWithChildren/4,f=l.x+l.w/2,u=e.ui.__linkPpLeftRight(t,r,i,c,d,l),p=u.y;return c=u.mid,e.ui._linkLeftToRight({x:f,y:p,w:0,h:0},i,s,0,c)},_linkPpRight:function(t,r,i,o,a,s){var l=t.ppnodes[i.id],c=o.maxX-(o.maxX-a.minX)/2,d=(o.maxX-a.minX)/t.maxSidePartnersWithChildren/4,f=l.x+l.w/2,u=e.ui.__linkPpLeftRight(t,r,i,c,d,l),p=u.y;return c=u.mid,e.ui._linkRightToLeft({x:f,y:p,w:0,h:0},i,s,0,c)},__linkPpBottomTop:function(t,r,i,o,a,s){var l=0;return s.isPartner==1?(l=s.x-r.partnerSeparation/2+t.indexes[i.id]*t.partnerChildrenSplitSeparation-(t.rightIds.length-1)*t.partnerChildrenSplitSeparation/2,t.lastLeft&&l<t.lastLeft.x+t.lastLeft.w/2?l<i.x+i.w/2?o-=(t.indexes[i.id]+1)*a:o-=(t.rightIds.length-t.indexes[i.id])*a:l<i.x+i.w/2?o+=(t.rightIds.length-t.indexes[i.id])*a:o+=(t.indexes[i.id]+1)*a):s.isPartner==2&&(l=s.x+s.w+r.partnerSeparation/2+t.indexes[i.id]*t.partnerChildrenSplitSeparation-(t.leftIds.length-1)*t.partnerChildrenSplitSeparation/2,t.firstRight&&l>t.firstRight.x+t.firstRight.w/2?l<i.x+i.w/2?o-=(t.indexes[i.id]+1)*a:o-=(t.leftIds.length-t.indexes[i.id])*a:l<i.x+i.w/2?o+=(t.leftIds.length-t.indexes[i.id])*a:o+=(t.indexes[i.id]+1)*a),{x:l,mid:o}},__linkPpLeftRight:function(t,r,i,o,a,s){var l=0;return s.isPartner==1?(l=s.y-r.partnerSeparation/2+t.indexes[i.id]*t.partnerChildrenSplitSeparation-(t.rightIds.length-1)*t.partnerChildrenSplitSeparation/2,t.lastLeft&&l<t.lastLeft.y+t.lastLeft.h/2?l<i.y+i.h/2?o-=(t.indexes[i.id]+1)*a:o-=(t.rightIds.length-t.indexes[i.id])*a:l<i.y+i.h/2?o+=(t.rightIds.length-t.indexes[i.id])*a:o+=(t.indexes[i.id]+1)*a):s.isPartner==2&&(l=s.y+s.h+r.partnerSeparation/2+t.indexes[i.id]*t.partnerChildrenSplitSeparation-(t.leftIds.length-1)*t.partnerChildrenSplitSeparation/2,t.firstRight&&l>t.firstRight.y+t.firstRight.h/2?l<i.y+i.h/2?o-=(t.indexes[i.id]+1)*a:o-=(t.leftIds.length-t.indexes[i.id])*a:l<i.y+i.h/2?o+=(t.leftIds.length-t.indexes[i.id])*a:o+=(t.indexes[i.id]+1)*a),{y:l,mid:o}},_draggableLinkPath:function(t,r,i,o,a,s){if(i.isPartner||i.isAssistant)return null;if(e._isMoved(i)&&!e._isMoved(r)){var l=[];switch(s){case e.orientation.top:case e.orientation.top_left:if(o.yb+a/2<o.yd)return null;d=o.xa<o.xd?i.x-a/2:i.x+i.w+a/2,f=i.y-a/2;break;case e.orientation.bottom:case e.orientation.bottom_left:if(o.yb-a/2>o.yd)return null;d=o.xa<o.xd?i.x-a/2:i.x+i.w+a/2,f=i.y+i.h+a/2;break;case e.orientation.right:case e.orientation.right_top:if(o.xb-a/2>o.xd)return null;f=o.ya<o.yd?i.y-a/2:i.y+i.h+a/2,d=i.x+i.w+a/2;break;case e.orientation.left:case e.orientation.left_top:if(o.xb+a/2<o.xd)return null;f=o.ya<o.yd?i.y-a/2:i.y+i.h+a/2,d=i.x-a/2}switch(s){case e.orientation.top:case e.orientation.top_left:case e.orientation.bottom:case e.orientation.bottom_left:l.push(["M",o.xa,o.ya]),l.push(["L",o.xb,o.yb]),l.push(["L",d,o.yb]),l.push(["L",d,f]),l.push(["L",o.xd,f]),l.push(["L",o.xd,o.yd]);break;case e.orientation.right:case e.orientation.right_top:case e.orientation.left:case e.orientation.left_top:(l=[]).push(["M",o.xa,o.ya]),l.push(["L",o.xb,o.yb]),l.push(["L",o.xb,f]),l.push(["L",d,f]),l.push(["L",d,o.yd]),l.push(["L",o.xd,o.yd])}return e.roundPathCorners(l,e.LINK_ROUNDED_CORNERS,!1)}if(!e._isMoved(i)&&e._isMoved(r)){var c=!1;switch(l=[],s){case e.orientation.top:case e.orientation.top_left:if(o.ya+a/2>o.yb)c=!0,d=o.xa<o.xd?r.x+r.w+a/2:r.x-a/2,f=r.y+r.h+a;else{if(o.yb+a/2<o.yd)return null;d=o.xa<o.xd?i.x-a/2:i.x+i.w+a/2,f=i.y-a/2}break;case e.orientation.bottom:case e.orientation.bottom_left:if(o.ya-a/2<o.yb)c=!0,d=o.xa<o.xd?r.x+r.w+a/2:r.x-a/2,f=r.y-a;else{if(o.yb-a/2>o.yd)return null;d=o.xa<o.xd?i.x-a/2:i.x+i.w+a/2,f=i.y+i.h+a/2}break;case e.orientation.right:case e.orientation.right_top:if(o.xa-a/2<o.xb)c=!0,f=o.ya<o.yd?r.y+r.h+a/2:r.y-a/2,d=r.x-a;else{if(o.xb-a/2>o.xd)return null;f=o.ya<o.yd?i.y-a/2:i.y+i.h+a/2,d=i.x+i.w+a/2}break;case e.orientation.left:case e.orientation.left_top:if(o.xa+a/2>o.xb)c=!0,f=o.ya<o.yd?r.y+r.h+a/2:r.y-a/2,d=r.x+r.w+a;else{if(o.xb+a/2<o.xd)return null;f=o.ya<o.yd?i.y-a/2:i.y+i.h+a/2,d=i.x-a/2}}if(c)switch(s){case e.orientation.top:case e.orientation.top_left:case e.orientation.bottom:case e.orientation.bottom_left:l.push(["M",o.xa,o.ya]),l.push(["L",o.xa,f]),l.push(["L",d,f]),l.push(["L",d,o.yc]),l.push(["L",o.xc,o.yc]),l.push(["L",o.xd,o.yd]);break;case e.orientation.right:case e.orientation.right_top:case e.orientation.left:case e.orientation.left_top:l.push(["M",o.xa,o.ya]),l.push(["L",d,o.ya]),l.push(["L",d,f]),l.push(["L",o.xc,f]),l.push(["L",o.xc,o.yc]),l.push(["L",o.xd,o.yd])}else switch(s){case e.orientation.top:case e.orientation.top_left:case e.orientation.bottom:case e.orientation.bottom_left:l.push(["M",o.xa,o.ya]),l.push(["L",o.xb,o.yb]),l.push(["L",d,o.yb]),l.push(["L",d,f]),l.push(["L",o.xd,f]),l.push(["L",o.xd,o.yd]);break;case e.orientation.right:case e.orientation.right_top:case e.orientation.left:case e.orientation.left_top:l.push(["M",o.xa,o.ya]),l.push(["L",o.xb,o.yb]),l.push(["L",o.xb,f]),l.push(["L",d,f]),l.push(["L",d,o.yd]),l.push(["L",o.xd,o.yd])}return e.roundPathCorners(l,e.LINK_ROUNDED_CORNERS,!1)}if(e._isMoved(i)&&e._isMoved(r)){switch(l=[],s){case e.orientation.top:case e.orientation.top_left:if(o.ya+a>o.yd){var d=o.xa<o.xd?r.x+r.w+a/2:r.x-a/2,f=r.y+r.h+a,u=i.y-a;l.push(["M",o.xa,o.ya]),l.push(["L",o.xa,f]),l.push(["L",d,f]),l.push(["L",d,u]),l.push(["L",o.xc,u]),l.push(["L",o.xd,o.yd])}else l.push(["M",o.xa,o.ya]),l.push(["L",o.xa,r.y+r.h+a]),l.push(["L",o.xc,r.y+r.h+a]),l.push(["L",o.xd,o.yd]);break;case e.orientation.bottom:case e.orientation.bottom_left:o.ya-a<o.yd?(d=o.xa<o.xd?r.x+r.w+a/2:r.x-a/2,f=r.y-a,u=i.y+i.h+a,l.push(["M",o.xa,o.ya]),l.push(["L",o.xa,f]),l.push(["L",d,f]),l.push(["L",d,u]),l.push(["L",o.xc,u]),l.push(["L",o.xd,o.yd])):(l.push(["M",o.xa,o.ya]),l.push(["L",o.xa,r.y-a]),l.push(["L",o.xc,r.y-a]),l.push(["L",o.xd,o.yd]));break;case e.orientation.right:case e.orientation.right_top:if(o.xa-a<o.xd){f=o.ya<o.yd?r.y+r.h+a/2:r.y-a/2,d=r.x-a;var p=i.x+i.w+a;l.push(["M",o.xa,o.ya]),l.push(["L",d,o.ya]),l.push(["L",d,f]),l.push(["L",p,f]),l.push(["L",p,o.yc]),l.push(["L",o.xd,o.yd])}else l.push(["M",o.xa,o.ya]),l.push(["L",r.x-a,o.ya]),l.push(["L",r.x-a,o.yc]),l.push(["L",o.xd,o.yd]);break;case e.orientation.left:case e.orientation.left_top:o.xa+a>o.xd?(f=o.ya<o.yd?r.y+r.h+a/2:r.y-a/2,d=r.x+r.w+a,p=i.x-a,l.push(["M",o.xa,o.ya]),l.push(["L",d,o.ya]),l.push(["L",d,f]),l.push(["L",p,f]),l.push(["L",p,o.yc]),l.push(["L",o.xd,o.yd])):(l.push(["M",o.xa,o.ya]),l.push(["L",r.x+r.w+a,o.ya]),l.push(["L",r.x+r.w+a,o.yc]),l.push(["L",o.xd,o.yd]))}return e.roundPathCorners(l,e.LINK_ROUNDED_CORNERS,!1)}return null}},e.ui._base_nodeBtns=e.ui.nodeBtns,e.ui.nodeBtns=function(t,r,i,o,a){var s="";return a._tree_menu_temp?!r.isSplit&&i!==e.action.exporting&&o.nodeTreeMenuCloseButton&&a._tree_menu_temp.id==r.id&&(s+=o.nodeTreeMenuCloseButton):(s=e.ui._base_nodeBtns(t,r,i,o,a),t.nodeTreeMenu!=null&&!r.isSplit&&i!==e.action.exporting&&o.nodeTreeMenuButton&&(s+=o.nodeTreeMenuButton.replace("{id}",r.id))),s},e.ui._base_expandCollapseBtn=e.ui.expandCollapseBtn,e.ui.expandCollapseBtn=function(t,r,i,o,a){return t._tree_menu_temp?"":e.ui._base_expandCollapseBtn(t,r,i,o,a)},e.xScrollUI=function(t,r,i,o,a){this.element=t,this.requestParams=i,this.config=r,this.onSetViewBoxCallback=o,this.onDrawCallback=a,this.position=0,this.bar=null,this._event_id=e._guid()},e.xScrollUI.prototype.addListener=function(t){var r=this;if((this.config.mouseScrool==e.action.xScroll||this.config.mouseScrool==e.action.scroll)&&this.bar){var i=navigator.userAgent.indexOf("Mac OS")!==-1,o=e._getScrollSensitivity();(function(a,s,l){var c=!1;function d(){c=!0;var u=(r.position-r.bar.scrollLeft)/l;if(u>0)u++;else{if(u==0)return void(c=!1);u--}Math.ceil(r.bar.scrollLeft)==Math.ceil(r.position)?c=!1:(r.bar.scrollLeft+=u,f(d))}a.addEventListener("wheel",function(u){if(!u.ctrlKey){var p=0;if(r.config.mouseScrool==e.action.xScroll)(p=u.deltaX||u.wheelDeltaX)||(p=u.deltaY||u.wheelDeltaY);else if(r.config.mouseScrool==e.action.scroll&&!(p=i||!u.shiftKey?u.deltaX||u.wheelDeltaX:u.deltaY||u.wheelDeltaY))return;p=-p,p=Math.max(-1,Math.min(1,p)),r.position+=-p*s;var g=parseFloat(r.innerBar.clientWidth)-parseFloat(r.bar.clientWidth);r.position<0&&(r.position=0),r.position>g&&(r.position=g),c||d()}},{passive:!0});var f=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(u){setTimeout(u,20)}})(t,o.speed,o.smooth)}},e.xScrollUI.prototype.create=function(t){if(this.config.showXScroll===e.scroll.visible||this.config.mouseScrool===e.action.scroll||this.config.mouseScrool===e.action.xScroll){var r=this;this.bar&&this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.bar=document.createElement("div"),this.innerBar=document.createElement("div"),this.requestParams(),this.innerBar.innerHTML="&nbsp",Object.assign(this.bar.style,{position:"absolute",left:0,bottom:0,width:t+"px","overflow-x":"scroll",height:"20px"}),this.element.appendChild(this.bar),this.bar.appendChild(this.innerBar),this.bar.addEventListener("scroll",function(){if(this.ignore)this.ignore=!1;else{var i=r.requestParams(),o=(parseFloat(r.innerBar.clientWidth)-parseFloat(r.bar.clientWidth))/100,a=this.scrollLeft/o,s=(i.boundary.right-i.boundary.left)/100;i.viewBox[0]=a*s+i.boundary.left,r.onSetViewBoxCallback(i.viewBox),clearTimeout(this._timeout),this._timeout=setTimeout(function(){r.onDrawCallback()},500)}})}},e.xScrollUI.prototype.setPosition=function(){if(this.bar){var t=this.requestParams(),r=(Math.abs(t.boundary.maxX-t.boundary.minX)+2*this.config.padding)*t.scale;switch(this.config.orientation){case e.orientation.right:case e.orientation.right_top:r=Math.abs(t.boundary.minX*t.scale)}this.innerBar.style.width=r+"px";var i=(t.boundary.right-t.boundary.left)/100,o=(t.viewBox[0]-t.boundary.left)/i;o<0?o=0:o>100&&(o=100);var a=(parseFloat(this.innerBar.clientWidth)-parseFloat(this.bar.clientWidth))/100,s=o*a;this.bar.ignore=!0,this.bar.scrollLeft=s,this.position=this.bar.scrollLeft,this.bar.style.visibility=a<=0?"hidden":"",this.config.showXScroll!==e.scroll.visible&&(this.bar.style.visibility="hidden"),e.events.publish("change",[this,{isScrollBarVisible:this.bar.style.visibility!="hidden"}])}},e.xScrollUI.prototype.on=function(t,r){return e.events.on(t,r,this._event_id),this},e.yScrollUI=function(t,r,i,o,a){this.element=t,this.requestParams=i,this.config=r,this.onSetViewBoxCallback=o,this.onDrawCallback=a,this.position=0,this.bar=null,this._event_id=e._guid()},e.yScrollUI.prototype.addListener=function(t){var r=this;if((this.config.mouseScrool==e.action.yScroll||this.config.mouseScrool==e.action.scroll)&&this.bar){var i=navigator.userAgent.indexOf("Mac OS")!==-1,o=e._getScrollSensitivity();(function(a,s,l){var c=!1;function d(){c=!0;var u=(r.position-r.bar.scrollTop)/l;if(u>0)u++;else{if(u==0)return void(c=!1);u--}Math.ceil(r.bar.scrollTop)==Math.ceil(r.position)?c=!1:(r.bar.scrollTop+=u,f(d))}a.addEventListener("wheel",function(u){if(!u.ctrlKey){var p=0;if(r.config.mouseScrool==e.action.yScroll)(p=u.deltaY||u.wheelDeltaY)||(p=u.deltaX||u.wheelDeltaX);else if(r.config.mouseScrool==e.action.scroll&&!(p=i||!u.shiftKey?u.deltaY||u.wheelDeltaY:u.deltaX||u.wheelDeltaX))return;p=-p,p=Math.max(-1,Math.min(1,p)),r.position+=-p*s;var g=parseFloat(r.innerBar.clientHeight)-parseFloat(r.bar.clientHeight);r.position<0&&(r.position=0),r.position>g&&(r.position=g),c||d()}},{passive:!0});var f=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(u){setTimeout(u,20)}})(t,o.speed,o.smooth)}},e.yScrollUI.prototype.create=function(t){if(this.config.showYScroll===e.scroll.visible||this.config.mouseScrool===e.action.scroll||this.config.mouseScrool===e.action.yScroll){var r=this;this.bar&&this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.bar=document.createElement("div"),this.innerBar=document.createElement("div"),this.innerBar.innerHTML="&nbsp",Object.assign(this.bar.style,{position:"absolute",right:0,bottom:0,height:t+"px","overflow-y":"scroll",width:"20px"}),this.element.appendChild(this.bar),this.bar.appendChild(this.innerBar),this.bar.addEventListener("scroll",function(){if(this.ignore)this.ignore=!1;else{var i=r.requestParams(),o=(parseFloat(r.innerBar.clientHeight)-parseFloat(r.bar.clientHeight))/100,a=this.scrollTop/o,s=(i.boundary.bottom-i.boundary.top)/100;i.viewBox[1]=a*s+i.boundary.top,r.onSetViewBoxCallback(i.viewBox),clearTimeout(this._timeout),this._timeout=setTimeout(function(){r.onDrawCallback()},500)}})}},e.yScrollUI.prototype.setPosition=function(){if(this.bar){var t=this.requestParams(),r=(Math.abs(t.boundary.maxY-t.boundary.minY)+2*this.config.padding)*t.scale;switch(this.config.orientation){case e.orientation.bottom:case e.orientation.bottom_left:r=Math.abs(t.boundary.minY*t.scale)}this.innerBar.style.height=r+"px";var i=(t.boundary.bottom-t.boundary.top)/100,o=(t.viewBox[1]-t.boundary.top)/Math.abs(i);o<0?o=0:o>100&&(o=100);var a=(parseFloat(this.innerBar.clientHeight)-parseFloat(this.bar.clientHeight))/100,s=o*a;this.bar.ignore=!0,this.bar.scrollTop=s,this.position=this.bar.scrollTop,this.bar.style.visibility=a<=0?"hidden":"",this.config.showYScroll!==e.scroll.visible&&(this.bar.style.visibility="hidden"),e.events.publish("change",[this,{isScrollBarVisible:this.bar.style.visibility!="hidden"}])}},e.yScrollUI.prototype.on=function(t,r){return e.events.on(t,r,this._event_id),this},e.prototype.zoom=function(t,r,i,o){var a=this.getViewBox().slice(0),s=a,l=a[2],c=a[3];t===!0?(a[2]=a[2]/e.SCALE_FACTOR,a[3]=a[3]/e.SCALE_FACTOR):t===!1?(a[2]=a[2]*e.SCALE_FACTOR,a[3]=a[3]*e.SCALE_FACTOR):(a[2]=a[2]/t,a[3]=a[3]/t),r||(r=[50,50]),a[0]=s[0]-(a[2]-l)/(100/r[0]),a[1]=s[1]-(a[3]-c)/(100/r[1]);var d=this.getScale(a);if(a[2]=this.width()/d,a[3]=this.height()/d,t===!0&&d<this.config.scaleMax||t===!1&&d>this.config.scaleMin||t!=0&&t!=1&&d<this.config.scaleMax&&d>this.config.scaleMin){this._hideBeforeAnimation();var f=this;i?(clearTimeout(f._timeout),e.animate(this.getSvg(),{viewbox:this.getViewBox()},{viewbox:a},this.config.anim.duration,this.config.anim.func,function(){clearTimeout(f._timeout),f._timeout=setTimeout(function(){f._draw(!0,e.action.zoom,null,o)},500)})):(this.setViewBox(a),clearTimeout(f._timeout),f._timeout=setTimeout(function(){f._draw(!0,e.action.zoom,null,o)},500))}},e.loading={},e.loading.show=function(t){var r=document.createElement("div");r.id="bft-loading",r.innerHTML='<style>@-webkit-keyframes dot-keyframes {0% { opacity: .4; -webkit-transform: scale(1, 1);transform: scale(1, 1);}50% {opacity: 1;-webkit-transform: scale(1.2, 1.2);transform: scale(1.2, 1.2);}100% {opacity: .4;-webkit-transform: scale(1, 1);transform: scale(1, 1);}}@keyframes dot-keyframes {0% {opacity: .4;-webkit-transform: scale(1, 1);transform: scale(1, 1);}50% {opacity: 1;-webkit-transform: scale(1.2, 1.2);transform: scale(1.2, 1.2);}100% {opacity: .4;-webkit-transform: scale(1, 1);transform: scale(1, 1);}}.bft-loading-dots div {margin: 10px;}      .bft-dot-1 {background-color: #039BE5;}.bft-dot-2 {background-color: #F57C00;}.bft-dot-3 {background-color: #FFCA28;}      .bft-loading-dots {text-align: center;width: 100%; position: absolute; top: 0;}.bft-loading-dots--dot {-webkit-animation: dot-keyframes 1.5s infinite ease-in-out;animation: dot-keyframes 1.5s infinite ease-in-out;        border-radius: 10px;display: inline-block;height: 10px;width: 10px;}.bft-loading-dots--dot:nth-child(2) {-webkit-animation-delay: .5s;animation-delay: .5s;}.bft-loading-dots--dot:nth-child(3) {-webkit-animation-delay: 1s;animation-delay: 1s;}</style><div class="bft-loading-dots"><div class="bft-loading-dots--dot bft-dot-1"></div><div class="bft-loading-dots--dot bft-dot-2"></div><div class="bft-loading-dots--dot bft-dot-3"></div></div>',t.element.appendChild(r)},e.loading.hide=function(t){var r=t.element.querySelector("#bft-loading");r&&r.parentNode.removeChild(r)},e.pdfPrevUI={},e.loc||(e.loc={}),e.loc.ppdfCmdTitle="PDF Preview",e.loc.ppdfSave="Save",e.loc.ppdfCancel="Cancel",e.loc.ppdfFormat="Format",e.loc.ppdfFitToDrwaing="Fit",e.loc.ppdfA4="A4",e.loc.ppdfA3="A3",e.loc.ppdfA2="A2",e.loc.ppdfA1="A1",e.loc.ppdfLetter="Letter",e.loc.ppdfLegal="Legal",e.loc.ppdfLayout="Layout",e.loc.ppdfPortrait="Portrait",e.loc.ppdfLandscape="Landscape",e.loc.ppdfFittopagewidth="Fit to page width",e.loc.ppdfMargin="Margin",e.loc.ppdfHeader="Header",e.loc.ppdfFooter="Footer",e.loc.ppdfScale="Scale",e.pdfPrevUI.show=function(t,r){e.pdfPrevUI.hide(t),r=t._defaultExportOptions(r,"pdf");var i=document.createElement("div");i.classList.add(t.config.mode),i.id="bft-ppdf-btns",Object.assign(i.style,{position:"absolute",top:0,left:0,"background-color":"#fff","z-index":5,margin:"0 0 0 -265px","box-shadow":"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",width:"265px",height:"100%","font-family":"Roboto,Helvetica",color:"#757575","text-align":"right",padding:"10px"}),t.element.appendChild(i),i.innerHTML="<h1>"+e.loc.ppdfCmdTitle+'</h1><div><button type="button" id="bft-prev-save" style="font-size: 14px; width: 90px;">'+e.loc.ppdfSave+'</button>&nbsp;<button type="button" id="bft-prev-cancel" style="width: 90px;font-size: 14px;">'+e.loc.ppdfCancel+'</button></div><div style="margin-top:30px; height:10px;border-bottom:1px solid #eeeeee;"></div><div style="padding-top:30px;"><label for="bft-size">'+e.loc.ppdfFormat+': </label><select id="bft-ppdf-size" style="color: #757575; width: 150px; font-size: 14px;" id="bft-size"><option value="fit">'+e.loc.ppdfFitToDrwaing+'</option><option value="A4">'+e.loc.ppdfA4+'</option><option value="A3">'+e.loc.ppdfA3+'</option><option value="A2">'+e.loc.ppdfA2+'</option><option value="A1">'+e.loc.ppdfA1+'</option><option value="Letter">'+e.loc.ppdfLetter+'</option><option value="Legal">'+e.loc.ppdfLegal+'</option></select></div><div style="padding-top:10px;"><label for="bft-ppdf-layout">'+e.loc.ppdfLayout+': </label><select id="bft-ppdf-layout" style="color: #757575; width: 150px;font-size: 14px;" ><option value="false">'+e.loc.ppdfPortrait+'</option><option value="true">'+e.loc.ppdfLandscape+'</option></select></div><div style="padding-top:10px;"><label for="bft-scale">'+e.loc.ppdfScale+': </label><select id="bft-ppdf-scale" style="color: #757575; width: 150px;font-size: 14px;" id="bft-scale"><option value="fit">'+e.loc.ppdfFittopagewidth+'</option><option value="10">10%</option><option value="20">20%</option><option value="30">30%</option><option value="40">40%</option><option value="50">50%</option><option value="60">60%</option><option value="70">70%</option><option value="80">80%</option><option value="90">90%</option><option value="100">100%</option><option value="110">110%</option><option value="120">120%</option><option value="130">130%</option><option value="140">140%</option><option value="150">150%</option><option value="160">160%</option><option value="170">170%</option><option value="180">180%</option><option value="190">190%</option><option value="200">200%</option></select></div><div style="margin-top:10px;margin-bottom:10px; height:10px;border-bottom:1px solid #eeeeee;"></div><div style="padding-top:10px;"><label for="bft-ppdf-header">'+e.loc.ppdfHeader+': </label><input id="bft-ppdf-header" type="text" style="color: #757575; width: 100px;font-size: 14px;" ></div><div style="padding-top:10px;"><label for="bft-ppdf-footer">'+e.loc.ppdfFooter+': </label><input id="bft-ppdf-footer" type="text" style="color: #757575; width: 100px;font-size: 14px;" ></div><div style="padding-top:10px;"><label for="bft-ppdf-margin">'+e.loc.ppdfMargin+': </label><input id="bft-ppdf-margin" type="text" style="color: #757575; width: 100px;font-size: 14px;" ></div>';var o=document.createElement("div");o.id="bft-ppdf-wrapper",Object.assign(o.style,{"overflow-y":"scroll","z-index":11,position:"absolute",top:0,left:"285px","background-color":"#eee",width:t.width()-270+"px",height:"100%"}),t.element.appendChild(o),o.innerHTML='<div id="bft-ppdf-content" style="width: 100%;margin-top:10px;margin-bottom:10px;opacity:0;"></div>';var a,s,l,c=t.element.querySelector("#bft-ppdf-size"),d=t.element.querySelector("#bft-ppdf-layout"),f=t.element.querySelector("#bft-ppdf-scale"),u=t.element.querySelector("#bft-ppdf-margin"),p=t.element.querySelector("#bft-ppdf-header"),g=t.element.querySelector("#bft-ppdf-footer");c.value=r.format,d.value=r.landscape,f.value=r.scale,u.value=r.margin,p.value=r.header,g.value=r.footer,e.animate(t.element.querySelector("#bft-ppdf-btns"),{margin:[0,0,0,-250]},{margin:[0,0,0,0]},300,e.anim.outSin,function(){t.exportPDF(r,e.pdfPrevUI._handler)}),t.element.querySelector("#bft-prev-cancel").addEventListener("click",function(){e.pdfPrevUI.hide(t)}),t.element.querySelector("#bft-prev-save").addEventListener("click",function(){t.exportPDF(r),e.pdfPrevUI.hide(t)}),e.pdfPrevUI._showHide(c,d,f),c.addEventListener("change",function(){e.animate(t.element.querySelector("#bft-ppdf-content"),{opacity:1},{opacity:0},300,e.anim.inSin,function(){t.element.querySelector("#bft-ppdf-content").innerHTML="",r.format=c.value,t.exportPDF(r,e.pdfPrevUI._handler),e.pdfPrevUI._showHide(c,d,f)})}),d.addEventListener("change",function(){e.animate(t.element.querySelector("#bft-ppdf-content"),{opacity:1},{opacity:0},300,e.anim.inSin,function(){t.element.querySelector("#bft-ppdf-content").innerHTML="",r.landscape=d.value=="true",t.exportPDF(r,e.pdfPrevUI._handler),e.pdfPrevUI._showHide(c,d,f)})}),f.addEventListener("change",function(){e.animate(t.element.querySelector("#bft-ppdf-content"),{opacity:1},{opacity:0},300,e.anim.inSin,function(){t.element.querySelector("#bft-ppdf-content").innerHTML="",r.scale=f.value,t.exportPDF(r,e.pdfPrevUI._handler),e.pdfPrevUI._showHide(c,d,f)})}),u.addEventListener("keyup",function(){clearTimeout(a),a=setTimeout(function(){e.animate(t.element.querySelector("#bft-ppdf-content"),{opacity:1},{opacity:0},300,e.anim.inSin,function(){t.element.querySelector("#bft-ppdf-content").innerHTML="";var m=u.value.split(",");if(m.length==4){for(var w=0;w<m.length;w++)m[w]=parseInt(m[w]);r.margin=m,t.exportPDF(r,e.pdfPrevUI._handler)}})},1e3)}),p.addEventListener("keyup",function(){clearTimeout(s),s=setTimeout(function(){e.animate(t.element.querySelector("#bft-ppdf-content"),{opacity:1},{opacity:0},300,e.anim.inSin,function(){t.element.querySelector("#bft-ppdf-content").innerHTML="",r.header=p.value,t.exportPDF(r,e.pdfPrevUI._handler)})},1e3)}),g.addEventListener("keyup",function(){clearTimeout(l),l=setTimeout(function(){e.animate(t.element.querySelector("#bft-ppdf-content"),{opacity:1},{opacity:0},300,e.anim.inSin,function(){t.element.querySelector("#bft-ppdf-content").innerHTML="",r.footer=g.value,t.exportPDF(r,e.pdfPrevUI._handler)})},1e3)})},e.pdfPrevUI._showHide=function(t,r,i){t.value=="A4"||t.value=="A3"||t.value=="A2"||t.value=="A1"||t.value=="Letter"||t.value=="Legal"?(r.parentNode.style.display="block",i.parentNode.style.display="block"):(r.parentNode.style.display="none",i.parentNode.style.display="none")},e.pdfPrevUI._handler=function(t,r,i){var o=r.options,a=r.pages,s=o.margin[0],l=o.margin[2],c=document.createElement("div");c.classList.add(t.config.mode),c.innerHTML=i.outerHTML,e._browser().msie&&(c.innerHTML=new XMLSerializer().serializeToString(i));for(var d=c.querySelector("svg"),f=t.element.querySelector("#bft-ppdf-content"),u=0;u<a.length;u++){var p=document.createElement("iframe");Object.assign(p.style,{display:"block",margin:"10px auto",border:"1px solid #eeeeee","box-shadow":"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"}),f.appendChild(p),d&&d.style.backgroundColor?p.style.backgroundColor=d.style.backgroundColor:p.style.backgroundColor="#fff";var g=p.contentWindow.document;g.open(),p.style.width=a[u].size.w+"px",p.style.height=a[u].size.h+"px",p.style.margin="10 auto",a[u].backgroundColor&&(p.style.backgroundColor=a[u].backgroundColor);var m=o.header;a[u].header&&(m=a[u].header),m&&(m=m.replace("{current-page}",u+1).replace("{total-pages}",a.length));var w=o.footer;a[u].footer&&(w=a[u].footer),w&&(w=w.replace("{current-page}",u+1).replace("{total-pages}",a.length)),a[u].html?g.write(e._exportHtml(a[u].html,r.styles,o,a[u].innerSize.w,a[u].innerSize.h,m,w,t.config.mode)):(d.setAttribute("viewBox",a[u].vb),g.write(e._exportHtml(c.innerHTML,r.styles,o,a[u].innerSize.w,a[u].innerSize.h,m,w,t.config.mode)));var y=g.getElementById("bft-header"),x=g.getElementById("bft-footer");if(y){var v=s-y.offsetHeight-7;y.style.top=v+"px"}if(x){var S=l-x.offsetHeight-7;x.style.bottom=S+"px"}g.close()}var _=t.element.querySelector("#bft-ppdf-content");e.animate(_,{opacity:0},{opacity:1},300,e.anim.outSin)},e.pdfPrevUI._getViewBox=function(t){var r=null;return t?(r=(r="["+(r=t.getAttribute("viewBox"))+"]").replace(/\ /g,","),r=JSON.parse(r)):null},e._exportHtml=function(t,r,i,o,a,s,l,c){for(var d="",f=0;f<i.margin.length;f++)d+=i.margin[f]+"px ";var u='<!DOCTYPE html><html style="margin:0;padding:0;"><head></head>'+r+'<body class="bft-'+c+'" style="margin:0; padding:0;"><div style="margin: '+d+";overflow:hidden;width:"+o+"px;height:"+a+'px">';return s&&(u+='<div id="bft-header" style="width:'+o+"px;color:#757575;position:absolute;left:"+i.margin[3]+'px;top:0;">'+s+"</div>"),u+=t,l&&(u+='<div id="bft-footer" style="width:'+o+"px;color:#757575;position:absolute;left:"+i.margin[3]+'px;bottom:0;">'+l+"</div>"),u+="</div>",u+="</body></html>"},e.pdfPrevUI.hide=function(t){var r=t.element.querySelector("#bft-ppdf-wrapper");if(r){r.parentNode.removeChild(r),r.style.opacity=0;var i=t.element.querySelector("#bft-ppdf-btns");i.parentNode.removeChild(i)}},e===void 0&&(e={}),e.events.on("renderdefs",function(t,r){for(var i=0;i<t.config.clinks.length;i++){var o=t.config.clinks[i].template;o||(o="orange");var a=e.clinkTemplates[o];r.defs+=a.defs}}),e.events.on("prerender",function(t,r){e.RENDER_CLINKS_BEFORE_NODES&&t._clink(t,r)}),e.events.on("render",function(t,r){e.RENDER_CLINKS_BEFORE_NODES||t._clink(t,r)}),e.events.on("drag",function(t,r,i,o){if(t instanceof e&&t.config.movable&&o)for(var a=0;a<o.length;a++){for(var s=o[a],l=t.element.querySelectorAll('[data-c-l-from="'.concat(s,'"]')),c=t.element.querySelectorAll('[data-c-l-to="'.concat(s,'"]')),d=0;d<l.length;d++)l[d].parentNode.removeChild(l[d]);for(d=0;d<c.length;d++)c[d].parentNode.removeChild(c[d])}}),e.prototype._clink=function(t,r){for(var i="",o=0;o<this.config.clinks.length;o++){let I=function(E,A,T){T==null&&(T=1);var P=A.x-E.x,O=A.y-E.y,D=Math.sqrt(Math.pow(A.x-E.x,2)+Math.pow(A.y-E.y,2))/3;return D=D/(Math.sqrt(P*P+O*O)*T)*e.clinkCurve(a),{x:E.x+P/2-O*D,y:E.y+O/2+P*D}};var a=this.config.clinks[o],s=t.getNode(a.from),l=t.getNode(a.to);if(s&&r.res.visibleNodeIds.indexOf(s.id)!=-1&&l&&r.res.visibleNodeIds.indexOf(l.id)!=-1){var c=s.x,d=s.y,f=l.x,u=l.y,p={},g={},m=c+s.w/2,w=f+l.w/2,y=d+s.h/2,x=u+l.h/2,v=1;switch(this.config.orientation){case e.orientation.top:case e.orientation.top_left:m<=w?(v=1,p.x=m+s.w/10,g.x=w-l.w/10):(v=-1,p.x=m-s.w/10,g.x=w+l.w/10),d==u?(v=1,p.y=d,g.y=u):d>u?(p.y=d,g.y=u+l.h):(p.y=d+s.h,g.y=u);break;case e.orientation.bottom:case e.orientation.bottom_left:m<=w?(v=-1,p.x=m+s.w/10,g.x=w+l.w/10):(v=1,p.x=m-s.w/10,g.x=w+l.w/10),d==u?(v=-1,p.y=d+s.h,g.y=u+l.h):d>u?(p.y=d,g.y=u+l.h):(p.y=d+s.h,g.y=u);break;case e.orientation.left:case e.orientation.left_top:y<=x?(v=-1,p.y=y+s.h/5,g.y=x+l.h/5):(v=1,p.y=y-s.h/5,g.y=x+l.h/5),c==f?(v=-1,p.x=c,g.x=f):c>f?(p.x=c,g.x=f+l.w):(p.x=c+s.w,g.x=f);break;case e.orientation.right:case e.orientation.right_top:y<=x?(v=1,p.y=y+s.h/5,g.y=x+l.h/5):(v=-1,p.y=y-s.h/5,g.y=x+l.h/5),c==f?(v=1,p.x=c+s.w,g.x=f+l.w):c>f?(p.x=c,g.x=f+l.w):(p.x=c+s.w,g.x=f)}var S=I(p,g,v),_=a.template;_||(_="orange");var b=e.clinkTemplates[_];if(a.label){var C=e.clinkLabelPosition(a,p,g,S);i+=b.label.replace("{x}",C.x).replace("{y}",C.y).replace("{val}",a.label)}var N="M"+p.x+","+p.y+"C"+p.x+","+p.y+" "+S.x+","+S.y+" "+g.x+","+g.y;i+=("<g "+e.attr.c_link_from+'="{from}" '+e.attr.c_link_to+'="{to}">').replace("{from}",s.id).replace("{to}",l.id)+b.link.replaceAll("{d}",N)+'<path stroke="transparent" stroke-width="15" fill="none" d="'+N+'" />',i+=e.grCloseTag}}r.content+=i},e.clinkLabelPosition=function(t,r,i,o){var a=(i.x-r.x)/2+r.x,s=(i.y-r.y)/2+r.y;return{x:(a-o.x)/2+o.x,y:(s-o.y)/2+o.y}},e.clinkCurve=function(t){return e.CLINK_CURVE},e.prototype.addClink=function(t,r,i,o){this._putInUndoStack(),this.clearRedo();for(var a=this.config.clinks.length-1;a>=0;a--){var s=this.config.clinks[a];s.from==t&&s.to==r&&this.config.clinks.splice(a,1)}return this.config.clinks.push({from:t,to:r,label:i,template:o}),e.events.publish("updated",[this]),this},e.prototype.removeClink=function(t,r){this._putInUndoStack(),this.clearRedo();for(var i=this.config.clinks.length-1;i>=0;i--){var o=this.config.clinks[i];o.from==t&&o.to==r&&this.config.clinks.splice(i,1)}return e.events.publish("updated",[this]),this},e.clinkTemplates={},e.clinkTemplates.orange={defs:'<marker id="arrowOrange" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path fill="#F57C00" d="M 0 0 L 10 5 L 0 10 z" /></marker><marker id="dotOrange" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="5" markerHeight="5"> <circle cx="5" cy="5" r="5" fill="#F57C00" /></marker>',link:'<path marker-start="url(#dotOrange)" marker-end="url(#arrowOrange)" stroke="#F57C00" stroke-width="2" fill="none" d="{d}" />',label:'<text fill="#F57C00" text-anchor="middle" x="{x}" y="{y}">{val}</text>'},e.clinkTemplates.blue={defs:'<marker id="arrowBlue" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path fill="#039BE5" d="M 0 0 L 10 5 L 0 10 z" /></marker><marker id="dotBlue" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="5" markerHeight="5"> <circle cx="5" cy="5" r="5" fill="#039BE5" /></marker>',link:'<path marker-start="url(#dotBlue)" marker-end="url(#arrowBlue)" stroke="#039BE5" stroke-width="2" fill="none" d="{d}" />',label:'<text fill="#039BE5"  text-anchor="middle" x="{x}" y="{y}">{val}</text>'},e.clinkTemplates.yellow={defs:'<marker id="arrowYellow" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path fill="#FFCA28" d="M 0 0 L 10 5 L 0 10 z" /></marker><marker id="dotYellow" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="5" markerHeight="5"> <circle cx="5" cy="5" r="5" fill="#FFCA28" /></marker>',link:'<path marker-start="url(#dotYellow)" marker-end="url(#arrowYellow)" stroke="#FFCA28" stroke-width="2" fill="none" d="{d}" />',label:'<text fill="#FFCA28"  text-anchor="middle" x="{x}" y="{y}">{val}</text>'},e===void 0&&(e={}),e.events.on("renderdefs",function(t,r){for(var i=0;i<t.config.slinks.length;i++){var o=t.config.slinks[i].template;o||(o="orange");var a=e.slinkTemplates[o];r.defs+=a.defs}}),e.events.on("render",function(t,r){t._slinks(t,r)}),e.events.on("drag",function(t,r,i,o){if(t instanceof e&&t.config.movable&&o)for(var a=0;a<o.length;a++){for(var s=o[a],l=t.element.querySelectorAll('[data-s-l-from="'.concat(s,'"]')),c=t.element.querySelectorAll('[data-s-l-to="'.concat(s,'"]')),d=0;d<l.length;d++)l[d].parentNode.removeChild(l[d]);for(d=0;d<c.length;d++)c[d].parentNode.removeChild(c[d])}}),e.prototype._slinks=function(t,r){var i="",o=this.getScale(),a=r.res.boundary;function s(u,p,g){var m=[],w=null,y="left",x=u.lcn?u.lcn:"base",v=t._layoutConfigs[x];switch(v.orientation){case e.orientation.top:case e.orientation.top_left:case e.orientation.bottom:case e.orientation.bottom_left:p.x>u.x&&(y="right");break;case e.orientation.left:case e.orientation.left_top:case e.orientation.right:case e.orientation.right_top:y="top",p.y>u.y&&(y="bottom")}var S=e.t(u.templateName,u.min,o),_=v.levelSeparation;u.parent&&u.parent.layout&&(_=v.mixedHierarchyNodesSeparation);var b={p:u.x+u.w/2+S.expandCollapseSize,q:u.y,r:u.x+u.w/2+S.expandCollapseSize,s:a.minY+_};if(u.sl==p.sl)switch(w=p,v.orientation){case e.orientation.top:case e.orientation.top_left:m.push([b.p,b.q]),m.push([b.p,b.q-_/3]),S=e.t(w.templateName,w.min,o),m.push([w.x+w.w/2+S.expandCollapseSize,m[m.length-1][1]]),m.push([m[m.length-1][0],w.y]);break;case e.orientation.bottom:case e.orientation.bottom_left:b.q=u.y+u.h,b.s=a.maxY-_,m.push([b.p,b.q]),m.push([b.r,u.y+u.h+_/3]),S=e.t(w.templateName,w.min,o),m.push([w.x+w.w/2+S.expandCollapseSize,m[m.length-1][1]]),m.push([m[m.length-1][0],w.y+w.h]);break;case e.orientation.left:case e.orientation.left_top:b.p=u.x,b.q=u.y+u.h/2+S.expandCollapseSize,b.r=a.minX-_,b.s=u.y+u.h/2+S.expandCollapseSize,m.push([b.p,b.q]),m.push([u.x-_/3,b.q]),S=e.t(w.templateName,w.min,o),m.push([m[m.length-1][0],w.y+w.h/2+S.expandCollapseSize]),m.push([w.x,m[m.length-1][1]]);break;case e.orientation.right:case e.orientation.right_top:b.p=u.x+u.w,b.q=u.y+u.h/2+S.expandCollapseSize,b.r=a.maxX+_,b.s=u.y+u.h/2+S.expandCollapseSize,m.push([b.p,b.q]),m.push([u.x+u.w+_/3,b.q]),S=e.t(w.templateName,w.min,o),m.push([m[m.length-1][0],w.y+w.h/2+S.expandCollapseSize]),m.push([w.x+w.w,m[m.length-1][1]])}else{switch(v.orientation){case e.orientation.top:case e.orientation.top_left:m.push([b.p,b.q]),m.push([b.r,u.y-_/3]);break;case e.orientation.bottom:case e.orientation.bottom_left:b.q=u.y+u.h,b.s=a.maxY-_,m.push([b.p,b.q]),m.push([b.r,u.y+u.h+_/3]);break;case e.orientation.left:case e.orientation.left_top:b.p=u.x,b.q=u.y+u.h/2+S.expandCollapseSize,b.r=a.minX-_,b.s=u.y+u.h/2+S.expandCollapseSize,m.push([b.p,b.q]),m.push([u.x-_/3,b.q]);break;case e.orientation.right:case e.orientation.right_top:b.p=u.x+u.w,b.q=u.y+u.h/2+S.expandCollapseSize,b.r=a.maxX+_,b.s=u.y+u.h/2+S.expandCollapseSize,m.push([b.p,b.q]),m.push([u.x+u.w+_/3,b.q])}for(var C=u,N=u;N.parent;)N=N.parent;for(;w==null;){var I=!1,E=C.parent,A=E.leftNeighbor,T=E.rightNeighbor;if(E.id==p.id?w=E:e._intersects(E,b,v)&&(b=e._addPoint(E,m,v,b,y),I=!0),E.id!=p.id){for(;A;){if(A.id==p.id){w=A;break}e._intersects(A,b,v)&&(b=e._addPoint(A,m,v,b,y),I=!0),A=A.leftNeighbor}for(;T;){if(T.id==p.id){w=T;break}e._intersects(T,b,v)&&(b=e._addPoint(T,m,v,b,y),I=!0),T=T.rightNeighbor}}if(!I){var P=m[m.length-1][0],O=0;if(E.parent){_=v.levelSeparation,E.parent.layout&&(_=v.mixedHierarchyNodesSeparation);var D=t.manager.bordersByRootIdAndLevel[N.id][E.parent.sl];switch(v.orientation){case e.orientation.top:case e.orientation.top_left:O=D.maxY+_*(2/3);break;case e.orientation.bottom:case e.orientation.bottom_left:O=D.minY-_*(2/3);break;case e.orientation.left:case e.orientation.left_top:P=D.maxX+_*(2/3),O=m[m.length-1][1];break;case e.orientation.right:case e.orientation.right_top:P=D.minX-_*(2/3),O=m[m.length-1][1]}}m.push([P,O])}C=E}switch(S=e.t(w.templateName,w.min,o),m.splice(m.length-1,1),v.orientation){case e.orientation.top:case e.orientation.top_left:m.push([w.x+w.w/2+S.expandCollapseSize,m[m.length-1][1]]),m.push([m[m.length-1][0],w.y+w.h]);break;case e.orientation.bottom:case e.orientation.bottom_left:m.push([w.x+w.w/2+S.expandCollapseSize,m[m.length-1][1]]),m.push([m[m.length-1][0],w.y]);break;case e.orientation.left:case e.orientation.left_top:m.push([m[m.length-1][0],w.y+w.h/2+S.expandCollapseSize]),m.push([w.x+w.w,m[m.length-1][1]]);break;case e.orientation.right:case e.orientation.right_top:m.push([m[m.length-1][0],w.y+w.h/2+S.expandCollapseSize]),m.push([w.x,m[m.length-1][1]])}}var W=c.template;W||(W="orange");var H,M,L=null;switch((S=e.slinkTemplates[W]).labelPosition){case"start":L={x:m[1][0],y:m[1][1]};break;case"middle":var j=Math.ceil(m.length/2);H=m[j],M=m[j-1],L={x:(H[0]+M[0])/2,y:(H[1]+M[1])/2};break;case"end":L={x:m[m.length-2][0],y:m[m.length-2][1]}}g&&(m=m.reverse()),m[0].unshift("M");for(var F=1;F<m.length;F++)m[F].unshift("L");var q=e.roundPathCorners(m,e.LINK_ROUNDED_CORNERS,!1);if(c.label){var Y=S.label.replace("{x}",L.x).replace("{y}",L.y).replace("{val}",c.label),K=e._getLabelSize(Y),U=-K.height/2;switch(v.orientation){case e.orientation.bottom:case e.orientation.bottom_left:U=K.height}i+=S.label.replace("{x}",L.x).replace("{y}",L.y+U).replace("{val}",c.label)}var X=u.id,Z=p.id;g&&(X=p.id,Z=u.id),i+=("<g "+e.attr.s_link_from+'="{from}" '+e.attr.s_link_to+'="{to}">').replace("{from}",X).replace("{to}",Z)+S.link.replaceAll("{d}",q)+'<path stroke="transparent" stroke-width="15" fill="none" d="'+q+'" />',i+=e.grCloseTag}for(var l=0;l<this.config.slinks.length;l++){var c=this.config.slinks[l],d=t.getNode(c.from),f=t.getNode(c.to);d&&f&&r.res.visibleNodeIds.indexOf(f.id)!=-1&&r.res.visibleNodeIds.indexOf(d.id)!=-1&&(d.sl>=f.sl?s(d,f,!1):s(f,d,!0))}r.content+=i},e.prototype.addSlink=function(t,r,i,o){this._putInUndoStack(),this.clearRedo();for(var a=this.config.slinks.length-1;a>=0;a--){var s=this.config.slinks[a];s.from==t&&s.to==r&&this.config.slinks.splice(a,1)}return this.config.slinks.push({from:t,to:r,label:i,template:o}),e.events.publish("updated",[this]),this},e.prototype.removeSlink=function(t,r){this._putInUndoStack(),this.clearRedo();for(var i=this.config.slinks.length-1;i>=0;i--){var o=this.config.slinks[i];o.from==t&&o.to==r&&this.config.slinks.splice(i,1)}return e.events.publish("updated",[this]),this},e.slinkTemplates={},e.slinkTemplates.orange={defs:'<marker id="arrowSlinkOrange" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path fill="#F57C00" d="M 0 0 L 10 5 L 0 10 z" /></marker><marker id="dotSlinkOrange" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="5" markerHeight="5"> <circle cx="5" cy="5" r="5" fill="#F57C00" /></marker>',link:'<path stroke-dasharray="4, 2" marker-start="url(#dotSlinkOrange)" marker-end="url(#arrowSlinkOrange)" stroke-linejoin="round" stroke="#F57C00" stroke-width="2" fill="none" d="{d}" />',label:'<text dominant-baseline="middle" fill="#F57C00" alignment-baseline="middle" text-anchor="middle" x="{x}" y="{y}">{val}</text>',labelPosition:"middle"},e.slinkTemplates.blue={defs:'<marker id="arrowSlinkBlue" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path fill="#039BE5" d="M 0 0 L 10 5 L 0 10 z" /></marker><marker id="dotSlinkBlue" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="5" markerHeight="5"> <circle cx="5" cy="5" r="5" fill="#039BE5" /></marker>',link:'<path stroke-dasharray="4, 2" marker-start="url(#dotSlinkBlue)" marker-end="url(#arrowSlinkBlue)" stroke-linejoin="round" stroke="#039BE5" stroke-width="2" fill="none" d="{d}" />',label:'<text fill="#039BE5" text-anchor="middle" x="{x}" y="{y}">{val}</text>',labelPosition:"middle"},e.slinkTemplates.yellow={defs:'<marker id="arrowSlinkYellow" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path fill="#FFCA28" d="M 0 0 L 10 5 L 0 10 z" /></marker><marker id="dotSlinkYellow" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="5" markerHeight="5"> <circle cx="5" cy="5" r="5" fill="#FFCA28" /></marker>',link:'<path stroke-dasharray="4, 2" marker-start="url(#dotSlinkYellow)" marker-end="url(#arrowSlinkYellow)" stroke-linejoin="round" stroke="#FFCA28" stroke-width="2" fill="none" d="{d}" />',label:'<text  fill="#FFCA28" text-anchor="middle" x="{x}" y="{y}">{val}</text>',labelPosition:"middle"},e.events.on("renderbuttons",function(t,r){if(r.node&&r.node.tags&&r.node.tags.has("group-dotted-lines")){var i=t.getScale(),o=e.t(r.node.templateName,r.node.min,i),a="";r.node.min?(o.nodeGroupDottedOpenButton||console.error("[".concat(r.node.templateName,"].nodeGroupDottedOpenButton is not defined")),a+='<g style="cursor:pointer;"  data-ctrl-n-dotted-open="'.concat(r.node.id,'" transform="matrix(1,0,0,1,').concat(r.node.x,",").concat(r.node.y,')">'),a+=o.nodeGroupDottedOpenButton):(o.nodeGroupDottedCloseButton||console.error("[".concat(r.node.templateName,"].nodeGroupDottedCloseButton is not defined")),a+='<g style="cursor:pointer;" transform="matrix(1,0,0,1,'.concat(r.node.x,",").concat(r.node.y,')" data-ctrl-n-dotted-close="').concat(r.node.id,'">'),a+=o.nodeGroupDottedCloseButton),a=(a+="</g>").replaceAll("{cw}",r.node.w/2).replaceAll("{ch}",r.node.h/2).replaceAll("{ew}",r.node.w-(r.node.padding?r.node.padding[1]:0)).replaceAll("{eh}",r.node.h-(r.node.padding?r.node.padding[2]:0));var s=t.getNode(r.node.stChildrenIds[0]);if(a.indexOf("{collapsed-children-count}")!=-1){var l=e.collapsedChildrenCount(t,s);a=a.replace("{collapsed-children-count}",l)}if(a.indexOf("{collapsed-children-total-count}")!=-1){var c=e.collapsedChildrenTotalCount(t,s);a=a.replace("{collapsed-children-total-count}",c)}if(a.indexOf("{children-count}")!=-1){var d=e.childrenCount(t,s);a=a.replace("{children-count}",d)}if(a.indexOf("{children-total-count}")!=-1){var f=e.childrenTotalCount(t,s);a=a.replace("{children-total-count}",f)}r.html+=a}}),e.events.on("redraw",function(t,r){if(t.config.groupDottedLines.length){for(var i=t.element.querySelectorAll("[data-ctrl-n-dotted-close]"),o=0;o<i.length;o++)i[o].addEventListener("click",function(){var s=this.getAttribute("data-ctrl-n-dotted-close");t.minimize(s)});var a=t.element.querySelectorAll("[data-ctrl-n-dotted-open]");for(o=0;o<a.length;o++)a[o].addEventListener("click",function(){var s=this.getAttribute("data-ctrl-n-dotted-open");t.maximize(s)})}}),e===void 0&&(e={}),e.prototype.undo=function(t){if(this.config.undoRedoStorageName){var r=this.undoStepsCount();if(r!=0){this._putInRedoStack();var i="".concat(this.config.undoRedoStorageName,"_undo_")+(r-1),o=sessionStorage.getItem(i);sessionStorage.removeItem(i);var a=JSON.parse(o);this.config.nodes=a.nodes,this.config.clinks=a.clinks,this.config.slinks=a.slinks,this.config.groupDottedLines=a.groupDottedLines,this.config.dottedLines=a.dottedLines,e.events.publish("updated",[this]),this.filterUI.update(),this.draw(e.action.update,void 0,t),this.undoRedoUI.refresh()}}},e.prototype.redo=function(t){if(this.config.undoRedoStorageName){var r=this.redoStepsCount();if(r!=0){this._putInUndoStack();var i="".concat(this.config.undoRedoStorageName,"_redo_")+(r-1),o=sessionStorage.getItem(i);sessionStorage.removeItem(i);var a=JSON.parse(o);this.config.nodes=a.nodes,this.config.clinks=a.clinks,this.config.slinks=a.slinks,this.config.groupDottedLines=a.groupDottedLines,this.config.dottedLines=a.dottedLines,e.events.publish("updated",[this]),this.filterUI.update(),this.draw(e.action.update,void 0,t),this.undoRedoUI.refresh()}}},e.prototype.clearRedo=function(){if(this.config.undoRedoStorageName){for(var t="".concat(this.config.undoRedoStorageName,"_redo_"),r=Object.keys(sessionStorage),i=0;r.indexOf(t+i)!=-1;)sessionStorage.removeItem(t+i),i++;this.undoRedoUI.refresh()}},e.prototype.clearUndo=function(){if(this.config.undoRedoStorageName){for(var t="".concat(this.config.undoRedoStorageName,"_undo_"),r=Object.keys(sessionStorage),i=0;r.indexOf(t+i)!=-1;)sessionStorage.removeItem(t+i),i++;this.undoRedoUI.refresh()}},e.prototype.undoStepsCount=function(){for(var t="".concat(this.config.undoRedoStorageName,"_undo_"),r=Object.keys(sessionStorage),i=0;r.indexOf(t+i)!=-1;)i++;return i},e.prototype.redoStepsCount=function(){for(var t="".concat(this.config.undoRedoStorageName,"_redo_"),r=Object.keys(sessionStorage),i=0;r.indexOf(t+i)!=-1;)i++;return i},e.prototype._putInUndoStack=function(){if(this.config.undoRedoStorageName){var t="".concat(this.config.undoRedoStorageName,"_undo_")+this.undoStepsCount();sessionStorage.setItem(t,JSON.stringify({nodes:this.config.nodes,clinks:this.config.clinks,slinks:this.config.slinks,groupDottedLines:this.config.groupDottedLines,dottedLines:this.config.dottedLines}))}},e.prototype._putInRedoStack=function(){if(this.config.undoRedoStorageName){var t="".concat(this.config.undoRedoStorageName,"_redo_")+this.redoStepsCount();sessionStorage.setItem(t,JSON.stringify({nodes:this.config.nodes,clinks:this.config.clinks,slinks:this.config.slinks,groupDottedLines:this.config.groupDottedLines,dottedLines:this.config.dottedLines}))}},e===void 0&&(e={}),e.undoRedoUI=function(){this.instance=null,this._event_id=e._guid()},e.undoRedoUI.prototype.init=function(t){t.config.undoRedoStorageName&&(this.instance=t,this.refresh())},e.undoRedoUI.prototype.refresh=function(){var t=this;if(this.instance.config.undoRedoStorageName){var r={undoStepsCount:this.instance.undoStepsCount(),redoStepsCount:this.instance.redoStepsCount()};if(e.events.publish("change",[this,r])!==!1){var i=this.instance.element.querySelector("[data-undo]"),o=this.instance.element.querySelector("[data-redo]");if(!i||!o){var a=document.createElement("div");a.classList.add("bft-undo-redo"),a.innerHTML="<span data-undo>".concat(e.icon.undo(50,50,""),'<span class="bft-undo-i"></span></span>\n                            <span data-redo>').concat(e.icon.redo(50,50,""),'<span class="bft-redo-i"></span></span>'),this.instance.element.appendChild(a),i=this.instance.element.querySelector("[data-undo]"),o=this.instance.element.querySelector("[data-redo]"),i.addEventListener("click",function(){t.instance.undo()}),o.addEventListener("click",function(){t.instance.redo()})}r.undoStepsCount>0?(i.classList.add("bft-ur-clickable"),i.querySelector(".bft-undo-i").innerHTML=r.undoStepsCount,i.querySelector(".bft-undo-i").style.display="inline-block"):(i.classList.remove("bft-ur-clickable"),i.querySelector(".bft-undo-i").style.display="none"),r.redoStepsCount>0?(o.classList.add("bft-ur-clickable"),o.querySelector(".bft-redo-i").innerHTML=r.redoStepsCount,o.querySelector(".bft-redo-i").style.display="inline-block"):(o.classList.remove("bft-ur-clickable"),o.querySelector(".bft-redo-i").style.display="none")}}},e.undoRedoUI.prototype.on=function(t,r){return e.events.on(t,r,this._event_id),this},e.undoRedoUI.prototype.onChange=function(t){return this.on("change",function(r,i){return t.call(r,i)})},e.events.on("redraw",function(t,r){if(t.config.miniMap){if(t.manager.action!=e.action.move){e.miniMap._settings._scale=Math.min(e.miniMap.width/(t.response.boundary.maxX-t.response.boundary.minX),e.miniMap.height/(t.response.boundary.maxY-t.response.boundary.minY)),e.miniMap._settings._translateX=-t.response.boundary.minX*e.miniMap._settings._scale+(e.miniMap.width-(t.response.boundary.maxX-t.response.boundary.minX)*e.miniMap._settings._scale)/2,e.miniMap._settings._translateY=-t.response.boundary.minY*e.miniMap._settings._scale+(e.miniMap.height-(t.response.boundary.maxY-t.response.boundary.minY)*e.miniMap._settings._scale)/2;var i=t.getViewBox();e.miniMap._init(t),e.miniMap._drawMainCanvas(t),e.miniMap._drawRectSelectorCanvas(t,i);var o,a,s,l,c=t.element.querySelector('[data-id="mini-map-focus"]'),d=!1,f=null;c.onmousedown=function(p){var g,m,w,y=c.getBoundingClientRect(),x=y.left,v=y.top;if(o=parseInt(p.clientX-x),a=parseInt(p.clientY-v),g=a,m=(o-e.miniMap._settings._translateX)/e.miniMap._settings._scale,w=(g-e.miniMap._settings._translateY)/e.miniMap._settings._scale,m>i[0]&&m<i[0]+i[2]&&w>i[1]&&w<i[1]+i[3])return p.preventDefault(),p.stopPropagation(),void(d=!0)},c.onmousemove=function(p){if(d){p.preventDefault(),p.stopPropagation(),e.miniMap._mouseMove=!0;var g=c.getBoundingClientRect(),m=g.left,w=g.top;s=parseInt(p.clientX-m),l=parseInt(p.clientY-w);var y=(s-o)/e.miniMap._settings._scale,x=(l-a)/e.miniMap._settings._scale;i[0]=y+i[0],i[1]=x+i[1],t.setViewBox(i),f&&(clearTimeout(f),f=null),f=setTimeout(function(){t._draw(!0,e.action.move)},300),e.miniMap._drawRectSelectorCanvas(t,i),o=s,a=l}},c.onmouseup=function(p){d&&(p.preventDefault(),p.stopPropagation(),d=!1)},c.onmouseout=function(p){d&&(p.preventDefault(),p.stopPropagation(),d=!1,e.miniMap._mouseMove=!1)},c.onclick=function(p){if(p.preventDefault(),p.stopPropagation(),e.miniMap._mouseMove)e.miniMap._mouseMove=!1;else{var g=c.getBoundingClientRect(),m=g.left,w=g.top;s=parseInt(p.clientX-m),l=parseInt(p.clientY-w);var y=s/e.miniMap._settings._scale,x=l/e.miniMap._settings._scale;i[0]=y-(i[0]+i[2]-i[0])/2-e.miniMap._settings._translateX/e.miniMap._settings._scale,i[1]=x-(i[1]+i[3]-i[1])/2-e.miniMap._settings._translateY/e.miniMap._settings._scale,t.setViewBox(i),f&&(clearTimeout(f),f=null),f=setTimeout(function(){t._draw(!0,e.action.move)},300),e.miniMap._drawRectSelectorCanvas(t,i)}}}}else{var u=t.element.querySelector('[data-id="mini-map"]');u&&u.parentNode.removeChild(u)}}),e.miniMap={},e.miniMap._settings={_translateX:0,_translateY:0,_scale:1},e.miniMap._drawMainCanvas=function(t){var r=t.element.querySelector('[data-id="mini-map-main"]'),i=r.getContext("2d");e.miniMap._initCtx(t,r,1);var o=0,a=[];(function s(l,c){if(Array.isArray(c))for(var d=0;d<c.length;d++)s(l,c[d]);else{for(i.fillStyle=e.miniMap.colors[3],i.beginPath(),i.lineWidth="0.5",i.fillRect(c.x,c.y,c.w,c.h),i.strokeRect(c.x,c.y,c.w,c.h),d=0;d<c.stChildrenIds.length;d++)o++,a.includes(c.id)||(o==1?i.fillStyle=e.miniMap.colors[0]:o==2?i.fillStyle=e.miniMap.colors[1]:o==3&&(i.fillStyle=e.miniMap.colors[2]),i.beginPath(),i.fillRect(c.x,c.y,c.w,c.h),i.strokeRect(c.x,c.y,c.w,c.h),a.push(c.id)),s(l,l.getNode(c.stChildrenIds[d])),o--;for(d=0;d<c.childrenIds.length;d++)s(l,l.getNode(c.childrenIds[d]))}})(t,t.roots)},e.miniMap._drawRectSelectorCanvas=function(t,r){var i=t.element.querySelector('[data-id="mini-map-focus"]'),o=i.getContext("2d");e.miniMap._initCtx(t,i,e.miniMap.opacity);var a=r[0],s=r[1],l=r[2],c=r[3];o.lineWidth=.5/e.miniMap._settings._scale,o.strokeStyle=e.miniMap.focusStroke,o.globalAlpha=1,o.clearRect(a,s,l,c),o.strokeRect(a,s,l,c)},e.miniMap._initCtx=function(t,r,i){var o=r.getContext("2d");r.width=r.width,r.height=r.height,o.clearRect(0,0,e.miniMap.width,e.miniMap.height),o.globalAlpha=i,i!=1&&(o.fillStyle=e.miniMap.selectorBackgroundColor,o.fillRect(0,0,e.miniMap.width,e.miniMap.height)),o.translate(e.miniMap._settings._translateX,e.miniMap._settings._translateY),o.scale(e.miniMap._settings._scale,e.miniMap._settings._scale)},e.miniMap._init=function(t){if(!t.element.querySelector('[data-id="mini-map"]')){var r=document.createElement("canvas");r.width=e.miniMap.width,r.height=e.miniMap.height,r.setAttribute("data-id","mini-map-main"),r.style.display="inline-block",r.style.backgroundColor=e.miniMap.backgroundColor,r.style.position="absolute",r.style.top=0,r.style.left=0;var i=document.createElement("canvas");i.width=e.miniMap.width,i.height=e.miniMap.height,i.setAttribute("data-id","mini-map-focus"),i.style.display="inline-block",i.style.position="absolute",i.style.top=0,i.style.left=0;var o=document.createElement("div");o.setAttribute("data-id","mini-map"),o.style.position="absolute";for(var a=["top","right","left","bottom"],s=0;s<a.length;s++){var l=a[s];e.isNEU(e.miniMap.position[l])||(e.miniMap.position[l]=="padding"?o.style[l]=t.config.padding+"px":o.style[l]=e.miniMap.position[l]+"px")}o.style.border=e.miniMap.border,o.style.padding=e.miniMap.padding+"px",o.style.backgroundColor=e.miniMap.backgroundColor;var c=document.createElement("div");c.style.position="relative",c.style.width=e.miniMap.width+"px",c.style.height=e.miniMap.height+"px",c.appendChild(r),c.appendChild(i),o.appendChild(c),t.element.appendChild(o);var d=function(m,w){t.__mouseScrollHandler(o,w)};t._addEvent(o,"DOMMouseScroll",d),t._addEvent(o,"mousewheel",d);var f=0,u=0,p=function(m){e.miniMap._mouseMove=!0;var w=m.clientX-f,y=m.clientY-u;if(!e.isNEU(o.style.left)){var x=parseFloat(o.style.left)+w;o.style.left="".concat(x,"px")}if(!e.isNEU(o.style.right)){var v=parseFloat(o.style.right)-w;o.style.right="".concat(v,"px")}if(!e.isNEU(o.style.bottom)){var S=parseFloat(o.style.bottom)-y;o.style.bottom="".concat(S,"px")}if(!e.isNEU(o.style.top)){var _=parseFloat(o.style.top)+y;o.style.top="".concat(_,"px")}f=m.clientX,u=m.clientY},g=function(){document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",g)};e.miniMap.draggable&&o.addEventListener("mousedown",function(m){f=m.clientX,u=m.clientY,document.addEventListener("mousemove",p),document.addEventListener("mouseup",g)})}},e.miniMap.colors=["#E0E0E0","#BDBDBD","#9E9E9E","#757575"],e.miniMap.selectorBackgroundColor="white",e.miniMap.backgroundColor="white",e.miniMap.focusStroke="#f57c00",e.miniMap.opacity=.4,e.miniMap.border="1px solid #aeaeae",e.miniMap.width=250,e.miniMap.height=140,e.miniMap.padding=5,e.miniMap.position={top:void 0,left:"padding",right:void 0,bottom:"padding"},e.miniMap.draggable=!0,e._search={},e._search.search=function(t,r,i,o,a,s,l){var c=[],d=r.toLowerCase(),f=d.split(" ");if(l&&f.length>1){var u=f[0];l[u]&&(i=[l[u]],f=(d=d.replace(u,"").trim()).split(" "))}f=f.filter(function(_,b,C){return C.indexOf(_)===b});for(var p={},g=0;g<t.length;g++)for(var m=t[g],w=0;w<i.length;w++){var y=i[w];if(!e.isNEU(m[y])){var x=m[y];if((r=e._search.searchAndComputeScore(f,x,y,s))!=null){var v=m.id;if(p[v]){if(p[v]&&p[v]<r.__score){p[v]=r.__score;for(var S=c.length-1;S>=0;S--)c[S].id==v&&c.splice(S,1);e._search.addNodeToResult(c,o,m,r,y,a)}}else p[v]=r.__score,e._search.addNodeToResult(c,o,m,r,y,a)}}}return c.sort(function(_,b){return _.__score<b.__score?1:_.__score>b.__score?-1:0}),c},e._search.addNodeToResult=function(t,r,i,o,a,s){var l={};l.id=i.id,e.isNEU(i[s])||(l[s]=i[s]);for(var c=0;c<r.length;c++){var d=r[c];e.isNEU(i[d])||e.isNEU(l[d])&&(l[d]=i[d])}o!=null&&(e.isNEU(l.__score)&&(l.__score=o.__score),e.isNEU(l.__searchField)&&(l.__searchField=a),e.isNEU(l.__searchMarks)&&(l.__searchMarks=o.__searchMarks)),t.push(l)},e._search.searchAndComputeScore=function(t,r,i,o){if(e.isNEU(r)||e.isNEU(t)||!t.length)return null;typeof r!="string"&&(r=r.toString());var a=r.toLowerCase(),s=e._search.searchIndexesOf(a,t);if(!s.length)return null;for(var l=a.length/100,c=0,d=0,f=c>0?100:0,u=0,p=0;p<t.length;p++)for(var g=t[p],m=0;m<s.length;m++)if(g.indexOf(s[m].searchPhrase)!=-1){u++;break}var w=100/(t.length/u);if(s.length){for(d=s[0].start,m=0;m<s.length;m++)if(c+=s[m].length,s[m].start<d&&(d=s[m].start),m>=1&&s[m-1].start>s[m].start){f=0;break}}var y=0;c!=0&&(y=c/l);var x=c>0?100:0;d!=0&&(x=100-d/l);var v=0;o&&o[i]&&(v=o[i]),w&&(w=w/100*50),y>0&&(y=y/100*10),x>0&&(x=x/100*10),f>0&&(f=f/100*10),v>0&&(v=v/100*20);var S=Math.round(1e4*(w+y+x+f+v));for(s.sort(function(b,C){return b.start<C.start?-1:b.start>C.start?1:0}),m=s.length-1;m>=0;m--)for(p=0;p<s.length;p++)p<m&&s[p].start+s[p].length>s[m].start&&s.splice(m,1);var _=r;for(m=s.length-1;m>=0;m--)_=(_=_.insert(s[m].start+s[m].length,"</mark>")).insert(s[m].start,"<mark>");return{__searchMarks:_,__score:S}},e._search.searchIndexesOf=function(t,r){var i=[];if(!e.isNEU(t))for(var o=0;o<r.length;o++){var a=r[o];if(!e.isNEU(a))for(var s=0;(s=t.indexOf(a,s))>-1;)i.push({length:a.length,start:s,searchPhrase:a}),s+=a.length}return i.sort(function(l,c){return l.length<c.length?1:l.length>c.length||l.start<c.start?-1:l.start>c.start?1:0}),i=i.filter(function(l){for(var c=!1,d=0;d<i.length;d++){var f=i[d].start,u=i[d].start+i[d].length-1,p=l.start,g=l.start+l.length-1;if(f==p&&u==g){c=!1;break}if(f>=p&&u<=g){c=!0;break}if(f<=p&&u>=g){c=!0;break}}return!c})},e.events.on("redraw",function(t,r){if(t.config.state){var i=[],o=[];(function a(s){if(Array.isArray(s))for(var l=0;l<s.length;l++)a(s[l]);else{for((typeof s.id!="string"||typeof s.id=="string"&&s.id.indexOf("split")==-1&&s.id.indexOf("mirror")==-1)&&(i.push(s.id),s.min==1&&o.push(s.id)),l=0;l<s.stChildren.length;l++)a(s.stChildren[l]);for(l=0;l<s.children.length;l++)a(s.children[l])}})(t.roots),e.state._put(t.config.roots,t.width(),t.height(),t.response.viewBox,i,o,t.response.adjustify,t.config.state)}}),e.state={},e.state._buildStateNames=function(t){return{paramScale:t+"-scale",paramX:t+"-x",paramY:t+"-y",paramExp:t+"-exp",paramMin:t+"-min",paramRoots:t+"-roots",paramAdjustify:t+"-adjustify"}},e.state._put=function(t,r,i,o,a,s,l,c){if(c&&!e.isNEU(a)&&a.length!=0){var d=e.state._buildStateNames(c.name),f={roots:t,scale:Math.min(r/o[2],i/o[3]),x:o[0],y:o[1],exp:a,min:s,adjustify:l};if(c.writeToUrlParams){var u=new URLSearchParams(window.location.search);u.has(d.paramScale)?u.set(d.paramScale,f.scale):u.append(d.paramScale,f.scale),u.has(d.paramX)?u.set(d.paramX,f.x):u.append(d.paramX,f.x),u.has(d.paramY)?u.set(d.paramY,f.y):u.append(d.paramY,f.y),u.has(d.paramExp)?u.set(d.paramExp,f.exp.join("*")):u.append(d.paramExp,f.exp.join("*")),u.has(d.paramRoots)&&Array.isArray(f.roots)?u.set(d.paramRoots,f.roots.join("*")):Array.isArray(f.roots)&&u.append(d.paramRoots,f.roots.join("*")),u.has(d.paramMin)?u.set(d.paramMin,f.min.join("*")):u.append(d.paramMin,f.min.join("*")),u.has(d.paramAdjustify)?u.set(d.paramAdjustify,f.adjustify.x+"*"+f.adjustify.y):u.append(d.paramAdjustify,f.adjustify.x+"*"+f.adjustify.y),window.history.replaceState(null,null,"?"+u)}c.writeToIndexedDB&&(f.id=c.name,e.idb.put(f,function(p){p==0&&console.error("Cannot write row - "+c.name)})),c.writeToLocalStorage&&e.localStorage.setItem(c.name,JSON.stringify(f))}},e.state._get=function(t,r,i,o){if(t){var a=e.state._buildStateNames(t.name);if(t.readFromUrlParams){var s=new URLSearchParams(window.location.search);if(s.has(a.paramScale)&&s.has(a.paramX)&&s.has(a.paramY)&&s.has(a.paramExp)&&s.has(a.paramMin)&&s.has(a.paramAdjustify)){var l={},c=parseFloat(s.get(a.paramScale)),d=parseFloat(s.get(a.paramX)),f=parseFloat(s.get(a.paramY));(p=[])[0]=d,p[1]=f,p[2]=r/c,p[3]=i/c,l.vb=p,l.scale=c,l.x=d,l.y=f,l.roots=null,s.has(a.paramRoots)&&(l.roots=s.get(a.paramRoots).split("*")),l.exp=s.get(a.paramExp).split("*"),l.min=s.get(a.paramMin).split("*");var u=s.get(a.paramAdjustify).split("*");return l.adjustify={x:parseFloat(u[0]),y:parseFloat(u[1])},void o(l)}if(!t.readFromIndexedDB&&!t.readFromLocalStorage)return void o(null)}if(t.readFromLocalStorage){var p;if((l=e.localStorage.getItem(t.name))!=null)return l=JSON.parse(l),(p=[])[0]=l.x,p[1]=l.y,p[2]=r/l.scale,p[3]=i/l.scale,l.vb=p,void o(l);if(!t.readFromIndexedDB)return void o(null)}t.readFromIndexedDB&&e.idb.read(t.name,function(g,m){if(g==0)console.error("Cannot read from - "+t.name),o(null);else if(g==null)o(null);else{var w=[];w[0]=m.x,w[1]=m.y,w[2]=r/m.scale,w[3]=i/m.scale,m.vb=w,o(m)}})}else o(null)},e.state.clear=function(t){if(!t)return!1;try{localStorage.removeItem(t);var r=e.state._buildStateNames(t),i=new URLSearchParams(window.location.search);i.has(r.paramScale)&&i.delete(r.paramScale),i.has(r.paramX)&&i.delete(r.paramX),i.has(r.paramY)&&i.delete(r.paramY),i.has(r.paramExp)&&i.delete(r.paramExp),i.has(r.paramRoots)&&i.delete(r.paramRoots),i.has(r.paramMin)&&i.delete(r.paramMin),i.has(r.paramAdjustify)&&i.delete(r.paramAdjustify),window.history.replaceState(null,null,"?"+i),e.idb.delete(t,function(o){o==0&&console.error("Cannot delete row - "+t)})}catch(o){}},e._magnify={},e.prototype.magnify=function(t,r,i,o,a){o||(o=this.config.anim);var s=this.getNode(t),l=this.getNodeElement(t);if(s||l){var c=e._magnify[t];c&&(c.timer!=null&&clearInterval(c.timer),c.timerBack!=null&&clearInterval(c.timerBack),l.setAttribute("transform","matrix("+c.transformStart.toString()+")"),e._magnify[t]=null),i&&(l=l.cloneNode(!0),this.getSvg().appendChild(l));var d=e._getTransform(l),f=JSON.parse(JSON.stringify(d));f[0]=r,f[3]=r;var u=s.w+s.w*(r-1),p=s.h+s.h*(r-1);f[4]+=(s.w-u)/2,f[5]+=(s.h-p)/2;var g=e.animate(l,{transform:d},{transform:f},o.duration,o.func);e._magnify[t]={timer:g,transformStart:d,nodeElement:l,front:i},a&&a(l)}},e.prototype.magnifyBack=function(t,r,i){r||(r=this.config.anim);var o=e._magnify[t];if(o){o.timer!=null&&clearInterval(o.timer),o.timerBack!=null&&clearInterval(o.timerBack);var a=e._getTransform(o.nodeElement);o.timerBack=e.animate(o.nodeElement,{transform:a},{transform:o.transformStart},r.duration,r.func,function(s){var l=s[0].getAttribute(e.attr.node_id);e._magnify[l]&&e._magnify[l].front&&(s[0].parentNode.removeChild(s[0]),e._magnify[l]=null),i&&i(s[0])})}},e===void 0&&(e={}),e.events.on("init",function(t,r){if(t.config.keyNavigation&&(t._addEvent(window,"keydown",t._windowKeyDownHandler),e.isNEU(t._keyNavigationActiveNodeId)&&t.roots&&t.roots.length)){var i=t.roots[0].id;e.isNEU(t.config.keyNavigation.focusId)||(i=t.config.keyNavigation.focusId),t._keyNavigationActiveNodeId=i,t.center(t._keyNavigationActiveNodeId)}}),e.prototype._windowKeyDownHandler=function(t,r){for(var i=r.target,o=null;i&&i!=this.element;){if(i.hasAttribute&&i.hasAttribute(e.attr.node_id)){o=i.getAttribute(e.attr.node_id);break}i=i.parentNode}if(i){var a=o?this.getNode(o):null,s={node:a,data:o?this.get(o):null,event:r};if(e.events.publish("key-down",[this,s])!==!1&&a){if(r.code=="KeyF")this.searchUI.find("");else if(r.code=="ArrowRight"||a.isAssistant&&r.code=="ArrowDown"||a.isPartner&&r.code=="ArrowDown"){if(d=this.getNode(a.pid)){var l=d.childrenIds.indexOf(a.id);if(++l<d.childrenIds.length){var c=d.childrenIds[l];this._keyNavigationActiveNodeId=c,this.center(c)}}}else if(r.code=="ArrowLeft")(d=this.getNode(a.pid))&&(l=d.childrenIds.indexOf(a.id),--l>=0&&(c=d.childrenIds[l],this._keyNavigationActiveNodeId=c,this.center(c)));else if(r.code=="ArrowUp"){var d;(d=this.getNode(a.pid))&&(c=d.id,(a.isAssistant||d.hasAssistants||a.isPartner||d.hasPartners)&&(l=d.childrenIds.indexOf(a.id),--l>=0&&(c=d.childrenIds[l])),this._keyNavigationActiveNodeId=c,this.center(c))}else if(r.code=="ArrowDown")a.childrenIds.length&&(this._keyNavigationActiveNodeId=a.childrenIds[0],this.center(a.childrenIds[0]));else if(r.code=="Space"){var f=i.getAttribute(e.attr.node_id);return void this.toggleExpandCollapse(f,r)}}}},e.events.on("redraw",function(t,r){t.config.keyNavigation&&e._keyNavigation(t)}),e.events.on("click",function(t,r){t.config&&t.config.keyNavigation&&(t._keyNavigationActiveNodeId=r.node.id,t.center(r.node.id))}),e._keyNavigation=function(t){var r=t.element.querySelector(":focus");if(r&&r.parentElement&&r.parentElement.hasAttribute(e.attr.node_id)){var i=r.parentElement;(a=(o=r).querySelector("title"))&&a.parentNode.removeChild(a),o.removeAttribute("tabindex")}if(!e.isNEU(t._keyNavigationActiveNodeId)&&(i=t.getNodeElement(t._keyNavigationActiveNodeId))&&i.children.length){var o;(o=i.children[0]).setAttribute("tabindex",2);var a,s={text:"",id:t._keyNavigationActiveNodeId};e.events.publish("screen-reader-text",[t,s]),!e.isNEU(s.text)&&((a=document.createElementNS("http://www.w3.org/2000/svg","title")).innerHTML=s.text,o.appendChild(a)),e.SEARCH_CLOSE_RESULT_ON_ESCAPE_OR_CLICKOUTSIDE&&t.searchUI.hide(),o.focus()}},e.elements={},e.elements.textbox=function(t,r,i,o){var a=e.elements._vidrf(t,r,o);if(a.doNotRender)return{html:""};var s="";return r.btn&&(s='<a href="#" data-input-btn="" class="bft-link bft-link-bft-button">'.concat(r.btn,"</a>")),{html:'<div class="bft-form-field" style="min-width: '.concat(i,';">\n                    <div class="bft-input" data-bft-input="" ').concat(a.disabledAttribute," ").concat(a.vlidators,'>\n                        <label for="').concat(a.id,'">').concat(e._escapeGreaterLessSign(a.label),"</label>\n                        <input ").concat(a.readOnlyAttribute,' data-binding="').concat(e._escapeDoubleQuotes(a.binding),'" maxlength="256" id="').concat(a.id,'" name="').concat(a.id,'" type="text" value="').concat(e._escapeDoubleQuotes(a.value),'" autocomplete="off">\n                        ').concat(s,"\n                    </div>\n                </div>"),id:a.id,value:a.value}},e.elements.checkbox=function(t,r,i,o){var a=e.elements._vidrf(t,r,o);if(a.doNotRender)return{html:""};var s=a.value?"checked":"",l=o?'onclick="return false;"':"";return{html:'<div class="bft-form-field"  style="min-width: '.concat(i,';" >\n                        <label class="bft-checkbox" data-bft-input="" ').concat(a.disabledAttribute,">\n                            <input ").concat(s," ").concat(l,' data-binding="').concat(e._escapeDoubleQuotes(a.binding),'" type="checkbox"><span class="bft-checkbox-checkmark" type="checkbox"></span>').concat(e._escapeGreaterLessSign(a.label),"\n                        </label>\n                    </div>"),id:a.id,value:s}},e.elements.select=function(t,r,i,o){if(o)return e.elements.textbox(t,r,i,o);var a=e.elements._vidrf(t,r,o);return a.doNotRender?{html:""}:{html:'<div class="bft-form-field" style="min-width: '.concat(i,';">\n                    <div class="bft-input" data-bft-input="" ').concat(a.disabledAttribute," ").concat(a.vlidators,'>\n                        <label for="').concat(a.id,'">').concat(e._escapeGreaterLessSign(a.label),'</label>\n                        <select data-binding="').concat(e._escapeDoubleQuotes(a.binding),'" ').concat(a.readOnlyAttribute,' id="').concat(a.id,'" name="').concat(a.id,'">\n                            ').concat(function(){for(var s="",l=0;l<a.options.length;l++){var c=a.options[l];s+="<option ".concat(c.value==a.value?"selected":"",' value="').concat(e._escapeDoubleQuotes(c.value),'">').concat(e._escapeGreaterLessSign(c.text),"</option>")}return s}(),"                           \n                        </select>\n                    </div>\n                </div>"),id:a.id,value:a.value}},e.elements.multiSelect=function(t,r,i,o){if(o)return e.elements.textbox(t,r,i,o);var a=e.elements._vidrf(t,r,o);return a.doNotRender?{html:""}:{html:'<div class="bft-form-field" style="min-width: '.concat(i,';">\n                    <div class="bft-input" data-bft-input="" ').concat(a.disabledAttribute," ").concat(a.vlidators,'>\n                        <label for="').concat(a.id,'">').concat(e._escapeGreaterLessSign(a.label),'</label>\n                        <select class="multiple" data-binding="').concat(e._escapeDoubleQuotes(a.binding),'" ').concat(a.readOnlyAttribute,' id="').concat(a.id,'" name="').concat(a.id,'" multiple>\n                            ').concat(function(){for(var s="",l=0;l<a.options.length;l++){var c=a.options[l];s+="<option ".concat(a.value.includes(c.value)?"selected":"",' value="').concat(e._escapeDoubleQuotes(c.value),'">').concat(e._escapeGreaterLessSign(c.text),"</option>")}return s}(),"                           \n                        </select>\n                    </div>\n                </div>"),id:a.id,value:a.value}},e.elements.date=function(t,r,i,o){var a=e.elements._vidrf(t,r,o);return a.doNotRender?{html:""}:{html:'<div class="bft-form-field" style="min-width: '.concat(i,';">\n                    <div class="bft-input" data-bft-input="" ').concat(a.disabledAttribute," ").concat(a.vlidators,'>\n                        <label for="').concat(a.id,'" class="hasval">').concat(e._escapeGreaterLessSign(a.label),'</label>\n                        <input data-binding="').concat(e._escapeDoubleQuotes(a.binding),'" ').concat(a.readOnlyAttribute,' maxlength="256" id="').concat(a.id,'" name="').concat(a.id,'" type="date" value="').concat(e._escapeDoubleQuotes(a.value),'" autocomplete="off">\n                    </div>\n                </div>'),id:a.id,value:a.value}},e.elements._vidrf=function(t,r,i){var o={};if(r.binding||(r.binding=""),r.label||(r.label=""),r.type!="select"||Array.isArray(r.options)?o.options=r.options:o.options=[],o.value=t&&!e.isNEU(t[r.binding])?t[r.binding]:"",i&&o.options){for(var a=0;a<o.options.length;a++)if(o.options[a].value==o.value){o.value=o.options[a].text;break}}if(o.id=e.elements.generateId(),o.disabledAttribute=i?"data-bft-input-disabled":"",o.readOnlyAttribute=i?"readonly":"",o.id=o.id,i&&e.isNEU(o.value)&&(o.doNotRender=!0),i&&r.binding=="photo"&&(o.id=null,o.doNotRender=!0),o.binding=r.binding,o.label=r.label,o.vlidators="",r.vlidators)for(var s in r.vlidators)o.vlidators+="data-v-".concat(s,'="').concat(r.vlidators[s],'" ');return o},e.elements.ids=[],e.elements.generateId=function(){for(;;){var t="_"+("0000"+(Math.random()*Math.pow(36,4)|0).toString(36)).slice(-4);if(!e.elements.ids.has(t))return e.elements.ids.push(t),t}},e.input={},e.input._timeout=null,e.input.initWithTimeout=function(){e.input._timeout&&(clearTimeout(e.input._timeout),e.input._timeout=null),e.input._timeout=setTimeout(e.input.init,200)},e.input.init=function(t){var r;r=t?t.querySelectorAll("[data-bft-input]"):document.querySelectorAll("[data-bft-input]");for(var i=0;i<r.length;i++){var o=r[i],a=null;o.type&&o.type.toLowerCase()=="hidden"&&(a=o),a||(a=o.querySelector("input")),a||(a=o.querySelector("select"));var s=o.querySelector("label");s&&(a.value||a.type=="select-one"&&a.selectedOptions&&a.selectedOptions.length&&a.selectedOptions[0].value==""&&a.selectedOptions[0].innerHTML)&&s.classList.add("hasval"),a.type.toLowerCase()!="checkbox"&&a.addEventListener("focus",function(){this.classList.remove("bft-validation-error");var l=this.parentNode.querySelector("label");l.classList.add("focused");var c=l.querySelector(".bft-validation-error-message");c&&c.parentNode.removeChild(c)}),a.type.toLowerCase()!="checkbox"&&a.addEventListener("blur",function(){e.input.blurHandler(this)})}},e.input.blurHandler=function(t){var r=t.parentNode.querySelector("label");r.classList.remove("focused"),t.value||t.type=="date"?r.classList.add("hasval"):r.classList.remove("hasval")},e.input.validate=function(t){var r=null;t.type&&t.type.toLowerCase()=="hidden"&&(r=t),r||(r=t.querySelector("input")),r||(r=t.querySelector("select"));var i=t.querySelector("label");if(r.classList.remove("bft-validation-error"),i){var o=i.querySelector(".bft-validation-error-message");o&&o.parentNode.removeChild(o)}!r.selectedOptions&&r.value&&(r.value=r.value.trim());var a=t.getAttribute("data-v-required"),s=t.getAttribute("data-v-password"),l=t.getAttribute("data-v-email"),c=t.getAttribute("data-v-emails");return a&&r.value==""?(i.innerHTML+='<span class="bft-validation-error-message">&nbsp;'+a+"</span>",r.classList.add("bft-validation-error"),!1):s&&!e.input.validatePassword(r.value)?(i.innerHTML+='<span class="bft-validation-error-message">&nbsp;'+s+"</span>",r.classList.add("bft-validation-error"),!1):l&&!e.input.isValidEmail(r.value)?(i.innerHTML+='<span class="bft-validation-error-message">&nbsp;'+l+"</span>",r.classList.add("bft-validation-error"),!1):!(c&&!e.input.isValidEmails(r.value))||(i.innerHTML+='<span class="bft-validation-error-message">&nbsp;'+c+"</span>",r.classList.add("bft-validation-error"),!1)},e.input.validateAndGetData=function(t){for(var r=t.querySelectorAll("[data-bft-input]"),i=!0,o=0;o<r.length;o++){var a=r[o];e.input.validate(a)||(i=!1)}if(!i)return!1;var s=t.querySelectorAll("[data-binding]"),l={};for(o=0;o<s.length;o++){var c=s[o],d=c.getAttribute("data-binding");if(c.type.toLowerCase()=="checkbox")l[d]=c.checked;else if(c.selectedOptions&&c.hasAttribute("multiple")){var f=c.selectedOptions;l[d]=Array.from(f).map(({value:u})=>u)}else l[d]=c.value}return l},e.input.validatePassword=function(t){return t&&(t=t.trim()),!(t.length<5)&&!(t.length>18)&&t.indexOf(" ")==-1},e.input.isValidEmails=function(t){if(t)for(var r=t.split(","),i=0;i<r.length;i++){var o=r[i].trim();if(!e.input.isValidEmail(o))return!1}return!0},e.input.isValidEmail=function(t){return t&&(t=t.trim()),/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t).toLowerCase())},e.prototype.hideTreeMenu=function(t,r){if(this._tree_menu_temp){var i=this._tree_menu_temp;if(this.manager.oldNodes=this.nodes,this.nodes=i.nodes,this.manager.maxX=i.maxX,this.manager.maxY=i.maxY,this.manager.minX=i.minX,this.manager.minY=i.minY,this.manager.roots=i.roots,this.manager.nodes=i.nodes,this.manager.rootList=i.rootList,this.manager.visibleNodeIds=i.visibleNodeIds,this.manager.bordersByRootIdAndLevel=i.bordersByRootIdAndLevel,this.config.roots=i.config.roots,this.config.nodes=i.config.nodes,this._tree_menu_temp=null,t){var o={id:i.id,animFromClickedNode:!1};this._draw(!0,e.action.update,o,function(){r&&r()})}}},e.prototype.showTreeMenu=function(t){this.editUI.hide(),t==null&&console.error("Call addNode without id");var r=this.getNode(t);r||console.error("Cannot get node id: "+t);var i=this.getNode(r.fid),o=this.getNode(r.mid),a=null,s=null,l=[],c=[];i&&(a=this.get(i.id)),o&&(s=this.get(o.id));for(var d=0;d<r.pids.length;d++){var f=this.get(r.pids[d]);f&&l.push(f)}for(d=0;d<r.ftChildrenIds.length;d++)c.push(this.get(r.ftChildrenIds[d]));var u=this.get(t);this._tree_menu_temp={maxX:this.manager.maxX,maxY:this.manager.maxY,minX:this.manager.minX,minY:this.manager.minY,roots:this.manager.roots,nodes:this.manager.nodes,rootList:this.manager.rootList,visibleNodeIds:this.manager.visibleNodeIds,bordersByRootIdAndLevel:this.manager.bordersByRootIdAndLevel,id:t,config:{roots:this.config.roots,nodes:this.config.nodes}},this.config.nodes=[];var p=[];if(s)p.push(s);else{var g={id:"_ft_mother",templateName:"mother",_ft_method:"addParentNode",_ft_childId:t,_ft_type:"mid",_ft_data:{gender:"female"}};u.mid=g.id,a?(a.pids=[g.id],g.pids=[a.id],g._ft_data.pids=[a.id]):g.pids=["_ft_father"],p.push(g)}if(a)p.push(a);else{var m={id:"_ft_father",templateName:"father",_ft_method:"addParentNode",_ft_childId:t,_ft_type:"fid",_ft_data:{gender:"male"}};u.fid=m.id,s?(s.pids=[m.id],m.pids=[s.id],m._ft_data.pids=[s.id]):m.pids=["_ft_mother"],p.push(m)}for(d=0;d<l.length;d++)p.push(l[d]);u.pids||(u.pids=[]);var w={id:"_ft_partner",pids:[t],templateName:"partner",_ft_method:"addPartnerNode",_ft_data:{pids:[t]}};if(u.gender=="male"?(w.templateName="wife",w._ft_data.gender="female"):u.gender=="female"&&(w.templateName="husband",w._ft_data.gender="male"),u.pids.push(w.id),p.push(w),u.pids)for(d=0;d<u.pids.length;d++){if(p.push({id:"_ft_child_group_"+d,mid:t,fid:u.pids[d],tags:["children-group"]}),u.pids[d]=="_ft_partner"){var y={id:"_ft_son_"+d,stpid:"_ft_child_group_"+d,templateName:"son",_ft_method:"addChildAndPartnerNodes",_ft_childData:{mid:r.id,fid:w.id,gender:"male"},_ft_partnerData:{pids:[t]},_ft_id:t},x={id:"_ft_daughter_"+d,stpid:"_ft_child_group_"+d,templateName:"daughter",_ft_method:"addChildAndPartnerNodes",_ft_childData:{mid:r.id,fid:w.id,gender:"female"},_ft_partnerData:{pids:[t]},_ft_id:t};u.gender=="male"&&w._ft_data.gender=="female"?(y._ft_childData.mid=w.id,y._ft_childData.fid=u.id,y._ft_partnerData.gender=w._ft_data.gender,x._ft_childData.mid=w.id,x._ft_childData.fid=u.id,x._ft_partnerData.gender=w._ft_data.gender):u.gender=="female"&&w._ft_data.gender=="male"&&(y._ft_childData.mid=u.id,y._ft_childData.fid=w.id,y._ft_partnerData.gender=w._ft_data.gender,x._ft_childData.mid=u.id,x._ft_childData.fid=w.id,x._ft_partnerData.gender=w._ft_data.gender),p.push(y),p.push(x)}else p.push({id:"_ft_son_"+d,stpid:"_ft_child_group_"+d,templateName:"son",_ft_method:"addChildNode",_ft_data:{mid:t,fid:u.pids[d],gender:"male"}}),p.push({id:"_ft_daughter_"+d,stpid:"_ft_child_group_"+d,templateName:"daughter",_ft_method:"addChildNode",_ft_data:{mid:t,fid:u.pids[d],gender:"female"}});for(var v=0;v<c.length;v++)c[v].mid!=u.pids[d]&&c[v].fid!=u.pids[d]||(c[v].mid=void 0,c[v].fid=void 0,c[v].stpid="_ft_child_group_"+d,p.push(c[v]))}var S=[];for(v=0;v<c.length;v++)(c[v].fid==u.id&&e.isNEU(c[v].mid)||c[v].mid==u.id&&e.isNEU(c[v].fid))&&(c[v].fid==u.id?c[v].mid="_ft_partner_for_single_child":c[v].mid==u.id&&(c[v].fid="_ft_partner_for_single_child"),p.push(c[v]),S.push(c[v].id));if(S.length){var _={id:"_ft_partner_for_single_child",pids:[t],templateName:"partner",_ft_method:"addPartnerAndParentNodes",_ft_childIds:S,_ft_partnerData:{pids:[t]},_ft_id:t};u.gender=="male"?(_.templateName="wife",_._ft_partnerData.gender="female"):u.gender=="female"&&(_.templateName="husband",_._ft_partnerData.gender="male"),u.pids.push(_.id),p.push(_)}var b={nodes:p,node:u};e.events.publish("node-tree-menu-show",[this,b]),b.nodes.push(b.node),this.config.nodes=b.nodes,u=this.get(t);var C=this;e.isNEU(u.mid)?e.isNEU(u.fid)||(this.config.roots=[u.fid]):this.config.roots=[u.mid];var N={id:t,treeMenuMode:!0};this._draw(!1,e.action.update,N,function(){e._moveToBoundaryArea(C.getSvg(),C.getViewBox(),C.response.boundary)})},e.ui.css=function(){return'<style data-bft-styles>.bft-button{background-color:#039be5;cursor:pointer;width:calc(100%);height:50px;color:#fff;padding-top:5px;padding-left:7px;padding-right:7px;text-align:center;text-transform:uppercase;border:1px solid #3fc0ff;display:inline-block;border-radius:5px}.bft-button.orange{background-color:#f57c00;border:1px solid #ffa03e}.bft-button.yellow{background-color:#ffca28;border:1px solid #ffdf7c}.bft-button.lower{text-transform:unset}.bft-button.transparent{background-color:transparent}.bft-button:hover{background-color:#35afea}.bft-button.orange:hover{background-color:#f79632}.bft-button.yellow:hover{background-color:#ffd452}.bft-button:active{transform:matrix(.98,0,0,.98,0,0)}.bft-button-icon{text-align:initial;cursor:pointer;margin-bottom:15px;color:#039be5}.bft-dark .bft-button-icon:hover{background-color:#2d2d2d}.bft-light .bft-button-icon:hover{background-color:#ececec}.bft-button-icon>img{height:24px;width:24px;vertical-align:middle;padding:7px}.bft-button:focus{outline:0}.bft-button-icon>img{filter:invert(46%) sepia(66%) saturate(2530%) hue-rotate(171deg) brightness(95%) contrast(98%)}.bft-light .bft-button.transparent{color:#039be5}.bft-light .bft-button.transparent:hover{color:#fff}.bft-button-loading{background-color:transparent;cursor:pointer;width:calc(100% - 2px);height:50px;color:#fff;text-align:center;text-transform:uppercase;border:1px solid #027cb7;display:inline-block;display:flex;justify-content:center;align-items:center;display:none}.bft-button-loading .bft-loading-dots div{margin:0 10px}.bft-link-bft-button{position:absolute;right:10px;top:-1px}@media screen and (max-width:1000px){.bft-link-bft-button{right:50px}}[data-bft-input-disabled] .bft-link-bft-button{display:none}[dir=rtl] .bft-link-bft-button{left:10px;right:unset}.bft-img-button{width:48px;height:48px;cursor:pointer;border-radius:50%;background-color:#039be5;background-repeat:no-repeat;background-size:24px 24px;background-position:center center;margin:3px;display:inline-block}.bft-img-button:hover{background-color:#f57c00}.bft-checkbox{display:block;position:relative;padding-left:35px;margin-bottom:12px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap}.bft-checkbox input{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.bft-checkbox-checkmark{position:absolute;top:0;left:0;height:25px;width:25px;border-radius:5px}.bft-dark [data-bft-input-disabled] .bft-checkbox-checkmark,.bft-dark [data-bft-input-disabled].bft-checkbox input:checked~.bft-checkbox-checkmark,.bft-light [data-bft-input-disabled] .bft-checkbox-checkmark,.bft-light [data-bft-input-disabled].bft-checkbox input:checked~.bft-checkbox-checkmark{background-color:#aeaeae!important}[data-bft-input-disabled].bft-checkbox{cursor:default}[dir=rtl] .bft-checkbox-checkmark{right:0}[dir=rtl] .bft-checkbox{padding-left:unset;padding-right:35px}.bft-dark .bft-checkbox-checkmark{background-color:#333;border:1px solid #5b5b5b}.bft-light .bft-checkbox-checkmark{background-color:#fff;border:1px solid #c7c7c7}.bft-dark .bft-checkbox:hover input~.bft-checkbox-checkmark{background-color:#3c3c3c}.bft-light .bft-checkbox:hover input~.bft-checkbox-checkmark{background-color:#f8f9f9}.bft-dark .bft-checkbox input:checked~.bft-checkbox-checkmark{background-color:#039be5}.bft-light .bft-checkbox input:checked~.bft-checkbox-checkmark{background-color:#039be5}.bft-checkbox-checkmark:after{content:"";position:absolute;display:none}.bft-checkbox input:checked~.bft-checkbox-checkmark:after{display:block}.bft-checkbox .bft-checkbox-checkmark:after{left:9px;top:5px;width:5px;height:10px;border:solid #fff;border-width:0 3px 3px 0;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}.bft-filter{user-select:none}.bft-light .bft-filter{color:#757575}.bft-dark .bft-filter{color:#ccc}.bft-filter>div>div{display:inline-block;padding:3px 10px;cursor:pointer}.bft-filter-menu fieldset,.bft-filter>div,.filter-field-selected{border-radius:5px}.bft-filter-menu fieldset{overflow-y:auto;max-height:300px}.bft-filter>div.bft-filter-menu{padding:10px}.bft-light .bft-filter>div.bft-filter-menu,.bft-light .filter-field-selected{background-color:#f8f9f9}.bft-dark .bft-filter>div.bft-filter-menu,.bft-dark .filter-field-selected{background-color:#3c3c3c}.bft-light .bft-filter>div{background-color:#eee}.bft-dark .bft-filter>div{background-color:#333}.bft-form-perspective{transform-style:preserve-3d;perspective:500px;position:absolute;top:32px}.bft-form{box-shadow:rgba(0,0,0,.2) 0 6px 6px 0,rgba(0,0,0,.19) 0 13px 20px 0;padding:14px;transform-origin:top center;user-select:none;display:none;position:relative;max-height:calc(100vh - 100px);overflow-y:auto;border-bottom-left-radius:5px;border-bottom-right-radius:5px}.bft-form-bottom{border-bottom-left-radius:unset;border-bottom-right-radius:unset;border-top-left-radius:5px;border-top-right-radius:5px}.bft-form .separator{margin:0 10px}@media screen and (max-width:1000px){.bft-form-perspective{min-width:100%;max-height:calc(100% - 32px);left:unset!important;right:unset!important;transform:none!important}.bft-form .set{max-height:calc(100vh - 74px)}.bft-form-fieldset{max-width:unset!important}}.bft-light .bft-form .separator{border-bottom:1px solid #c7c7c7}.bft-dark .bft-form .separator{border-bottom:1px solid #5b5b5b}.bft-light .bft-form{background-color:#fff}.bft-dark .bft-form{background-color:#252526}.bft-item{padding:6px 12px 6px 12px;display:flex;flex-direction:row}.bft-light .bft-form .bft-item.selected,.bft-light .bft-form .bft-item:hover{background-color:#0074e8;color:#fff}.bft-dark .bft-form .bft-item.selected,.bft-dark .bft-form .bft-item:hover{background-color:#094771;color:#fff}.bft-item.selected img,.bft-item:hover img{filter:invert(100%)}.bft-item.selected img{visibility:visible!important}.bft-form-fieldset{display:flex;flex-wrap:wrap;margin:0!important}.bft-form-field{flex:1 0 21%;margin:3px;min-width:200px}.bft-form-field-100{flex:1 0 96%;margin:3px;min-width:200px}.bft-input{position:relative}.bft-input>input,.bft-input>select{height:50px;padding:18px 10px 2px 9px;width:100%;box-sizing:border-box;border-style:solid;border-width:1px}.bft-input select{height:50px;padding:20px 5px 4px 5px}[data-bft-input-disabled].bft-input>input,[data-bft-input-disabled].bft-input>select{border-color:transparent!important}.bft-light [data-bft-input-disabled]>input,.bft-light [data-bft-input-disabled]>select{background-color:#fff!important}.bft-dark [data-bft-input-disabled]>input,.bft-dark [data-bft-input-disabled]>select{background-color:#252526!important}[data-bft-input-disabled]>select{appearance:none;padding-left:8px}.bft-input>label{display:inline-block;position:absolute;padding-left:10px;padding-right:10px;color:#acacac;cursor:text;-webkit-transition:all .1s ease-out;-moz-transition:all .1s ease-out;-ms-transition:all .1s ease-out;-o-transition:all .1s ease-out;transition:all .1 ease-out;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:initial;text-align:initial;white-space:nowrap}.bft-input>label{top:12px;overflow:hidden;text-overflow:ellipsis;max-width:calc(100% - 14px)}.bft-input>label.focused,.bft-input>label.hasval{top:-1px}.bft-input>input,.bft-input>select{outline:0;border-radius:5px}.bft-dark .bft-input>label.focused,.bft-light .bft-input>label.focused{color:#039be5}.bft-dark .bft-input>input,.bft-dark .bft-input>select{color:#ccc;background-color:#333;border-color:#5b5b5b}.bft-light .bft-input>input,.bft-light .bft-input>select{color:#757575;background-color:#fff;border-color:#c7c7c7}.bft-light .bft-input>input:focus,.bft-light .bft-input>select:focus{border-color:#039be5;background-color:#f8f9f9}.bft-dark .bft-input>input:focus,.bft-dark .bft-input>select:focus{border-color:#039be5;background-color:#3c3c3c}.bft-dark .bft-input>input.bft-validation-error,.bft-dark .bft-input>select.bft-validation-error,.bft-light .bft-input>input.bft-validation-error,.bft-light .bft-input>select.bft-validation-error{border-color:#ca2a2a}.bft-dark .bft-validation-error-message,.bft-light .bft-validation-error-message{color:#ca2a2a}.bft-input select.multiple{height:initial}.bft-link{color:#039be5;cursor:pointer;text-decoration:underline}.bft-link:hover{color:#f57c00}.bft-dark ::-webkit-scrollbar,.bft-light ::-webkit-scrollbar{width:15px;height:15px}.bft-dark ::-webkit-scrollbar-corner{background:#1e1e1e}.bft-dark ::-webkit-scrollbar-track{background:#1e1e1e;border-left:1px solid #333;border-top:1px solid #333}.bft-dark ::-webkit-scrollbar-thumb{background:#424242}.bft-dark ::-webkit-scrollbar-thumb:hover{background:#4f4f4f}.bft-dark ::-webkit-scrollbar-thumb:active{background:#5e5e5e}.bft-light ::-webkit-scrollbar-corner{background:#fff}.bft-light ::-webkit-scrollbar-track{background:#fff;border-left:1px solid #ddd;border-top:1px solid #ddd}.bft-light ::-webkit-scrollbar-thumb{background:#c1c1c1}.bft-light ::-webkit-scrollbar-thumb:hover{background:#929292}.bft-light ::-webkit-scrollbar-thumb:active{background:#666}.bft-edit-form{position:fixed;top:0;right:0;height:100%;width:100%;box-shadow:rgba(0,0,0,.2) 0 6px 6px 0,rgba(0,0,0,.19) 0 13px 20px 0;display:flex;flex-direction:column;height:100%;width:400px}@media screen and (max-width:1000px){.bft-edit-form{width:100%}}.bft-dark .bft-edit-form{background-color:#252526}.bft-light .bft-edit-form{background-color:#fff}.bft-edit-form-header{height:200px;text-align:center;border-radius:10px}.export-service .bft-edit-form-header{border-radius:unset}.bft-edit-form-title{color:#fff;margin:0;padding:14px 17px 7px 17px}.bft-edit-form-avatar{border-radius:50%;width:150px;height:150px;position:absolute;top:75px;border:5px solid #fff;left:50%;transform:translateX(-50%);background-color:#cacaca;box-shadow:rgba(0,0,0,.2) 0 6px 6px 0,rgba(0,0,0,.19) 0 13px 20px 0}.bft-edit-form-close{position:absolute;right:14px;top:14px;width:34px;height:34px;cursor:pointer}.bft-edit-form-fields{flex-grow:1;overflow-y:auto;overflow-x:hidden}.bft-edit-form-fields-inner{margin:0 7px 20px 7px}.bft-family-menu{opacity:0;display:inline-block;position:absolute;text-align:left;user-select:none;min-width:270px;box-shadow:rgba(0,0,0,.2) 0 4px 8px 0,rgba(0,0,0,.19) 0 6px 20px 0;font:13px/28px Helvetica,"Segoe UI",Arial,sans-serif;border-radius:10px}.bft-family-menu>div:hover img{filter:invert(100%)}.bft-family-menu [data-item]{text-align:start;padding:7px 10px}.bft-dark .bft-family-menu [data-item]{background-color:#252526;color:#acacac;border-bottom:1px solid #333}.bft-dark .bft-family-menu [data-item]:hover{background-color:#094771!important;color:#fff!important}.bft-dark .bft-family-menu [data-item]:hover svg{filter:brightness(0) invert(1)}.bft-light .bft-family-menu [data-item]{background-color:#fff;color:#333;border-bottom:1px solid #c7c7c7}.bft-light .bft-family-menu [data-item]:hover{background-color:#0074e8!important;color:#fff!important}.bft-light .bft-family-menu [data-item]:hover svg{filter:brightness(0) invert(1)}.bft-family-menu [data-item] svg{vertical-align:middle}.bft-family-menu [data-item]:first-child{border-top-left-radius:7px;border-top-right-radius:7px}.bft-family-menu [data-item]:last-child{border-bottom-width:0;border-bottom-style:none;border-bottom-left-radius:7px;border-bottom-right-radius:7px}.bft-search{position:absolute}@media screen and (max-width:500px){.bft-search{width:calc(100% - 30px);left:15px}}.bft-search .bft-input{margin-bottom:0}.bft-search-input{color:#7a7a7a;width:100%;border:none;outline:0;padding-top:10px;padding-right:47px}.bft-search-image-td{width:43px}.bft-search-text-td{padding-inline-end:7px;line-height:15px;text-align:start}.bft-search table{box-shadow:rgba(0,0,0,.2) 0 4px 8px 0,rgba(0,0,0,.19) 0 6px 20px 0;margin:0 3.5px 0 3.5px;width:calc(100% - 7px);border-radius:7px}.bft-search table tr:first-child td:first-child{border-top-left-radius:7px}.bft-search table tr:first-child td:last-child{border-top-right-radius:7px}[dir=rtl] .bft-search table tr:first-child td:first-child{border-top-left-radius:unset;border-top-right-radius:7px}[dir=rtl] .bft-search table tr:first-child td:last-child{border-top-right-radius:unset;border-top-left-radius:7px}.bft-search table tr:last-child td:first-child{border-bottom-left-radius:7px}.bft-search table tr:last-child td:last-child{border-bottom-right-radius:7px}[dir=rtl] .bft-search table tr:last-child td:first-child{border-bottom-left-radius:unset;border-bottom-right-radius:7px}[dir=rtl] .bft-search table tr:last-child td:last-child{border-bottom-right-radius:unset;border-bottom-left-radius:7px}.bft-dark .bft-search table{background-color:#252526;color:#acacac}.bft-search [data-search-item-id]{cursor:pointer}.bft-search-photo{margin:7px 7px 0 7px;width:32px;height:32px;background-size:cover;background-position:top center;border-radius:50%;display:inline-block;border:1px solid #8c8c8c}.bft-search [data-search-item-id]:hover .bft-link{color:#ffca28}.bft-search [data-search-item-id]:hover .bft-link:hover{color:#f57c00}.bft-dark .bft-search [data-search-item-id] td{border-top:1px solid #333}.bft-dark .bft-search [data-search-item-id]:hover,.bft-dark .bft-search [data-selected=yes]{background-color:#094771;color:#fff}.bft-light .bft-search table{background-color:#fff;color:#333}.bft-light .bft-search [data-search-item-id] td{border-top:1px solid #c7c7c7}.bft-light .bft-search [data-search-item-id]:hover,.bft-light .bft-search [data-selected=yes]{background-color:#0074e8;color:#fff}.bft-search [data-search-item-id]:first-child td{border-top:unset}.bft-ripple-container{position:absolute;top:0;right:0;bottom:0;left:0}.bft-drag-over rect{opacity:.5}.bft-ripple-container span{transform:scale(0);border-radius:100%;position:absolute;opacity:.75;background-color:#fff;animation:bft-ripple 1s}@-moz-keyframes bft-ripple{to{opacity:0;transform:scale(2)}}@-webkit-keyframes bft-ripple{to{opacity:0;transform:scale(2)}}@-o-keyframes bft-ripple{to{opacity:0;transform:scale(2)}}@keyframes bft-ripple{to{opacity:0;transform:scale(2)}}.bft-slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#ccc;-webkit-transition:.4s;transition:.4s}.bft-slider:before{position:absolute;content:"";height:16px;width:16px;left:4px;bottom:4px;background-color:#fff;-webkit-transition:.4s;transition:.4s}.bft-slider.round{border-radius:24px}.bft-slider.round:before{border-radius:50%}svg text:hover{cursor:default}svg.bft-cursor-grab,svg.bft-cursor-grab text:hover{cursor:grab}svg.bft-cursor-nodrop,svg.bft-cursor-nodrop text:hover{cursor:no-drop}svg.bft-cursor-copy,svg.bft-cursor-copy text:hover{cursor:copy}svg.bft-cursor-move,svg.bft-cursor-move text:hover{cursor:move}#bft-close-btn:focus,#bft-close-btn:hover{color:#000;text-decoration:none;cursor:pointer}#bft-id-select:focus{outline:.5px solid #aeaeae}#bft-sampleDialog #title:hover{cursor:default;background:gray}.bft-light{background-color:#fff;font:13px/28px Helvetica,"Segoe UI",Arial,sans-serif}.bft-dark{background-color:#1e1e1e;font:13px/28px Helvetica,"Segoe UI",Arial,sans-serif}.bft-light .bft-fill{fill:#fff}.bft-dark .bft-fill{fill:#1e1e1e}.bft-dark input,.bft-dark select,.bft-light input,.bft-light select{font:16px Helvetica,"Segoe UI",Arial,sans-serif}.bft-dark h1,.bft-light h1{font-size:30px;line-height:1}.bft-edit-form{position:absolute;border-radius:10px}.export-service .bft-edit-form{border-radius:unset}.bft-dark .bft-edit-form{color:#acacac}.bft-light .bft-edit-form{color:#333}.bft-dark ::-webkit-calendar-picker-indicator{filter:invert(70%)}.bft-light ::-webkit-calendar-picker-indicator{filter:invert(50%)}.bft-edit-form-instruments{margin:42px 10px 0 10px;text-align:center;min-height:70px}.bft-img-button svg{position:relative;top:12px}.bft-light .bft-toolbar-container svg circle,.bft-light .bft-toolbar-container svg line,.bft-light .bft-toolbar-container svg path{stroke:#8c8c8c!important}.bft-dark .bft-toolbar-container svg circle,.bft-dark .bft-toolbar-container svg line,.bft-dark .bft-toolbar-container svg path{stroke:#8c8c8c!important}.bft-dark .bft-toolbar-container svg rect{fill:#252526!important}.bft-dark .bft-toolbar-container [data-tlbr=minus] svg{border-left:1px solid #5b5b5b!important;border-right:1px solid #5b5b5b!important;border-bottom:1px solid #5b5b5b!important}.bft-dark .bft-toolbar-container [data-tlbr=plus] svg{border-left:1px solid #5b5b5b!important;border-right:1px solid #5b5b5b!important;border-top:1px solid #5b5b5b!important}.bft-dark .bft-toolbar-container [data-tlbr]>svg{border:1px solid #5b5b5b!important;background-color:#252526!important}.bft-toolbar-layout{height:123px;padding-top:20px;position:absolute;width:100%;left:"0";bottom:"-145px"}.bft-light .bft-toolbar-layout{border-top:1px solid #c7c7c7;background-color:#f9f9f9}.bft-dark .bft-toolbar-layout{border-top:1px solid #5b5b5b;background-color:#2b2b2b}.bft-dotted-connector path{stroke-dasharray:7}.bft-undo-redo{position:absolute;top:23px;left:23px}@media screen and (max-width:500px){.bft-undo-redo{position:absolute;top:83px;left:23px}}.bft-light .bft-undo-redo path{fill:#cacaca}.bft-dark .bft-undo-redo path{fill:#5b5b5b}.bft-light .bft-undo-redo .bft-ur-clickable path{fill:#9c9c9c}.bft-dark .bft-undo-redo .bft-ur-clickable path{fill:#8c8c8c}.bft-undo-redo .bft-ur-clickable rect{cursor:pointer}.bft-undo-redo>span{position:relative;display:inline-block;user-select:none}.bft-undo-redo .bft-undo-i{left:-6px;top:-6px}.bft-undo-redo .bft-redo-i{right:-6px;bottom:6px}.bft-undo-redo>span>span{color:#fff;position:absolute;display:inline-block;min-width:20px;min-height:20px;border-radius:50%;line-height:20px;text-align:center;padding:1px;user-select:none;cursor:pointer}.bft-light .bft-undo-redo>span>span{background-color:#9c9c9c}.bft-dark .bft-undo-redo>span>span{background-color:#8c8c8c}</style>'},e.events.on("render",function(t,r){if(t.recentRoots||(t.recentRoots=[]),t.config.roots)for(var i=0;i<t.config.roots.length;i++){var o=t.recentRoots.indexOf(t.config.roots[i]);o!=-1&&t.recentRoots.splice(o,1),t.recentRoots.unshift(t.config.roots[i])}}),e.events.on("show",function(t,r){if(t instanceof e.editUI&&t.obj._tree_menu_temp)return!1}),e.events.on("render-link",function(t,r){r.cnode.ppid!=null&&r.cnode.layout!=e.mixed&&(r.html+='<use xlink:href="#dot" x="'+r.p.xa+'" y="'+r.p.ya+'"/>')}),e.events.on("click",function(t,r){if(t instanceof e){var i=t._get(r.node.id);if(i._ft_method)return i._ft_method=="addParentNode"?t[i._ft_method](i._ft_childId,i._ft_type,i._ft_data,null,!0):i._ft_method=="addChildAndPartnerNodes"?t[i._ft_method](i._ft_id,i._ft_childData,i._ft_partnerData,null,!0):i._ft_method=="addPartnerAndParentNodes"?t[i._ft_method](i._ft_id,i._ft_childIds,i._ft_partnerData,null,!0):t[i._ft_method](i._ft_data,null,!0),!1;for(var o=r.event.target;o;){if(o.getAttribute&&(o.hasAttribute("data-ctrl-n-t-menu-id")||o.hasAttribute("data-ctrl-n-t-menu-c"))){var a=o.getAttribute("data-ctrl-n-t-menu-id");return e.isNEU(a)?t.hideTreeMenu(!0):t.showTreeMenu(a),r.event.stopPropagation(),r.event.preventDefault(),!1}o=o.parentNode}}}),e===void 0&&(e={}),e.prototype.onField=function(t){return this.on("field",function(r,i){return t.call(r,i)})},e.prototype.onInit=function(t){return this.on("init",function(r){return t.call(r)})},e.prototype.onRedraw=function(t){return this.on("redraw",function(r){return t.call(r)})},e.prototype.onUpdateNode=function(t){return this.on("update",function(r,i,o){var a={oldData:i,newData:o};return t.call(r,a)})},e.prototype.onUpdated=function(t){return this.on("updated",function(r){return t.call(r)})},e.prototype.onRemoveNode=function(t){return this.on("remove",function(r,i,o){var a={id:i,newPidsAndStpidsForIds:o};return t.call(r,a)})},e.prototype.onAddNode=function(t){return this.on("add",function(r,i){var o={data:i};return t.call(r,o)})},e.prototype.onDrop=function(t){return this.on("drop",function(r,i,o,a,s){var l={dragId:i,dropId:o,dragNodeElement:a,event:s};return t.call(r,l)})},e.prototype.onDrag=function(t){return this.on("drag",function(r,i,o,a){var s={dragId:i,event:o,nodeIds:a};return t.call(r,s)})},e.prototype.onExpandCollpaseButtonClick=function(t){return this.on("expcollclick",function(r,i,o,a){var s={collapsing:i,id:o,ids:a};return t.call(r,s)})},e.prototype.onExportStart=function(t){return this.on("exportstart",function(r,i){return t.call(r,i)})},e.prototype.onExportEnd=function(t){return this.on("exportend",function(r,i){return t.call(r,i)})},e.prototype.onNodeClick=function(t){return this.on("click",function(r,i){return t.call(r,i)})},e.prototype.onNodeDoubleClick=function(t){return this.on("dbclick",function(r,i){var o={data:i};return t.call(r,o)})},e.prototype.onUpdateNode=function(t){return this.on("update",function(r,i){return t.call(r,i)})},e.prototype.onNodeTreeMenuShow=function(t){return this.on("node-tree-menu-show",function(r,i){return t.call(r,i)})},e.prototype.onRemoveNode=null,e.prototype.onAddNode=null,e.filterUI=function(){},e.filterUI.prototype.init=function(t){this.instance=t,this.element=null,this.filterBy=null,this._event_id=e._guid()},e.filterUI.prototype.addFilterTag=function(t){if(!this.instance.config.filterBy||e.isNEU(t))return!1;if(this.filterBy!==null||typeof this.instance.config.filterBy!="object"||Array.isArray(this.instance.config.filterBy)||(this.filterBy=JSON.parse(JSON.stringify(this.instance.config.filterBy))),this.filterBy!=null)for(var r in this.filterBy){var i=t[r];if(i!=null){var o=this.filterBy[r];if(o!=null){var a=o[i];if(a!=null&&a.checked===!1)return!0}}}return!1},e.filterUI.prototype.show=function(t){var r=this.element.querySelector('[data-filter-field="'+t+'"]');r&&r.click()},e.filterUI.prototype.hide=function(){var t=this.instance.element.querySelector("[data-filter-close]");t&&t.click()},e.filterUI.prototype.update=function(){if(this.instance.config.filterBy){var t={};if(this.instance.config.filterBy=="all")for(var r=e.manager.getAllFields(this.instance.config),i=0;i<r.length;i++){var o=r[i];o!="tags"&&o!="id"&&o!="pid"&&o!="ppid"&&o!="stpid"&&(t[o]={})}else if(Array.isArray(this.instance.config.filterBy))for(i=0;i<this.instance.config.filterBy.length;i++)t[this.instance.config.filterBy[i]]={};else if(typeof this.instance.config.filterBy=="object")for(var a in this.instance.config.filterBy)t[a]={};for(var s in t){var l=t[s];for(i=0;i<this.instance.config.nodes.length;i++){var c=this.instance.config.nodes[i][s];c!=null&&(l[c]||(l[c]={checked:!0,text:c}))}}if(this.filterBy!=null){for(var d in t)if(this.filterBy[d])for(var f in t[d])this.filterBy[d][f]&&(t[d][f]=this.filterBy[d][f])}if(e.FILTER_ALPHABETICALLY){var u=Object.keys(t).sort(),p=t;for(t={},i=0;i<u.length;i++)t[g=u[i]]=p[g];for(var s in t)for(l=t[s],t[s]={},u=Object.keys(l).sort(),i=0;i<u.length;i++){var g=u[i];t[s][g]=l[g]}}this.filterBy=t;var m=this;this.element=this.instance.element.querySelector("[data-filter]"),this.element&&this.element.parentNode.removeChild(this.element),this.element=document.createElement("div"),this.element.setAttribute("data-filter",""),this.element.style.position="absolute",this.element.setAttribute("class","bft-filter"),this.instance.config.undoRedoStorageName?(this.element.style.top=0,this.element.style.left="50%",this.element.style.transform="translate(-50%)"):(this.element.style.top=this.instance.config.padding+"px",this.element.style.left=this.instance.config.padding+"px");var w="";for(var d in this.filterBy){var y={name:d,html:'<div data-filter-field="'.concat(d,'">').concat(d,"</div>")};e.events.publish("add-filter",[m,y]),w+=y.html}this.element.innerHTML="<div>".concat(w,"</div>"),this.element.addEventListener("click",function(x){if(x.target.hasAttribute("data-filter-close")||x.target.hasAttribute("data-filter-field")){for(var v=x.target.getAttribute("data-filter-field"),S=m.instance.element.querySelectorAll("[data-filter-menu]"),_=0;_<S.length;_++)S[_].style.display="none";var b=m.instance.element.querySelectorAll(".filter-field-selected");for(_=0;_<b.length;_++)b[_].classList.remove("filter-field-selected");var C=m.instance.element.querySelector("[data-filter-close]");if(C&&C.parentNode.removeChild(C),x.target.hasAttribute("data-filter-close")||!x.target.hasAttribute("data-filter-field"))return;var N=m.instance.element.querySelector('[data-filter-menu="'.concat(v,'"]'));if(!N){var I={name:v,text:e.filterUI.all,value:v,checked:!0,html:'<div>\n                        <input data-all type="checkbox" id="'.concat(v,'" name="').concat(v,'" checked>\n                        <label for="').concat(v,'">').concat(e.filterUI.all,"</label>\n                    </div>")};e.events.publish("add-item",[m,I]);var E=I.html;for(var A in m.filterBy[v]){var T=m.filterBy[v][A],P=T.text;P==null&&(P=A),I={name:v,text:P,value:A,checked:T.checked,html:'<div>\n                            <input  type="checkbox" id="'.concat(v,"_").concat(A,'" name="').concat(A,'" ').concat(T.checked?"checked":"",'>\n                            <label for="').concat(v,"_").concat(A,'">').concat(P,"</label>\n                        </div>")},e.events.publish("add-item",[m,I]),E+=I.html}N=document.createElement("div");var O=e.filterUI.textFilterBy;N.innerHTML="<fieldset>\n                                                    <legend>".concat(O," ").concat(v,":</legend>\n                                                    ").concat(E,"\n                                                </fieldset>"),N.setAttribute("data-filter-menu",v),N.classList.add("bft-filter-menu"),x.target.parentNode.parentNode.appendChild(N);var D=N.querySelectorAll("input");for(_=0;_<D.length;_++)D[_].addEventListener("change",function(W){for(var H=W.target;H&&!H.hasAttribute("data-filter-menu");)H=H.parentNode;if(H){var M=H.getAttribute("data-filter-menu");if(W.target.hasAttribute("data-all")){for(var L=W.target.parentNode.parentNode.querySelectorAll("input"),j=0;j<L.length;j++)if(L[j]!=W.target)for(var F in L[j].checked=W.target.checked,m.filterBy[M])m.filterBy[M][F].checked=W.target.checked}else if(m.filterBy[M][this.name]!=null&&(m.filterBy[M][this.name].checked=this.checked),this.checked){for(var q=m.instance.config.nodes,Y=0;Y<q.length;Y++)if(q[Y][M]==this.name){for(var K=q[Y];K;)if(e.isNEU(K.stpid))K=e.isNEU(K.pid)?null:m.instance._get(K.pid);else if((K=m.instance._get(K.stpid))[M]){var U=W.target.parentNode.parentNode.querySelector('[name="'+K[M]+'"]');U?(U.checked=this.checked,m.filterBy[M][K[M]].checked=this.checked):console.error('Cannot find element with selector: [name="'+K[M]+'"]')}}}m.instance.draw()}})}N.style.display="block",x.target.classList.add("filter-field-selected"),(C=document.createElement("div")).classList.add("close"),C.innerHTML="x",C.setAttribute("data-filter-close",""),x.target.parentNode.appendChild(C),e.events.publish("show-items",[m,{name:v}])}}),this.instance.element.appendChild(this.element),e.events.publish("update",[this,{}])}},e.filterUI.prototype.on=function(t,r){return e.events.on(t,r,this._event_id),this},e.filterUI.textFilterBy="Filter by",e.filterUI.all="[All]",e===void 0&&(e={}),e.remote===void 0&&(e.remote={}),e.LIMIT_NODES=!0,e.remote._fromResDTO=function(t,r,i,o,a){var s=r[t.id];t.x=s.p[0],t.y=s.p[1],t.w=s.p[2],t.h=s.p[3],s.ln!=null&&(t.leftNeighbor=a[s.ln]),s.rn!=null&&(t.rightNeighbor=a[s.rn]);for(var l=0;l<t.stChildren.length;l++)e.remote._fromResDTO(t.stChildren[l],r,i,o,a);for(l=0;l<t.children.length;l++)e.remote._fromResDTO(t.children[l],r,i,o,a)},e.remote._toReqDTO=function(t,r){var i={p:[t.id,t.parent!=null?t.parent.id:null,t.stParent!=null?t.stParent.id:null,t.w,t.h]};t.children.length>0&&(i.c=e.remote._convertToIdArray(t.children)),t.stChildren.length>0&&(i.v=e.remote._convertToIdArray(t.stChildren)),t.layout!=null&&t.layout!=0&&(i.l=t.layout),t.isAssistant&&(i.a=1),t.isSplit&&(i.s=t.isSplit),t.isMirror&&(i.im=t.isMirror),t.padding&&(i.q=t.padding),t.lcn&&(i.k=t.lcn),t.stContainerNodes&&(i.b=e.remote._convertToIdArray(t.stContainerNodes)),t.isPartner&&(i.i=t.isPartner),t.hasPartners&&(i.g=t.hasPartners),t.partnerSeparation&&(i.e=t.partnerSeparation),r.push(i);for(var o=0;o<t.stChildren.length;o++)e.remote._toReqDTO(t.stChildren[o],r);for(o=0;o<t.children.length;o++)e.remote._toReqDTO(t.children[o],r)},e.remote._toReqLayoutConfigsDTO=function(t){var r={};for(var i in t){var o=t[i];r[i]||(r[i]=[]),r[i][0]=o.orientation,r[i][1]=o.levelSeparation,r[i][2]=o.mixedHierarchyNodesSeparation,r[i][3]=o.subtreeSeparation,r[i][4]=o.siblingSeparation,r[i][5]=o.layout,r[i][6]=o.columns,r[i][7]=o.collapse,r[i][8]=o.assistantSeparation,r[i][9]=o.partnerNodeSeparation}return r},e.remote._convertToIdArray=function(t){for(var r=[],i=0;i<t.length;i++)r.push(t[i].id);return r},e.remote._setPositions=function(t,r,i,o){for(var a=[],s=[],l=e.remote._toReqLayoutConfigsDTO(r),c=0;c<t.length;c++)s.push(t[c].id),e.remote._toReqDTO(t[c],a);var d={n:a,c:l,r:s,v:"8.14.00"};if(e.LIMIT_NODES||(d.l=!0),e.remote._fromReqDTO!=null)e.remote._fromReqDTO(d.n,d.r,d.c,function(u){for(var p=0;p<t.length;p++)e.remote._fromResDTO(t[p],u,0,t,o);i()});else{d=JSON.stringify(d);var f=e.localStorage.getItem(d);f&&(f=JSON.parse(f)),f&&!f.limit?e.remote._proceed(t,f,o,i):e.remote._findRegion(function(u){e._ajax(u,"post",d,"json",function(p){p.error?i(2):(e.remote._proceed(t,p,o,i),e.localStorage.setItem(d,JSON.stringify(p)))})})}},e.remote._proceed=function(t,r,i,o){if(typeof r=="string"&&(r=JSON.parse(r)),r.limit&&r.limit==1)o(r.limit);else{for(var a=0;a<t.length;a++)e.remote._fromResDTO(t[a],r,0,t,i);o()}},e.remote._findRegion=function(t){var r=e.localStorage.getItem(e.FUNC_URL_NAME);if(r)t(r);else{for(var i=["defunc2","cusfunc2","bsfunc2","acfunc2","kcfunc2","safunc2","wifunc2"],o=[],a=0;a<i.length;a++)o.push(new XMLHttpRequest);for(a=0;a<i.length;a++)(function(){var s="https://"+i[a]+e.SERVER_PREFIX,l=o[a];l.onreadystatechange=function(){if(this.readyState==4&&this.status==200){e.localStorage.setItem(e.FUNC_URL_NAME,s),t(s);for(var c=0;c<o.length;c++)o[c].abort()}},l.open("GET",s,!0),l.send()})()}}})($2);var j_=$2.exports;const zt=x1(j_),d1="/src/assets/img/edit.svg",B_="/src/assets/img/add.svg",D_="/src/assets/img/addw.svg",z_=[{id:1,pids:[7,9],name:"Иван",surname:"Иванов",year:"1921",gender:"male",avatarUrl:"https://cdn.balkan.app/shared/2.jpg"},{id:9,pids:[1],name:"Султание",surname:"Иванова",year:"1925",gender:"female",avatarUrl:"https://cdn.balkan.app/shared/2.jpg"},{id:7,pids:[1],name:"Эльмаз",surname:"Иванова",year:"1925",gender:"female",avatarUrl:"https://cdn.balkan.app/shared/2.jpg"},{id:3,mid:7,fid:1,name:"Иван",surname:"Иванов",year:"1950",gender:"male",avatarUrl:"https://cdn.balkan.app/shared/2.jpg"},{id:2,mid:7,fid:1,name:"Мария",surname:"Иванова",year:"1955",gender:"female",avatarUrl:"https://cdn.balkan.app/shared/2.jpg"}];function F_({onSelectRelative:n,openAddMother:e,openEditFather:t}){const r=k.useRef(null),i=k.useRef(null),o=()=>{if(i.current){console.log("Уничтожение FamilyTree...");try{i.current.destroy()}catch(a){console.error("Ошибка при уничтожении FamilyTree:",a)}i.current=null}};return k.useEffect(()=>{if(!r.current)return;o(),zt.templates.myTemplate_male=Object.assign({},zt.templates.myTemplate),zt.templates.myTemplate_male.node='\n      <path class="node-shape" d="\n        M 0,0\n        H 220\n        A 16,16 0 0 1 236,16\n        V 112\n        A 16,16 0 0 1 220,128\n        H 130\n        v 0\n        l -20,20\n        l -20,-20\n        v 0\n        H 0\n        A 16,16 0 0 1 -16,112\n        V 16\n        A 16,16 0 0 1 0,0\n        z\n      "></path>\n      <g class="node-actions">\n        <image x="205" y="10" width="20" height="20" href="'.concat(d1,'" cursor="pointer" data-action="edit" />\n        <image x="103" y="120" width="15" height="15" href="').concat(B_,'" cursor="pointer" data-action="add" />\n      </g>\n    '),zt.templates.myTemplate_male.field_0='\n      <text class="user-name" x="120" y="55" text-anchor="start">\n        {val}\n      </text>\n    ',zt.templates.myTemplate_male.field_1='\n      <text class="user-year" x="120" y="75" text-anchor="start">\n        {val}\n      </text>\n    ',zt.templates.myTemplate_male.img_0='\n      <clipPath id="avatarClip">\n        <circle cx="45" cy="60" r="40"></circle>\n      </clipPath>\n      <image xlink:href="{val}" x="-5" y="0" width="100" height="100" clip-path="url(#avatarClip)" />\n    ',zt.templates.myTemplate_female=Object.assign({},zt.templates.myTemplate),zt.templates.myTemplate_female.node='\n      <path class="node-shape-women" d="\n        M 0,0\n        H 220\n        A 16,16 0 0 1 236,16\n        V 112\n        A 16,16 0 0 1 220,128\n        H 130\n        v 0\n        l -20,20\n        l -20,-20\n        v 0\n        H 0\n        A 16,16 0 0 1 -16,112\n        V 16\n        A 16,16 0 0 1 0,0\n        z\n      "></path>\n      <g class="node-actions">\n        <image x="205" y="10" width="20" height="20" href="'.concat(d1,'" cursor="pointer" data-action="edit" />\n        <image x="103" y="120" width="15" height="15" href="').concat(D_,'" cursor="pointer" data-action="add" />\n      </g>\n    '),zt.templates.myTemplate_female.field_0='\n      <text class="user-name" x="120" y="55" text-anchor="start">\n        {val}\n      </text>\n    ',zt.templates.myTemplate_female.field_1='\n      <text class="user-year" x="120" y="75" text-anchor="start">\n        {val}\n      </text>\n    ',zt.templates.myTemplate_female.img_0='\n      <clipPath id="avatarClip">\n        <circle cx="45" cy="60" r="40"></circle>\n      </clipPath>\n      <image xlink:href="{val}" x="-5" y="0" width="100" height="100" clip-path="url(#avatarClip)" />\n    ',zt.templates.myTemplate=Object.assign({},zt.templates.base),zt.templates.myTemplate.size=[220,140],zt.templates.myTemplate.node='<path class="node-shape" d="..."></path>';const a=new zt(r.current,{template:"myTemplate",nodes:z_,nodeBinding:{field_0:"name",field_1:"year",img_0:"avatarUrl"},mode:"light",toolbar:{layout:!1,fit:!1,zoom:!1},minPartnerSeparation:100,levelSeparation:100,siblingSeparation:100});return i.current=a,a.on("click",(s,l)=>{var f,u;const c=l==null?void 0:l.node,d=(u=(f=l==null?void 0:l.event)==null?void 0:f.target)==null?void 0:u.getAttribute("data-action");return c?d==="edit"?(console.log("Редактирование узла:",c.id),t()):d==="add"?(console.log("Добавление узла:",c.id),e()):(console.log("Выбран узел:",c),n(c.id)):console.warn("Узел не найден!"),!1}),()=>{o()}},[n,e,t]),h.jsx("div",{ref:r,style:{width:"100%",height:"100%"}})}function u1(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function xp(n,e){n===void 0&&(n={}),e===void 0&&(e={}),Object.keys(e).forEach(t=>{typeof n[t]>"u"?n[t]=e[t]:u1(e[t])&&u1(n[t])&&Object.keys(e[t]).length>0&&xp(n[t],e[t])})}const W2={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function $o(){const n=typeof document<"u"?document:{};return xp(n,W2),n}const H_={document:W2,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function kn(){const n=typeof window<"u"?window:{};return xp(n,H_),n}function U_(n){return n===void 0&&(n=""),n.trim().split(" ").filter(e=>!!e.trim())}function V_(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch(r){}try{delete e[t]}catch(r){}})}function Tu(n,e){return e===void 0&&(e=0),setTimeout(n,e)}function Hl(){return Date.now()}function $_(n){const e=kn();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function W_(n,e){e===void 0&&(e="x");const t=kn();let r,i,o;const a=$_(n);return t.WebKitCSSMatrix?(i=a.transform||a.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(s=>s.replace(",",".")).join(", ")),o=new t.WebKitCSSMatrix(i==="none"?"":i)):(o=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=o.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?i=o.m41:r.length===16?i=parseFloat(r[12]):i=parseFloat(r[4])),e==="y"&&(t.WebKitCSSMatrix?i=o.m42:r.length===16?i=parseFloat(r[13]):i=parseFloat(r[5])),i||0}function Ds(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function Y_(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function mn(){const n=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const r=t<0||arguments.length<=t?void 0:arguments[t];if(r!=null&&!Y_(r)){const i=Object.keys(Object(r)).filter(o=>e.indexOf(o)<0);for(let o=0,a=i.length;o<a;o+=1){const s=i[o],l=Object.getOwnPropertyDescriptor(r,s);l!==void 0&&l.enumerable&&(Ds(n[s])&&Ds(r[s])?r[s].__swiper__?n[s]=r[s]:mn(n[s],r[s]):!Ds(n[s])&&Ds(r[s])?(n[s]={},r[s].__swiper__?n[s]=r[s]:mn(n[s],r[s])):n[s]=r[s])}}}return n}function zs(n,e,t){n.style.setProperty(e,t)}function Y2(n){let{swiper:e,targetPosition:t,side:r}=n;const i=kn(),o=-e.translate;let a=null,s;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);const c=t>o?"next":"prev",d=(u,p)=>c==="next"&&u>=p||c==="prev"&&u<=p,f=()=>{s=new Date().getTime(),a===null&&(a=s);const u=Math.max(Math.min((s-a)/l,1),0),p=.5-Math.cos(u*Math.PI)/2;let g=o+p*(t-o);if(d(g,t)&&(g=t),e.wrapperEl.scrollTo({[r]:g}),d(g,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:g})}),i.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=i.requestAnimationFrame(f)};f()}function er(n,e){e===void 0&&(e="");const t=[...n.children];return n instanceof HTMLSlotElement&&t.push(...n.assignedElements()),e?t.filter(r=>r.matches(e)):t}function X_(n,e){const t=e.contains(n);return!t&&e instanceof HTMLSlotElement?[...e.assignedElements()].includes(n):t}function Ul(n){try{console.warn(n);return}catch(e){}}function Vl(n,e){e===void 0&&(e=[]);const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:U_(e)),t}function G_(n,e){const t=[];for(;n.previousElementSibling;){const r=n.previousElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function K_(n,e){const t=[];for(;n.nextElementSibling;){const r=n.nextElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function Vr(n,e){return kn().getComputedStyle(n,null).getPropertyValue(e)}function f1(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function q_(n,e){const t=[];let r=n.parentElement;for(;r;)t.push(r),r=r.parentElement;return t}function p1(n,e,t){const r=kn();return n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function cr(n){return(Array.isArray(n)?n:[n]).filter(e=>!!e)}let md;function Q_(){const n=kn(),e=$o();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function X2(){return md||(md=Q_()),md}let gd;function J_(n){let{userAgent:e}=n===void 0?{}:n;const t=X2(),r=kn(),i=r.navigator.platform,o=e||r.navigator.userAgent,a={ios:!1,android:!1},s=r.screen.width,l=r.screen.height,c=o.match(/(Android);?[\s\/]+([\d.]+)?/);let d=o.match(/(iPad).*OS\s([\d_]+)/);const f=o.match(/(iPod)(.*OS\s([\d_]+))?/),u=!d&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),p=i==="Win32";let g=i==="MacIntel";const m=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!d&&g&&t.touch&&m.indexOf("".concat(s,"x").concat(l))>=0&&(d=o.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),g=!1),c&&!p&&(a.os="android",a.android=!0),(d||u||f)&&(a.os="ios",a.ios=!0),a}function G2(n){return n===void 0&&(n={}),gd||(gd=J_(n)),gd}let vd;function Z_(){const n=kn(),e=G2();let t=!1;function r(){const s=n.navigator.userAgent.toLowerCase();return s.indexOf("safari")>=0&&s.indexOf("chrome")<0&&s.indexOf("android")<0}if(r()){const s=String(n.navigator.userAgent);if(s.includes("Version/")){const[l,c]=s.split("Version/")[1].split(" ")[0].split(".").map(d=>Number(d));t=l<16||l===16&&c<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),o=r(),a=o||i&&e.ios;return{isSafari:t||o,needPerspectiveFix:t,need3dFix:a,isWebView:i}}function eS(){return vd||(vd=Z_()),vd}function tS(n){let{swiper:e,on:t,emit:r}=n;const i=kn();let o=null,a=null;const s=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(o=new ResizeObserver(f=>{a=i.requestAnimationFrame(()=>{const{width:u,height:p}=e;let g=u,m=p;f.forEach(w=>{let{contentBoxSize:y,contentRect:x,target:v}=w;v&&v!==e.el||(g=x?x.width:(y[0]||y).inlineSize,m=x?x.height:(y[0]||y).blockSize)}),(g!==u||m!==p)&&s()})}),o.observe(e.el))},c=()=>{a&&i.cancelAnimationFrame(a),o&&o.unobserve&&e.el&&(o.unobserve(e.el),o=null)},d=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof i.ResizeObserver<"u"){l();return}i.addEventListener("resize",s),i.addEventListener("orientationchange",d)}),t("destroy",()=>{c(),i.removeEventListener("resize",s),i.removeEventListener("orientationchange",d)})}function nS(n){let{swiper:e,extendParams:t,on:r,emit:i}=n;const o=[],a=kn(),s=function(d,f){f===void 0&&(f={});const u=a.MutationObserver||a.WebkitMutationObserver,p=new u(g=>{if(e.__preventObserver__)return;if(g.length===1){i("observerUpdate",g[0]);return}const m=function(){i("observerUpdate",g[0])};a.requestAnimationFrame?a.requestAnimationFrame(m):a.setTimeout(m,0)});p.observe(d,{attributes:typeof f.attributes>"u"?!0:f.attributes,childList:e.isElement||(typeof f.childList>"u"?!0:f).childList,characterData:typeof f.characterData>"u"?!0:f.characterData}),o.push(p)},l=()=>{if(e.params.observer){if(e.params.observeParents){const d=q_(e.hostEl);for(let f=0;f<d.length;f+=1)s(d[f])}s(e.hostEl,{childList:e.params.observeSlideChildren}),s(e.wrapperEl,{attributes:!1})}},c=()=>{o.forEach(d=>{d.disconnect()}),o.splice(0,o.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",l),r("destroy",c)}var rS={on(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const i=t?"unshift":"push";return n.split(" ").forEach(o=>{r.eventsListeners[o]||(r.eventsListeners[o]=[]),r.eventsListeners[o][i](e)}),r},once(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function i(){r.off(n,i),i.__emitterProxy&&delete i.__emitterProxy;for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];e.apply(r,a)}return i.__emitterProxy=e,r.on(n,i,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const r=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[r](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(r=>{typeof e>"u"?t.eventsListeners[r]=[]:t.eventsListeners[r]&&t.eventsListeners[r].forEach((i,o)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&t.eventsListeners[r].splice(o,1)})}),t},emit(){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let e,t,r;for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return typeof o[0]=="string"||Array.isArray(o[0])?(e=o[0],t=o.slice(1,o.length),r=n):(e=o[0].events,t=o[0].data,r=o[0].context||n),t.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(c=>{c.apply(r,[l,...t])}),n.eventsListeners&&n.eventsListeners[l]&&n.eventsListeners[l].forEach(c=>{c.apply(r,t)})}),n}};function iS(){const n=this;let e,t;const r=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=r.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=r.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(Vr(r,"padding-left")||0,10)-parseInt(Vr(r,"padding-right")||0,10),t=t-parseInt(Vr(r,"padding-top")||0,10)-parseInt(Vr(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function oS(){const n=this;function e(E,A){return parseFloat(E.getPropertyValue(n.getDirectionLabel(A))||0)}const t=n.params,{wrapperEl:r,slidesEl:i,size:o,rtlTranslate:a,wrongRTL:s}=n,l=n.virtual&&t.virtual.enabled,c=l?n.virtual.slides.length:n.slides.length,d=er(i,".".concat(n.params.slideClass,", swiper-slide")),f=l?n.virtual.slides.length:d.length;let u=[];const p=[],g=[];let m=t.slidesOffsetBefore;typeof m=="function"&&(m=t.slidesOffsetBefore.call(n));let w=t.slidesOffsetAfter;typeof w=="function"&&(w=t.slidesOffsetAfter.call(n));const y=n.snapGrid.length,x=n.slidesGrid.length;let v=t.spaceBetween,S=-m,_=0,b=0;if(typeof o>"u")return;typeof v=="string"&&v.indexOf("%")>=0?v=parseFloat(v.replace("%",""))/100*o:typeof v=="string"&&(v=parseFloat(v)),n.virtualSize=-v,d.forEach(E=>{a?E.style.marginLeft="":E.style.marginRight="",E.style.marginBottom="",E.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(zs(r,"--swiper-centered-offset-before",""),zs(r,"--swiper-centered-offset-after",""));const C=t.grid&&t.grid.rows>1&&n.grid;C?n.grid.initSlides(d):n.grid&&n.grid.unsetSlides();let N;const I=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(E=>typeof t.breakpoints[E].slidesPerView<"u").length>0;for(let E=0;E<f;E+=1){N=0;let A;if(d[E]&&(A=d[E]),C&&n.grid.updateSlide(E,A,d),!(d[E]&&Vr(A,"display")==="none")){if(t.slidesPerView==="auto"){I&&(d[E].style[n.getDirectionLabel("width")]="");const T=getComputedStyle(A),P=A.style.transform,O=A.style.webkitTransform;if(P&&(A.style.transform="none"),O&&(A.style.webkitTransform="none"),t.roundLengths)N=n.isHorizontal()?p1(A,"width"):p1(A,"height");else{const D=e(T,"width"),W=e(T,"padding-left"),H=e(T,"padding-right"),M=e(T,"margin-left"),L=e(T,"margin-right"),j=T.getPropertyValue("box-sizing");if(j&&j==="border-box")N=D+M+L;else{const{clientWidth:F,offsetWidth:q}=A;N=D+W+H+M+L+(q-F)}}P&&(A.style.transform=P),O&&(A.style.webkitTransform=O),t.roundLengths&&(N=Math.floor(N))}else N=(o-(t.slidesPerView-1)*v)/t.slidesPerView,t.roundLengths&&(N=Math.floor(N)),d[E]&&(d[E].style[n.getDirectionLabel("width")]="".concat(N,"px"));d[E]&&(d[E].swiperSlideSize=N),g.push(N),t.centeredSlides?(S=S+N/2+_/2+v,_===0&&E!==0&&(S=S-o/2-v),E===0&&(S=S-o/2-v),Math.abs(S)<1/1e3&&(S=0),t.roundLengths&&(S=Math.floor(S)),b%t.slidesPerGroup===0&&u.push(S),p.push(S)):(t.roundLengths&&(S=Math.floor(S)),(b-Math.min(n.params.slidesPerGroupSkip,b))%n.params.slidesPerGroup===0&&u.push(S),p.push(S),S=S+N+v),n.virtualSize+=N+v,_=N,b+=1}}if(n.virtualSize=Math.max(n.virtualSize,o)+w,a&&s&&(t.effect==="slide"||t.effect==="coverflow")&&(r.style.width="".concat(n.virtualSize+v,"px")),t.setWrapperSize&&(r.style[n.getDirectionLabel("width")]="".concat(n.virtualSize+v,"px")),C&&n.grid.updateWrapperSize(N,u),!t.centeredSlides){const E=[];for(let A=0;A<u.length;A+=1){let T=u[A];t.roundLengths&&(T=Math.floor(T)),u[A]<=n.virtualSize-o&&E.push(T)}u=E,Math.floor(n.virtualSize-o)-Math.floor(u[u.length-1])>1&&u.push(n.virtualSize-o)}if(l&&t.loop){const E=g[0]+v;if(t.slidesPerGroup>1){const A=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/t.slidesPerGroup),T=E*t.slidesPerGroup;for(let P=0;P<A;P+=1)u.push(u[u.length-1]+T)}for(let A=0;A<n.virtual.slidesBefore+n.virtual.slidesAfter;A+=1)t.slidesPerGroup===1&&u.push(u[u.length-1]+E),p.push(p[p.length-1]+E),n.virtualSize+=E}if(u.length===0&&(u=[0]),v!==0){const E=n.isHorizontal()&&a?"marginLeft":n.getDirectionLabel("marginRight");d.filter((A,T)=>!t.cssMode||t.loop?!0:T!==d.length-1).forEach(A=>{A.style[E]="".concat(v,"px")})}if(t.centeredSlides&&t.centeredSlidesBounds){let E=0;g.forEach(T=>{E+=T+(v||0)}),E-=v;const A=E>o?E-o:0;u=u.map(T=>T<=0?-m:T>A?A+w:T)}if(t.centerInsufficientSlides){let E=0;g.forEach(T=>{E+=T+(v||0)}),E-=v;const A=(t.slidesOffsetBefore||0)+(t.slidesOffsetAfter||0);if(E+A<o){const T=(o-E-A)/2;u.forEach((P,O)=>{u[O]=P-T}),p.forEach((P,O)=>{p[O]=P+T})}}if(Object.assign(n,{slides:d,snapGrid:u,slidesGrid:p,slidesSizesGrid:g}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){zs(r,"--swiper-centered-offset-before","".concat(-u[0],"px")),zs(r,"--swiper-centered-offset-after","".concat(n.size/2-g[g.length-1]/2,"px"));const E=-n.snapGrid[0],A=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(T=>T+E),n.slidesGrid=n.slidesGrid.map(T=>T+A)}if(f!==c&&n.emit("slidesLengthChange"),u.length!==y&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),p.length!==x&&n.emit("slidesGridLengthChange"),t.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!l&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const E="".concat(t.containerModifierClass,"backface-hidden"),A=n.el.classList.contains(E);f<=t.maxBackfaceHiddenSlides?A||n.el.classList.add(E):A&&n.el.classList.remove(E)}}function aS(n){const e=this,t=[],r=e.virtual&&e.params.virtual.enabled;let i=0,o;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);const a=s=>r?e.slides[e.getSlideIndexByData(s)]:e.slides[s];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(s=>{t.push(s)});else for(o=0;o<Math.ceil(e.params.slidesPerView);o+=1){const s=e.activeIndex+o;if(s>e.slides.length&&!r)break;t.push(a(s))}else t.push(a(e.activeIndex));for(o=0;o<t.length;o+=1)if(typeof t[o]<"u"){const s=t[o].offsetHeight;i=s>i?s:i}(i||i===0)&&(e.wrapperEl.style.height="".concat(i,"px"))}function sS(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(n.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-t-n.cssOverflowAdjustment()}const h1=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function lS(n){n===void 0&&(n=this&&this.translate||0);const e=this,t=e.params,{slides:r,rtlTranslate:i,snapGrid:o}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let a=-n;i&&(a=n),e.visibleSlidesIndexes=[],e.visibleSlides=[];let s=t.spaceBetween;typeof s=="string"&&s.indexOf("%")>=0?s=parseFloat(s.replace("%",""))/100*e.size:typeof s=="string"&&(s=parseFloat(s));for(let l=0;l<r.length;l+=1){const c=r[l];let d=c.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(d-=r[0].swiperSlideOffset);const f=(a+(t.centeredSlides?e.minTranslate():0)-d)/(c.swiperSlideSize+s),u=(a-o[0]+(t.centeredSlides?e.minTranslate():0)-d)/(c.swiperSlideSize+s),p=-(a-d),g=p+e.slidesSizesGrid[l],m=p>=0&&p<=e.size-e.slidesSizesGrid[l],w=p>=0&&p<e.size-1||g>1&&g<=e.size||p<=0&&g>=e.size;w&&(e.visibleSlides.push(c),e.visibleSlidesIndexes.push(l)),h1(c,w,t.slideVisibleClass),h1(c,m,t.slideFullyVisibleClass),c.progress=i?-f:f,c.originalProgress=i?-u:u}}function cS(n){const e=this;if(typeof n>"u"){const d=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*d||0}const t=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:o,isEnd:a,progressLoop:s}=e;const l=o,c=a;if(r===0)i=0,o=!0,a=!0;else{i=(n-e.minTranslate())/r;const d=Math.abs(n-e.minTranslate())<1,f=Math.abs(n-e.maxTranslate())<1;o=d||i<=0,a=f||i>=1,d&&(i=0),f&&(i=1)}if(t.loop){const d=e.getSlideIndexByData(0),f=e.getSlideIndexByData(e.slides.length-1),u=e.slidesGrid[d],p=e.slidesGrid[f],g=e.slidesGrid[e.slidesGrid.length-1],m=Math.abs(n);m>=u?s=(m-u)/g:s=(m+g-p)/g,s>1&&(s-=1)}Object.assign(e,{progress:i,progressLoop:s,isBeginning:o,isEnd:a}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),o&&!l&&e.emit("reachBeginning toEdge"),a&&!c&&e.emit("reachEnd toEdge"),(l&&!o||c&&!a)&&e.emit("fromEdge"),e.emit("progress",i)}const yd=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function dS(){const n=this,{slides:e,params:t,slidesEl:r,activeIndex:i}=n,o=n.virtual&&t.virtual.enabled,a=n.grid&&t.grid&&t.grid.rows>1,s=f=>er(r,".".concat(t.slideClass).concat(f,", swiper-slide").concat(f))[0];let l,c,d;if(o)if(t.loop){let f=i-n.virtual.slidesBefore;f<0&&(f=n.virtual.slides.length+f),f>=n.virtual.slides.length&&(f-=n.virtual.slides.length),l=s('[data-swiper-slide-index="'.concat(f,'"]'))}else l=s('[data-swiper-slide-index="'.concat(i,'"]'));else a?(l=e.filter(f=>f.column===i)[0],d=e.filter(f=>f.column===i+1)[0],c=e.filter(f=>f.column===i-1)[0]):l=e[i];l&&(a||(d=K_(l,".".concat(t.slideClass,", swiper-slide"))[0],t.loop&&!d&&(d=e[0]),c=G_(l,".".concat(t.slideClass,", swiper-slide"))[0],t.loop&&!c===0&&(c=e[e.length-1]))),e.forEach(f=>{yd(f,f===l,t.slideActiveClass),yd(f,f===d,t.slideNextClass),yd(f,f===c,t.slidePrevClass)}),n.emitSlidesClasses()}const nl=(n,e)=>{if(!n||n.destroyed||!n.params)return;const t=()=>n.isElement?"swiper-slide":".".concat(n.params.slideClass),r=e.closest(t());if(r){let i=r.querySelector(".".concat(n.params.lazyPreloaderClass));!i&&n.isElement&&(r.shadowRoot?i=r.shadowRoot.querySelector(".".concat(n.params.lazyPreloaderClass)):requestAnimationFrame(()=>{r.shadowRoot&&(i=r.shadowRoot.querySelector(".".concat(n.params.lazyPreloaderClass)),i&&i.remove())})),i&&i.remove()}},xd=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},Ru=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const r=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),i=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const a=i,s=[a-e];s.push(...Array.from({length:e}).map((l,c)=>a+r+c)),n.slides.forEach((l,c)=>{s.includes(l.column)&&xd(n,c)});return}const o=i+r-1;if(n.params.rewind||n.params.loop)for(let a=i-e;a<=o+e;a+=1){const s=(a%t+t)%t;(s<i||s>o)&&xd(n,s)}else for(let a=Math.max(i-e,0);a<=Math.min(o+e,t-1);a+=1)a!==i&&(a>o||a<i)&&xd(n,a)};function uS(n){const{slidesGrid:e,params:t}=n,r=n.rtlTranslate?n.translate:-n.translate;let i;for(let o=0;o<e.length;o+=1)typeof e[o+1]<"u"?r>=e[o]&&r<e[o+1]-(e[o+1]-e[o])/2?i=o:r>=e[o]&&r<e[o+1]&&(i=o+1):r>=e[o]&&(i=o);return t.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function fS(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:i,activeIndex:o,realIndex:a,snapIndex:s}=e;let l=n,c;const d=p=>{let g=p-e.virtual.slidesBefore;return g<0&&(g=e.virtual.slides.length+g),g>=e.virtual.slides.length&&(g-=e.virtual.slides.length),g};if(typeof l>"u"&&(l=uS(e)),r.indexOf(t)>=0)c=r.indexOf(t);else{const p=Math.min(i.slidesPerGroupSkip,l);c=p+Math.floor((l-p)/i.slidesPerGroup)}if(c>=r.length&&(c=r.length-1),l===o&&!e.params.loop){c!==s&&(e.snapIndex=c,e.emit("snapIndexChange"));return}if(l===o&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=d(l);return}const f=e.grid&&i.grid&&i.grid.rows>1;let u;if(e.virtual&&i.virtual.enabled&&i.loop)u=d(l);else if(f){const p=e.slides.filter(m=>m.column===l)[0];let g=parseInt(p.getAttribute("data-swiper-slide-index"),10);Number.isNaN(g)&&(g=Math.max(e.slides.indexOf(p),0)),u=Math.floor(g/i.grid.rows)}else if(e.slides[l]){const p=e.slides[l].getAttribute("data-swiper-slide-index");p?u=parseInt(p,10):u=l}else u=l;Object.assign(e,{previousSnapIndex:s,snapIndex:c,previousRealIndex:a,realIndex:u,previousIndex:o,activeIndex:l}),e.initialized&&Ru(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(a!==u&&e.emit("realIndexChange"),e.emit("slideChange"))}function pS(n,e){const t=this,r=t.params;let i=n.closest(".".concat(r.slideClass,", swiper-slide"));!i&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(s=>{!i&&s.matches&&s.matches(".".concat(r.slideClass,", swiper-slide"))&&(i=s)});let o=!1,a;if(i){for(let s=0;s<t.slides.length;s+=1)if(t.slides[s]===i){o=!0,a=s;break}}if(i&&o)t.clickedSlide=i,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=a;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}r.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var hS={updateSize:iS,updateSlides:oS,updateAutoHeight:aS,updateSlidesOffset:sS,updateSlidesProgress:lS,updateProgress:cS,updateSlidesClasses:dS,updateActiveIndex:fS,updateClickedSlide:pS};function mS(n){n===void 0&&(n=this.isHorizontal()?"x":"y");const e=this,{params:t,rtlTranslate:r,translate:i,wrapperEl:o}=e;if(t.virtualTranslate)return r?-i:i;if(t.cssMode)return i;let a=W_(o,n);return a+=e.cssOverflowAdjustment(),r&&(a=-a),a||0}function gS(n,e){const t=this,{rtlTranslate:r,params:i,wrapperEl:o,progress:a}=t;let s=0,l=0;const c=0;t.isHorizontal()?s=r?-n:n:l=n,i.roundLengths&&(s=Math.floor(s),l=Math.floor(l)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?s:l,i.cssMode?o[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-s:-l:i.virtualTranslate||(t.isHorizontal()?s-=t.cssOverflowAdjustment():l-=t.cssOverflowAdjustment(),o.style.transform="translate3d(".concat(s,"px, ").concat(l,"px, ").concat(c,"px)"));let d;const f=t.maxTranslate()-t.minTranslate();f===0?d=0:d=(n-t.minTranslate())/f,d!==a&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function vS(){return-this.snapGrid[0]}function yS(){return-this.snapGrid[this.snapGrid.length-1]}function xS(n,e,t,r,i){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),r===void 0&&(r=!0);const o=this,{params:a,wrapperEl:s}=o;if(o.animating&&a.preventInteractionOnTransition)return!1;const l=o.minTranslate(),c=o.maxTranslate();let d;if(r&&n>l?d=l:r&&n<c?d=c:d=n,o.updateProgress(d),a.cssMode){const f=o.isHorizontal();if(e===0)s[f?"scrollLeft":"scrollTop"]=-d;else{if(!o.support.smoothScroll)return Y2({swiper:o,targetPosition:-d,side:f?"left":"top"}),!0;s.scrollTo({[f?"left":"top"]:-d,behavior:"smooth"})}return!0}return e===0?(o.setTransition(0),o.setTranslate(d),t&&(o.emit("beforeTransitionStart",e,i),o.emit("transitionEnd"))):(o.setTransition(e),o.setTranslate(d),t&&(o.emit("beforeTransitionStart",e,i),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(u){!o||o.destroyed||u.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,o.animating=!1,t&&o.emit("transitionEnd"))}),o.wrapperEl.addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd))),!0}var bS={getTranslate:mS,setTranslate:gS,minTranslate:vS,maxTranslate:yS,translateTo:xS};function wS(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration="".concat(n,"ms"),t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function K2(n){let{swiper:e,runCallbacks:t,direction:r,step:i}=n;const{activeIndex:o,previousIndex:a}=e;let s=r;if(s||(o>a?s="next":o<a?s="prev":s="reset"),e.emit("transition".concat(i)),t&&o!==a){if(s==="reset"){e.emit("slideResetTransition".concat(i));return}e.emit("slideChangeTransition".concat(i)),s==="next"?e.emit("slideNextTransition".concat(i)):e.emit("slidePrevTransition".concat(i))}}function _S(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;r.cssMode||(r.autoHeight&&t.updateAutoHeight(),K2({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function SS(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;t.animating=!1,!r.cssMode&&(t.setTransition(0),K2({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var kS={setTransition:wS,transitionStart:_S,transitionEnd:SS};function CS(n,e,t,r,i){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const o=this;let a=n;a<0&&(a=0);const{params:s,snapGrid:l,slidesGrid:c,previousIndex:d,activeIndex:f,rtlTranslate:u,wrapperEl:p,enabled:g}=o;if(!g&&!r&&!i||o.destroyed||o.animating&&s.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=o.params.speed);const m=Math.min(o.params.slidesPerGroupSkip,a);let w=m+Math.floor((a-m)/o.params.slidesPerGroup);w>=l.length&&(w=l.length-1);const y=-l[w];if(s.normalizeSlideIndex)for(let _=0;_<c.length;_+=1){const b=-Math.floor(y*100),C=Math.floor(c[_]*100),N=Math.floor(c[_+1]*100);typeof c[_+1]<"u"?b>=C&&b<N-(N-C)/2?a=_:b>=C&&b<N&&(a=_+1):b>=C&&(a=_)}if(o.initialized&&a!==f&&(!o.allowSlideNext&&(u?y>o.translate&&y>o.minTranslate():y<o.translate&&y<o.minTranslate())||!o.allowSlidePrev&&y>o.translate&&y>o.maxTranslate()&&(f||0)!==a))return!1;a!==(d||0)&&t&&o.emit("beforeSlideChangeStart"),o.updateProgress(y);let x;a>f?x="next":a<f?x="prev":x="reset";const v=o.virtual&&o.params.virtual.enabled;if(!(v&&i)&&(u&&-y===o.translate||!u&&y===o.translate))return o.updateActiveIndex(a),s.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),s.effect!=="slide"&&o.setTranslate(y),x!=="reset"&&(o.transitionStart(t,x),o.transitionEnd(t,x)),!1;if(s.cssMode){const _=o.isHorizontal(),b=u?y:-y;if(e===0)v&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),v&&!o._cssModeVirtualInitialSet&&o.params.initialSlide>0?(o._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{p[_?"scrollLeft":"scrollTop"]=b})):p[_?"scrollLeft":"scrollTop"]=b,v&&requestAnimationFrame(()=>{o.wrapperEl.style.scrollSnapType="",o._immediateVirtual=!1});else{if(!o.support.smoothScroll)return Y2({swiper:o,targetPosition:b,side:_?"left":"top"}),!0;p.scrollTo({[_?"left":"top"]:b,behavior:"smooth"})}return!0}return o.setTransition(e),o.setTranslate(y),o.updateActiveIndex(a),o.updateSlidesClasses(),o.emit("beforeTransitionStart",e,r),o.transitionStart(t,x),e===0?o.transitionEnd(t,x):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(b){!o||o.destroyed||b.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(t,x))}),o.wrapperEl.addEventListener("transitionend",o.onSlideToWrapperTransitionEnd)),!0}function ES(n,e,t,r){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const i=this;if(i.destroyed)return;typeof e>"u"&&(e=i.params.speed);const o=i.grid&&i.params.grid&&i.params.grid.rows>1;let a=n;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)a=a+i.virtual.slidesBefore;else{let s;if(o){const u=a*i.params.grid.rows;s=i.slides.filter(p=>p.getAttribute("data-swiper-slide-index")*1===u)[0].column}else s=i.getSlideIndexByData(a);const l=o?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:c}=i.params;let d=i.params.slidesPerView;d==="auto"?d=i.slidesPerViewDynamic():(d=Math.ceil(parseFloat(i.params.slidesPerView,10)),c&&d%2===0&&(d=d+1));let f=l-s<d;if(c&&(f=f||s<Math.ceil(d/2)),r&&c&&i.params.slidesPerView!=="auto"&&!o&&(f=!1),f){const u=c?s<i.activeIndex?"prev":"next":s-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:u,slideTo:!0,activeSlideIndex:u==="next"?s+1:s-l+1,slideRealIndex:u==="next"?i.realIndex:void 0})}if(o){const u=a*i.params.grid.rows;a=i.slides.filter(p=>p.getAttribute("data-swiper-slide-index")*1===u)[0].column}else a=i.getSlideIndexByData(a)}return requestAnimationFrame(()=>{i.slideTo(a,e,t,r)}),i}function IS(n,e,t){e===void 0&&(e=!0);const r=this,{enabled:i,params:o,animating:a}=r;if(!i||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);let s=o.slidesPerGroup;o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(s=Math.max(r.slidesPerViewDynamic("current",!0),1));const l=r.activeIndex<o.slidesPerGroupSkip?1:s,c=r.virtual&&o.virtual.enabled;if(o.loop){if(a&&!c&&o.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&o.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+l,n,e,t)}),!0}return o.rewind&&r.isEnd?r.slideTo(0,n,e,t):r.slideTo(r.activeIndex+l,n,e,t)}function NS(n,e,t){e===void 0&&(e=!0);const r=this,{params:i,snapGrid:o,slidesGrid:a,rtlTranslate:s,enabled:l,animating:c}=r;if(!l||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);const d=r.virtual&&i.virtual.enabled;if(i.loop){if(c&&!d&&i.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const f=s?r.translate:-r.translate;function u(y){return y<0?-Math.floor(Math.abs(y)):Math.floor(y)}const p=u(f),g=o.map(y=>u(y));let m=o[g.indexOf(p)-1];if(typeof m>"u"&&i.cssMode){let y;o.forEach((x,v)=>{p>=x&&(y=v)}),typeof y<"u"&&(m=o[y>0?y-1:y])}let w=0;if(typeof m<"u"&&(w=a.indexOf(m),w<0&&(w=r.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(w=w-r.slidesPerViewDynamic("previous",!0)+1,w=Math.max(w,0))),i.rewind&&r.isBeginning){const y=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(y,n,e,t)}else if(i.loop&&r.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(w,n,e,t)}),!0;return r.slideTo(w,n,e,t)}function MS(n,e,t){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof n>"u"&&(n=r.params.speed),r.slideTo(r.activeIndex,n,e,t)}function AS(n,e,t,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const i=this;if(i.destroyed)return;typeof n>"u"&&(n=i.params.speed);let o=i.activeIndex;const a=Math.min(i.params.slidesPerGroupSkip,o),s=a+Math.floor((o-a)/i.params.slidesPerGroup),l=i.rtlTranslate?i.translate:-i.translate;if(l>=i.snapGrid[s]){const c=i.snapGrid[s],d=i.snapGrid[s+1];l-c>(d-c)*r&&(o+=i.params.slidesPerGroup)}else{const c=i.snapGrid[s-1],d=i.snapGrid[s];l-c<=(d-c)*r&&(o-=i.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,i.slidesGrid.length-1),i.slideTo(o,n,e,t)}function PS(){const n=this;if(n.destroyed)return;const{params:e,slidesEl:t}=n,r=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView;let i=n.clickedIndex,o;const a=n.isElement?"swiper-slide":".".concat(e.slideClass);if(e.loop){if(n.animating)return;o=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?i<n.loopedSlides-r/2||i>n.slides.length-n.loopedSlides+r/2?(n.loopFix(),i=n.getSlideIndex(er(t,"".concat(a,'[data-swiper-slide-index="').concat(o,'"]'))[0]),Tu(()=>{n.slideTo(i)})):n.slideTo(i):i>n.slides.length-r?(n.loopFix(),i=n.getSlideIndex(er(t,"".concat(a,'[data-swiper-slide-index="').concat(o,'"]'))[0]),Tu(()=>{n.slideTo(i)})):n.slideTo(i)}else n.slideTo(i)}var LS={slideTo:CS,slideToLoop:ES,slideNext:IS,slidePrev:NS,slideReset:MS,slideToClosest:AS,slideToClickedSlide:PS};function TS(n){const e=this,{params:t,slidesEl:r}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;const i=()=>{er(r,".".concat(t.slideClass,", swiper-slide")).forEach((f,u)=>{f.setAttribute("data-swiper-slide-index",u)})},o=e.grid&&t.grid&&t.grid.rows>1,a=t.slidesPerGroup*(o?t.grid.rows:1),s=e.slides.length%a!==0,l=o&&e.slides.length%t.grid.rows!==0,c=d=>{for(let f=0;f<d;f+=1){const u=e.isElement?Vl("swiper-slide",[t.slideBlankClass]):Vl("div",[t.slideClass,t.slideBlankClass]);e.slidesEl.append(u)}};if(s){if(t.loopAddBlankSlides){const d=a-e.slides.length%a;c(d),e.recalcSlides(),e.updateSlides()}else Ul("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else if(l){if(t.loopAddBlankSlides){const d=t.grid.rows-e.slides.length%t.grid.rows;c(d),e.recalcSlides(),e.updateSlides()}else Ul("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else i();e.loopFix({slideRealIndex:n,direction:t.centeredSlides?void 0:"next"})}function RS(n){let{slideRealIndex:e,slideTo:t=!0,direction:r,setTranslate:i,activeSlideIndex:o,byController:a,byMousewheel:s}=n===void 0?{}:n;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:c,allowSlidePrev:d,allowSlideNext:f,slidesEl:u,params:p}=l,{centeredSlides:g}=p;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&p.virtual.enabled){t&&(!p.centeredSlides&&l.snapIndex===0?l.slideTo(l.virtual.slides.length,0,!1,!0):p.centeredSlides&&l.snapIndex<p.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0)),l.allowSlidePrev=d,l.allowSlideNext=f,l.emit("loopFix");return}let m=p.slidesPerView;m==="auto"?m=l.slidesPerViewDynamic():(m=Math.ceil(parseFloat(p.slidesPerView,10)),g&&m%2===0&&(m=m+1));const w=p.slidesPerGroupAuto?m:p.slidesPerGroup;let y=w;y%w!==0&&(y+=w-y%w),y+=p.loopAdditionalSlides,l.loopedSlides=y;const x=l.grid&&p.grid&&p.grid.rows>1;c.length<m+y?Ul("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):x&&p.grid.fill==="row"&&Ul("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const v=[],S=[];let _=l.activeIndex;typeof o>"u"?o=l.getSlideIndex(c.filter(P=>P.classList.contains(p.slideActiveClass))[0]):_=o;const b=r==="next"||!r,C=r==="prev"||!r;let N=0,I=0;const E=x?Math.ceil(c.length/p.grid.rows):c.length,T=(x?c[o].column:o)+(g&&typeof i>"u"?-m/2+.5:0);if(T<y){N=Math.max(y-T,w);for(let P=0;P<y-T;P+=1){const O=P-Math.floor(P/E)*E;if(x){const D=E-O-1;for(let W=c.length-1;W>=0;W-=1)c[W].column===D&&v.push(W)}else v.push(E-O-1)}}else if(T+m>E-y){I=Math.max(T-(E-y*2),w);for(let P=0;P<I;P+=1){const O=P-Math.floor(P/E)*E;x?c.forEach((D,W)=>{D.column===O&&S.push(W)}):S.push(O)}}if(l.__preventObserver__=!0,requestAnimationFrame(()=>{l.__preventObserver__=!1}),C&&v.forEach(P=>{c[P].swiperLoopMoveDOM=!0,u.prepend(c[P]),c[P].swiperLoopMoveDOM=!1}),b&&S.forEach(P=>{c[P].swiperLoopMoveDOM=!0,u.append(c[P]),c[P].swiperLoopMoveDOM=!1}),l.recalcSlides(),p.slidesPerView==="auto"?l.updateSlides():x&&(v.length>0&&C||S.length>0&&b)&&l.slides.forEach((P,O)=>{l.grid.updateSlide(O,P,l.slides)}),p.watchSlidesProgress&&l.updateSlidesOffset(),t){if(v.length>0&&C){if(typeof e>"u"){const P=l.slidesGrid[_],D=l.slidesGrid[_+N]-P;s?l.setTranslate(l.translate-D):(l.slideTo(_+Math.ceil(N),0,!1,!0),i&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-D,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-D))}else if(i){const P=x?v.length/p.grid.rows:v.length;l.slideTo(l.activeIndex+P,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(S.length>0&&b)if(typeof e>"u"){const P=l.slidesGrid[_],D=l.slidesGrid[_-I]-P;s?l.setTranslate(l.translate-D):(l.slideTo(_-I,0,!1,!0),i&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-D,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-D))}else{const P=x?S.length/p.grid.rows:S.length;l.slideTo(l.activeIndex-P,0,!1,!0)}}if(l.allowSlidePrev=d,l.allowSlideNext=f,l.controller&&l.controller.control&&!a){const P={slideRealIndex:e,direction:r,setTranslate:i,activeSlideIndex:o,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(O=>{!O.destroyed&&O.params.loop&&O.loopFix({...P,slideTo:O.params.slidesPerView===p.slidesPerView?t:!1})}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...P,slideTo:l.controller.control.params.slidesPerView===p.slidesPerView?t:!1})}l.emit("loopFix")}function OS(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const r=[];n.slides.forEach(i=>{const o=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;r[o]=i}),n.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),r.forEach(i=>{t.append(i)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var jS={loopCreate:TS,loopFix:RS,loopDestroy:OS};function BS(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function DS(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var zS={setGrabCursor:BS,unsetGrabCursor:DS};function FS(n,e){e===void 0&&(e=this);function t(r){if(!r||r===$o()||r===kn())return null;r.assignedSlot&&(r=r.assignedSlot);const i=r.closest(n);return!i&&!r.getRootNode?null:i||t(r.getRootNode().host)}return t(e)}function m1(n,e,t){const r=kn(),{params:i}=n,o=i.edgeSwipeDetection,a=i.edgeSwipeThreshold;return o&&(t<=a||t>=r.innerWidth-a)?o==="prevent"?(e.preventDefault(),!0):!1:!0}function HS(n){const e=this,t=$o();let r=n;r.originalEvent&&(r=r.originalEvent);const i=e.touchEventsData;if(r.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==r.pointerId)return;i.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(i.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){m1(e,r,r.targetTouches[0].pageX);return}const{params:o,touches:a,enabled:s}=e;if(!s||!o.simulateTouch&&r.pointerType==="mouse"||e.animating&&o.preventInteractionOnTransition)return;!e.animating&&o.cssMode&&o.loop&&e.loopFix();let l=r.target;if(o.touchEventsTarget==="wrapper"&&!X_(l,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||i.isTouched&&i.isMoved)return;const c=!!o.noSwipingClass&&o.noSwipingClass!=="",d=r.composedPath?r.composedPath():r.path;c&&r.target&&r.target.shadowRoot&&d&&(l=d[0]);const f=o.noSwipingSelector?o.noSwipingSelector:".".concat(o.noSwipingClass),u=!!(r.target&&r.target.shadowRoot);if(o.noSwiping&&(u?FS(f,l):l.closest(f))){e.allowClick=!0;return}if(o.swipeHandler&&!l.closest(o.swipeHandler))return;a.currentX=r.pageX,a.currentY=r.pageY;const p=a.currentX,g=a.currentY;if(!m1(e,r,p))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=p,a.startY=g,i.touchStartTime=Hl(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,o.threshold>0&&(i.allowThresholdMove=!1);let m=!0;l.matches(i.focusableElements)&&(m=!1,l.nodeName==="SELECT"&&(i.isTouched=!1)),t.activeElement&&t.activeElement.matches(i.focusableElements)&&t.activeElement!==l&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!l.matches(i.focusableElements))&&t.activeElement.blur();const w=m&&e.allowTouchMove&&o.touchStartPreventDefault;(o.touchStartForcePreventDefault||w)&&!l.isContentEditable&&r.preventDefault(),o.freeMode&&o.freeMode.enabled&&e.freeMode&&e.animating&&!o.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function US(n){const e=$o(),t=this,r=t.touchEventsData,{params:i,touches:o,rtlTranslate:a,enabled:s}=t;if(!s||!i.simulateTouch&&n.pointerType==="mouse")return;let l=n;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(r.touchId!==null||l.pointerId!==r.pointerId))return;let c;if(l.type==="touchmove"){if(c=[...l.changedTouches].filter(b=>b.identifier===r.touchId)[0],!c||c.identifier!==r.touchId)return}else c=l;if(!r.isTouched){r.startMoving&&r.isScrolling&&t.emit("touchMoveOpposite",l);return}const d=c.pageX,f=c.pageY;if(l.preventedByNestedSwiper){o.startX=d,o.startY=f;return}if(!t.allowTouchMove){l.target.matches(r.focusableElements)||(t.allowClick=!1),r.isTouched&&(Object.assign(o,{startX:d,startY:f,currentX:d,currentY:f}),r.touchStartTime=Hl());return}if(i.touchReleaseOnEdges&&!i.loop){if(t.isVertical()){if(f<o.startY&&t.translate<=t.maxTranslate()||f>o.startY&&t.translate>=t.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(d<o.startX&&t.translate<=t.maxTranslate()||d>o.startX&&t.translate>=t.minTranslate())return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==l.target&&l.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&l.target===e.activeElement&&l.target.matches(r.focusableElements)){r.isMoved=!0,t.allowClick=!1;return}r.allowTouchCallbacks&&t.emit("touchMove",l),o.previousX=o.currentX,o.previousY=o.currentY,o.currentX=d,o.currentY=f;const u=o.currentX-o.startX,p=o.currentY-o.startY;if(t.params.threshold&&Math.sqrt(u**2+p**2)<t.params.threshold)return;if(typeof r.isScrolling>"u"){let b;t.isHorizontal()&&o.currentY===o.startY||t.isVertical()&&o.currentX===o.startX?r.isScrolling=!1:u*u+p*p>=25&&(b=Math.atan2(Math.abs(p),Math.abs(u))*180/Math.PI,r.isScrolling=t.isHorizontal()?b>i.touchAngle:90-b>i.touchAngle)}if(r.isScrolling&&t.emit("touchMoveOpposite",l),typeof r.startMoving>"u"&&(o.currentX!==o.startX||o.currentY!==o.startY)&&(r.startMoving=!0),r.isScrolling||l.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;t.allowClick=!1,!i.cssMode&&l.cancelable&&l.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&l.stopPropagation();let g=t.isHorizontal()?u:p,m=t.isHorizontal()?o.currentX-o.previousX:o.currentY-o.previousY;i.oneWayMovement&&(g=Math.abs(g)*(a?1:-1),m=Math.abs(m)*(a?1:-1)),o.diff=g,g*=i.touchRatio,a&&(g=-g,m=-m);const w=t.touchesDirection;t.swipeDirection=g>0?"prev":"next",t.touchesDirection=m>0?"prev":"next";const y=t.params.loop&&!i.cssMode,x=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!r.isMoved){if(y&&x&&t.loopFix({direction:t.swipeDirection}),r.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const b=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(b)}r.allowMomentumBounce=!1,i.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",l)}let v;if(new Date().getTime(),r.isMoved&&r.allowThresholdMove&&w!==t.touchesDirection&&y&&x&&Math.abs(g)>=1){Object.assign(o,{startX:d,startY:f,currentX:d,currentY:f,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}t.emit("sliderMove",l),r.isMoved=!0,r.currentTranslate=g+r.startTranslate;let S=!0,_=i.resistanceRatio;if(i.touchReleaseOnEdges&&(_=0),g>0?(y&&x&&!v&&r.allowThresholdMove&&r.currentTranslate>(i.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(i.slidesPerView!=="auto"&&t.slides.length-i.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>t.minTranslate()&&(S=!1,i.resistance&&(r.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+r.startTranslate+g)**_))):g<0&&(y&&x&&!v&&r.allowThresholdMove&&r.currentTranslate<(i.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(i.slidesPerView!=="auto"&&t.slides.length-i.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(i.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),r.currentTranslate<t.maxTranslate()&&(S=!1,i.resistance&&(r.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-r.startTranslate-g)**_))),S&&(l.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(r.currentTranslate=r.startTranslate),i.threshold>0)if(Math.abs(g)>i.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,r.currentTranslate=r.startTranslate,o.diff=t.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY;return}}else{r.currentTranslate=r.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&t.freeMode||i.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(r.currentTranslate),t.setTranslate(r.currentTranslate))}function VS(n){const e=this,t=e.touchEventsData;let r=n;r.originalEvent&&(r=r.originalEvent);let i;if(r.type==="touchend"||r.type==="touchcancel"){if(i=[...r.changedTouches].filter(_=>_.identifier===t.touchId)[0],!i||i.identifier!==t.touchId)return}else{if(t.touchId!==null||r.pointerId!==t.pointerId)return;i=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:a,touches:s,rtlTranslate:l,slidesGrid:c,enabled:d}=e;if(!d||!a.simulateTouch&&r.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",r),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&a.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}a.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const f=Hl(),u=f-t.touchStartTime;if(e.allowClick){const _=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(_&&_[0]||r.target,_),e.emit("tap click",r),u<300&&f-t.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(t.lastClickTime=Hl(),Tu(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||s.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let p;if(a.followFinger?p=l?e.translate:-e.translate:p=-t.currentTranslate,a.cssMode)return;if(a.freeMode&&a.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:p});return}const g=p>=-e.maxTranslate()&&!e.params.loop;let m=0,w=e.slidesSizesGrid[0];for(let _=0;_<c.length;_+=_<a.slidesPerGroupSkip?1:a.slidesPerGroup){const b=_<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;typeof c[_+b]<"u"?(g||p>=c[_]&&p<c[_+b])&&(m=_,w=c[_+b]-c[_]):(g||p>=c[_])&&(m=_,w=c[c.length-1]-c[c.length-2])}let y=null,x=null;a.rewind&&(e.isBeginning?x=a.virtual&&a.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(y=0));const v=(p-c[m])/w,S=m<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;if(u>a.longSwipesMs){if(!a.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(v>=a.longSwipesRatio?e.slideTo(a.rewind&&e.isEnd?y:m+S):e.slideTo(m)),e.swipeDirection==="prev"&&(v>1-a.longSwipesRatio?e.slideTo(m+S):x!==null&&v<0&&Math.abs(v)>a.longSwipesRatio?e.slideTo(x):e.slideTo(m))}else{if(!a.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(m+S):e.slideTo(m):(e.swipeDirection==="next"&&e.slideTo(y!==null?y:m+S),e.swipeDirection==="prev"&&e.slideTo(x!==null?x:m))}}function g1(){const n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:i,snapGrid:o}=n,a=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const s=a&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!s?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!a?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=i,n.allowSlideNext=r,n.params.watchOverflow&&o!==n.snapGrid&&n.checkOverflow()}function $S(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function WS(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:r}=n;if(!r)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let i;const o=n.maxTranslate()-n.minTranslate();o===0?i=0:i=(n.translate-n.minTranslate())/o,i!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function YS(n){const e=this;nl(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function XS(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const q2=(n,e)=>{const t=$o(),{params:r,el:i,wrapperEl:o,device:a}=n,s=!!r.nested,l=e==="on"?"addEventListener":"removeEventListener",c=e;!i||typeof i=="string"||(t[l]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:s}),i[l]("touchstart",n.onTouchStart,{passive:!1}),i[l]("pointerdown",n.onTouchStart,{passive:!1}),t[l]("touchmove",n.onTouchMove,{passive:!1,capture:s}),t[l]("pointermove",n.onTouchMove,{passive:!1,capture:s}),t[l]("touchend",n.onTouchEnd,{passive:!0}),t[l]("pointerup",n.onTouchEnd,{passive:!0}),t[l]("pointercancel",n.onTouchEnd,{passive:!0}),t[l]("touchcancel",n.onTouchEnd,{passive:!0}),t[l]("pointerout",n.onTouchEnd,{passive:!0}),t[l]("pointerleave",n.onTouchEnd,{passive:!0}),t[l]("contextmenu",n.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&i[l]("click",n.onClick,!0),r.cssMode&&o[l]("scroll",n.onScroll),r.updateOnWindowResize?n[c](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",g1,!0):n[c]("observerUpdate",g1,!0),i[l]("load",n.onLoad,{capture:!0}))};function GS(){const n=this,{params:e}=n;n.onTouchStart=HS.bind(n),n.onTouchMove=US.bind(n),n.onTouchEnd=VS.bind(n),n.onDocumentTouchStart=XS.bind(n),e.cssMode&&(n.onScroll=WS.bind(n)),n.onClick=$S.bind(n),n.onLoad=YS.bind(n),q2(n,"on")}function KS(){q2(this,"off")}var qS={attachEvents:GS,detachEvents:KS};const v1=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function QS(){const n=this,{realIndex:e,initialized:t,params:r,el:i}=n,o=r.breakpoints;if(!o||o&&Object.keys(o).length===0)return;const a=n.getBreakpoint(o,n.params.breakpointsBase,n.el);if(!a||n.currentBreakpoint===a)return;const l=(a in o?o[a]:void 0)||n.originalParams,c=v1(n,r),d=v1(n,l),f=n.params.grabCursor,u=l.grabCursor,p=r.enabled;c&&!d?(i.classList.remove("".concat(r.containerModifierClass,"grid"),"".concat(r.containerModifierClass,"grid-column")),n.emitContainerClasses()):!c&&d&&(i.classList.add("".concat(r.containerModifierClass,"grid")),(l.grid.fill&&l.grid.fill==="column"||!l.grid.fill&&r.grid.fill==="column")&&i.classList.add("".concat(r.containerModifierClass,"grid-column")),n.emitContainerClasses()),f&&!u?n.unsetGrabCursor():!f&&u&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(v=>{if(typeof l[v]>"u")return;const S=r[v]&&r[v].enabled,_=l[v]&&l[v].enabled;S&&!_&&n[v].disable(),!S&&_&&n[v].enable()});const g=l.direction&&l.direction!==r.direction,m=r.loop&&(l.slidesPerView!==r.slidesPerView||g),w=r.loop;g&&t&&n.changeDirection(),mn(n.params,l);const y=n.params.enabled,x=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),p&&!y?n.disable():!p&&y&&n.enable(),n.currentBreakpoint=a,n.emit("_beforeBreakpoint",l),t&&(m?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!w&&x?(n.loopCreate(e),n.updateSlides()):w&&!x&&n.loopDestroy()),n.emit("breakpoint",l)}function JS(n,e,t){if(e===void 0&&(e="window"),!n||e==="container"&&!t)return;let r=!1;const i=kn(),o=e==="window"?i.innerHeight:t.clientHeight,a=Object.keys(n).map(s=>{if(typeof s=="string"&&s.indexOf("@")===0){const l=parseFloat(s.substr(1));return{value:o*l,point:s}}return{value:s,point:s}});a.sort((s,l)=>parseInt(s.value,10)-parseInt(l.value,10));for(let s=0;s<a.length;s+=1){const{point:l,value:c}=a[s];e==="window"?i.matchMedia("(min-width: ".concat(c,"px)")).matches&&(r=l):c<=t.clientWidth&&(r=l)}return r||"max"}var ZS={setBreakpoint:QS,getBreakpoint:JS};function ek(n,e){const t=[];return n.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(i=>{r[i]&&t.push(e+i)}):typeof r=="string"&&t.push(e+r)}),t}function tk(){const n=this,{classNames:e,params:t,rtl:r,el:i,device:o}=n,a=ek(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:r},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:o.android},{ios:o.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...a),i.classList.add(...e),n.emitContainerClasses()}function nk(){const n=this,{el:e,classNames:t}=n;!e||typeof e=="string"||(e.classList.remove(...t),n.emitContainerClasses())}var rk={addClasses:tk,removeClasses:nk};function ik(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:r}=t;if(r){const i=n.slides.length-1,o=n.slidesGrid[i]+n.slidesSizesGrid[i]+r*2;n.isLocked=n.size>o}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var ok={checkOverflow:ik},Ou={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function ak(n,e){return function(r){r===void 0&&(r={});const i=Object.keys(r)[0],o=r[i];if(typeof o!="object"||o===null){mn(e,r);return}if(n[i]===!0&&(n[i]={enabled:!0}),i==="navigation"&&n[i]&&n[i].enabled&&!n[i].prevEl&&!n[i].nextEl&&(n[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&n[i]&&n[i].enabled&&!n[i].el&&(n[i].auto=!0),!(i in n&&"enabled"in o)){mn(e,r);return}typeof n[i]=="object"&&!("enabled"in n[i])&&(n[i].enabled=!0),n[i]||(n[i]={enabled:!1}),mn(e,r)}}const bd={eventsEmitter:rS,update:hS,translate:bS,transition:kS,slide:LS,loop:jS,grabCursor:zS,events:qS,breakpoints:ZS,checkOverflow:ok,classes:rk},wd={};let bp=class ur{constructor(){let e,t;for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?t=i[0]:[e,t]=i,t||(t={}),t=mn({},t),e&&!t.el&&(t.el=e);const a=$o();if(t.el&&typeof t.el=="string"&&a.querySelectorAll(t.el).length>1){const d=[];return a.querySelectorAll(t.el).forEach(f=>{const u=mn({},t,{el:f});d.push(new ur(u))}),d}const s=this;s.__swiper__=!0,s.support=X2(),s.device=G2({userAgent:t.userAgent}),s.browser=eS(),s.eventsListeners={},s.eventsAnyListeners=[],s.modules=[...s.__modules__],t.modules&&Array.isArray(t.modules)&&s.modules.push(...t.modules);const l={};s.modules.forEach(d=>{d({params:t,swiper:s,extendParams:ak(t,l),on:s.on.bind(s),once:s.once.bind(s),off:s.off.bind(s),emit:s.emit.bind(s)})});const c=mn({},Ou,l);return s.params=mn({},c,wd,t),s.originalParams=mn({},s.params),s.passedParams=mn({},t),s.params&&s.params.on&&Object.keys(s.params.on).forEach(d=>{s.on(d,s.params.on[d])}),s.params&&s.params.onAny&&s.onAny(s.params.onAny),Object.assign(s,{enabled:s.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return s.params.direction==="horizontal"},isVertical(){return s.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:s.params.allowSlideNext,allowSlidePrev:s.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:s.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:s.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),s.emit("_swiper"),s.params.init&&s.init(),s}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:r}=this,i=er(t,".".concat(r.slideClass,", swiper-slide")),o=f1(i[0]);return f1(e)-o}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(t=>t.getAttribute("data-swiper-slide-index")*1===e)[0])}recalcSlides(){const e=this,{slidesEl:t,params:r}=e;e.slides=er(t,".".concat(r.slideClass,", swiper-slide"))}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const r=this;e=Math.min(Math.max(e,0),1);const i=r.minTranslate(),a=(r.maxTranslate()-i)*e+i;r.translateTo(a,typeof t>"u"?0:t),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(r=>{const i=e.getSlideClasses(r);t.push({slideEl:r,classNames:i}),e.emit("_slideClass",r,i)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);const r=this,{params:i,slides:o,slidesGrid:a,slidesSizesGrid:s,size:l,activeIndex:c}=r;let d=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let f=o[c]?Math.ceil(o[c].swiperSlideSize):0,u;for(let p=c+1;p<o.length;p+=1)o[p]&&!u&&(f+=Math.ceil(o[p].swiperSlideSize),d+=1,f>l&&(u=!0));for(let p=c-1;p>=0;p-=1)o[p]&&!u&&(f+=o[p].swiperSlideSize,d+=1,f>l&&(u=!0))}else if(e==="current")for(let f=c+1;f<o.length;f+=1)(t?a[f]+s[f]-a[c]<l:a[f]-a[c]<l)&&(d+=1);else for(let f=c-1;f>=0;f-=1)a[c]-a[f]<l&&(d+=1);return d}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(a=>{a.complete&&nl(e,a)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const a=e.rtlTranslate?e.translate*-1:e.translate,s=Math.min(Math.max(a,e.maxTranslate()),e.minTranslate());e.setTranslate(s),e.updateActiveIndex(),e.updateSlidesClasses()}let o;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)i(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const a=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;o=e.slideTo(a.length-1,0,!1,!0)}else o=e.slideTo(e.activeIndex,0,!1,!0);o||i()}r.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);const r=this,i=r.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove("".concat(r.params.containerModifierClass).concat(i)),r.el.classList.add("".concat(r.params.containerModifierClass).concat(e)),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(o=>{e==="vertical"?o.style.width="":o.style.height=""}),r.emit("changeDirection"),t&&r.update()),r}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add("".concat(t.params.containerModifierClass,"rtl")),t.el.dir="rtl"):(t.el.classList.remove("".concat(t.params.containerModifierClass,"rtl")),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let r=e||t.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=t,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const i=()=>".".concat((t.params.wrapperClass||"").trim().split(" ").join("."));let a=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(i()):er(r,i())[0];return!a&&t.params.createElements&&(a=Vl("div",t.params.wrapperClass),r.append(a),er(r,".".concat(t.params.slideClass)).forEach(s=>{a.append(s)})),Object.assign(t,{el:r,wrapperEl:a,slidesEl:t.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:a,hostEl:t.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||Vr(r,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||Vr(r,"direction")==="rtl"),wrongRTL:Vr(a,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(),t.attachEvents();const i=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&i.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(o=>{o.complete?nl(t,o):o.addEventListener("load",a=>{nl(t,a.target)})}),Ru(t),t.initialized=!0,Ru(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);const r=this,{params:i,el:o,wrapperEl:a,slides:s}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),t&&(r.removeClasses(),o&&typeof o!="string"&&o.removeAttribute("style"),a&&a.removeAttribute("style"),s&&s.length&&s.forEach(l=>{l.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(l=>{r.off(l)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),V_(r)),r.destroyed=!0),null}static extendDefaults(e){mn(wd,e)}static get extendedDefaults(){return wd}static get defaults(){return Ou}static installModule(e){ur.prototype.__modules__||(ur.prototype.__modules__=[]);const t=ur.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>ur.installModule(t)),ur):(ur.installModule(e),ur)}};Object.keys(bd).forEach(n=>{Object.keys(bd[n]).forEach(e=>{bp.prototype[e]=bd[n][e]})});bp.use([tS,nS]);const Q2=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function zi(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function bo(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:zi(e[r])&&zi(n[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?n[r]=e[r]:bo(n[r],e[r]):n[r]=e[r]})}function J2(n){return n===void 0&&(n={}),n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function Z2(n){return n===void 0&&(n={}),n.pagination&&typeof n.pagination.el>"u"}function e3(n){return n===void 0&&(n={}),n.scrollbar&&typeof n.scrollbar.el>"u"}function t3(n){n===void 0&&(n="");const e=n.split(" ").map(r=>r.trim()).filter(r=>!!r),t=[];return e.forEach(r=>{t.indexOf(r)<0&&t.push(r)}),t.join(" ")}function sk(n){return n===void 0&&(n=""),n?n.includes("swiper-wrapper")?n:"swiper-wrapper ".concat(n):"swiper-wrapper"}function lk(n){let{swiper:e,slides:t,passedParams:r,changedParams:i,nextEl:o,prevEl:a,scrollbarEl:s,paginationEl:l}=n;const c=i.filter(I=>I!=="children"&&I!=="direction"&&I!=="wrapperClass"),{params:d,pagination:f,navigation:u,scrollbar:p,virtual:g,thumbs:m}=e;let w,y,x,v,S,_,b,C;i.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&d.thumbs&&(!d.thumbs.swiper||d.thumbs.swiper.destroyed)&&(w=!0),i.includes("controller")&&r.controller&&r.controller.control&&d.controller&&!d.controller.control&&(y=!0),i.includes("pagination")&&r.pagination&&(r.pagination.el||l)&&(d.pagination||d.pagination===!1)&&f&&!f.el&&(x=!0),i.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||s)&&(d.scrollbar||d.scrollbar===!1)&&p&&!p.el&&(v=!0),i.includes("navigation")&&r.navigation&&(r.navigation.prevEl||a)&&(r.navigation.nextEl||o)&&(d.navigation||d.navigation===!1)&&u&&!u.prevEl&&!u.nextEl&&(S=!0);const N=I=>{e[I]&&(e[I].destroy(),I==="navigation"?(e.isElement&&(e[I].prevEl.remove(),e[I].nextEl.remove()),d[I].prevEl=void 0,d[I].nextEl=void 0,e[I].prevEl=void 0,e[I].nextEl=void 0):(e.isElement&&e[I].el.remove(),d[I].el=void 0,e[I].el=void 0))};i.includes("loop")&&e.isElement&&(d.loop&&!r.loop?_=!0:!d.loop&&r.loop?b=!0:C=!0),c.forEach(I=>{if(zi(d[I])&&zi(r[I]))Object.assign(d[I],r[I]),(I==="navigation"||I==="pagination"||I==="scrollbar")&&"enabled"in r[I]&&!r[I].enabled&&N(I);else{const E=r[I];(E===!0||E===!1)&&(I==="navigation"||I==="pagination"||I==="scrollbar")?E===!1&&N(I):d[I]=r[I]}}),c.includes("controller")&&!y&&e.controller&&e.controller.control&&d.controller&&d.controller.control&&(e.controller.control=d.controller.control),i.includes("children")&&t&&g&&d.virtual.enabled?(g.slides=t,g.update(!0)):i.includes("virtual")&&g&&d.virtual.enabled&&(t&&(g.slides=t),g.update(!0)),i.includes("children")&&t&&d.loop&&(C=!0),w&&m.init()&&m.update(!0),y&&(e.controller.control=d.controller.control),x&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),e.el.appendChild(l)),l&&(d.pagination.el=l),f.init(),f.render(),f.update()),v&&(e.isElement&&(!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-scrollbar"),s.part.add("scrollbar"),e.el.appendChild(s)),s&&(d.scrollbar.el=s),p.init(),p.updateSize(),p.setTranslate()),S&&(e.isElement&&((!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-next"),o.innerHTML=e.hostEl.constructor.nextButtonSvg,o.part.add("button-next"),e.el.appendChild(o)),(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-button-prev"),a.innerHTML=e.hostEl.constructor.prevButtonSvg,a.part.add("button-prev"),e.el.appendChild(a))),o&&(d.navigation.nextEl=o),a&&(d.navigation.prevEl=a),u.init(),u.update()),i.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),i.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),i.includes("direction")&&e.changeDirection(r.direction,!1),(_||C)&&e.loopDestroy(),(b||C)&&e.loopCreate(),e.update()}function ck(n,e){n===void 0&&(n={}),e===void 0&&(e=!0);const t={on:{}},r={},i={};bo(t,Ou),t._emitClasses=!0,t.init=!1;const o={},a=Q2.map(l=>l.replace(/_/,"")),s=Object.assign({},n);return Object.keys(s).forEach(l=>{typeof n[l]>"u"||(a.indexOf(l)>=0?zi(n[l])?(t[l]={},i[l]={},bo(t[l],n[l]),bo(i[l],n[l])):(t[l]=n[l],i[l]=n[l]):l.search(/on[A-Z]/)===0&&typeof n[l]=="function"?e?r["".concat(l[2].toLowerCase()).concat(l.substr(3))]=n[l]:t.on["".concat(l[2].toLowerCase()).concat(l.substr(3))]=n[l]:o[l]=n[l])}),["navigation","pagination","scrollbar"].forEach(l=>{t[l]===!0&&(t[l]={}),t[l]===!1&&delete t[l]}),{params:t,passedParams:i,rest:o,events:r}}function dk(n,e){let{el:t,nextEl:r,prevEl:i,paginationEl:o,scrollbarEl:a,swiper:s}=n;J2(e)&&r&&i&&(s.params.navigation.nextEl=r,s.originalParams.navigation.nextEl=r,s.params.navigation.prevEl=i,s.originalParams.navigation.prevEl=i),Z2(e)&&o&&(s.params.pagination.el=o,s.originalParams.pagination.el=o),e3(e)&&a&&(s.params.scrollbar.el=a,s.originalParams.scrollbar.el=a),s.init(t)}function uk(n,e,t,r,i){const o=[];if(!e)return o;const a=l=>{o.indexOf(l)<0&&o.push(l)};if(t&&r){const l=r.map(i),c=t.map(i);l.join("")!==c.join("")&&a("children"),r.length!==t.length&&a("children")}return Q2.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in n&&l in e)if(zi(n[l])&&zi(e[l])){const c=Object.keys(n[l]),d=Object.keys(e[l]);c.length!==d.length?a(l):(c.forEach(f=>{n[l][f]!==e[l][f]&&a(l)}),d.forEach(f=>{n[l][f]!==e[l][f]&&a(l)}))}else n[l]!==e[l]&&a(l)}),o}const fk=n=>{!n||n.destroyed||!n.params.virtual||n.params.virtual&&!n.params.virtual.enabled||(n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.parallax&&n.params.parallax&&n.params.parallax.enabled&&n.parallax.setTranslate())};function $l(){return $l=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},$l.apply(this,arguments)}function n3(n){return n.type&&n.type.displayName&&n.type.displayName.includes("SwiperSlide")}function r3(n){const e=[];return At.Children.toArray(n).forEach(t=>{n3(t)?e.push(t):t.props&&t.props.children&&r3(t.props.children).forEach(r=>e.push(r))}),e}function pk(n){const e=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return At.Children.toArray(n).forEach(r=>{if(n3(r))e.push(r);else if(r.props&&r.props.slot&&t[r.props.slot])t[r.props.slot].push(r);else if(r.props&&r.props.children){const i=r3(r.props.children);i.length>0?i.forEach(o=>e.push(o)):t["container-end"].push(r)}else t["container-end"].push(r)}),{slides:e,slots:t}}function hk(n,e,t){if(!t)return null;const r=d=>{let f=d;return d<0?f=e.length+d:f>=e.length&&(f=f-e.length),f},i=n.isHorizontal()?{[n.rtlTranslate?"right":"left"]:"".concat(t.offset,"px")}:{top:"".concat(t.offset,"px")},{from:o,to:a}=t,s=n.params.loop?-e.length:0,l=n.params.loop?e.length*2:e.length,c=[];for(let d=s;d<l;d+=1)d>=o&&d<=a&&c.push(e[r(d)]);return c.map((d,f)=>At.cloneElement(d,{swiper:n,style:i,key:d.props.virtualIndex||d.key||"slide-".concat(f)}))}function ka(n,e){return typeof window>"u"?k.useEffect(n,e):k.useLayoutEffect(n,e)}const y1=k.createContext(null),mk=k.createContext(null),Wl=k.forwardRef(function(n,e){let{className:t,tag:r="div",wrapperTag:i="div",children:o,onSwiper:a,...s}=n===void 0?{}:n,l=!1;const[c,d]=k.useState("swiper"),[f,u]=k.useState(null),[p,g]=k.useState(!1),m=k.useRef(!1),w=k.useRef(null),y=k.useRef(null),x=k.useRef(null),v=k.useRef(null),S=k.useRef(null),_=k.useRef(null),b=k.useRef(null),C=k.useRef(null),{params:N,passedParams:I,rest:E,events:A}=ck(s),{slides:T,slots:P}=pk(o),O=()=>{g(!p)};Object.assign(N.on,{_containerClasses(L,j){d(j)}});const D=()=>{Object.assign(N.on,A),l=!0;const L={...N};if(delete L.wrapperClass,y.current=new bp(L),y.current.virtual&&y.current.params.virtual.enabled){y.current.virtual.slides=T;const j={cache:!1,slides:T,renderExternal:u,renderExternalUpdate:!1};bo(y.current.params.virtual,j),bo(y.current.originalParams.virtual,j)}};w.current||D(),y.current&&y.current.on("_beforeBreakpoint",O);const W=()=>{l||!A||!y.current||Object.keys(A).forEach(L=>{y.current.on(L,A[L])})},H=()=>{!A||!y.current||Object.keys(A).forEach(L=>{y.current.off(L,A[L])})};k.useEffect(()=>()=>{y.current&&y.current.off("_beforeBreakpoint",O)}),k.useEffect(()=>{!m.current&&y.current&&(y.current.emitSlidesClasses(),m.current=!0)}),ka(()=>{if(e&&(e.current=w.current),!!w.current)return y.current.destroyed&&D(),dk({el:w.current,nextEl:S.current,prevEl:_.current,paginationEl:b.current,scrollbarEl:C.current,swiper:y.current},N),a&&!y.current.destroyed&&a(y.current),()=>{y.current&&!y.current.destroyed&&y.current.destroy(!0,!1)}},[]),ka(()=>{W();const L=uk(I,x.current,T,v.current,j=>j.key);return x.current=I,v.current=T,L.length&&y.current&&!y.current.destroyed&&lk({swiper:y.current,slides:T,passedParams:I,changedParams:L,nextEl:S.current,prevEl:_.current,scrollbarEl:C.current,paginationEl:b.current}),()=>{H()}}),ka(()=>{fk(y.current)},[f]);function M(){return N.virtual?hk(y.current,T,f):T.map((L,j)=>At.cloneElement(L,{swiper:y.current,swiperSlideIndex:j}))}return At.createElement(r,$l({ref:w,className:t3("".concat(c).concat(t?" ".concat(t):""))},E),At.createElement(mk.Provider,{value:y.current},P["container-start"],At.createElement(i,{className:sk(N.wrapperClass)},P["wrapper-start"],M(),P["wrapper-end"]),J2(N)&&At.createElement(At.Fragment,null,At.createElement("div",{ref:_,className:"swiper-button-prev"}),At.createElement("div",{ref:S,className:"swiper-button-next"})),e3(N)&&At.createElement("div",{ref:C,className:"swiper-scrollbar"}),Z2(N)&&At.createElement("div",{ref:b,className:"swiper-pagination"}),P["container-end"]))});Wl.displayName="Swiper";const bi=k.forwardRef(function(n,e){let{tag:t="div",children:r,className:i="",swiper:o,zoom:a,lazy:s,virtualIndex:l,swiperSlideIndex:c,...d}=n===void 0?{}:n;const f=k.useRef(null),[u,p]=k.useState("swiper-slide"),[g,m]=k.useState(!1);function w(S,_,b){_===f.current&&p(b)}ka(()=>{if(typeof c<"u"&&(f.current.swiperSlideIndex=c),e&&(e.current=f.current),!(!f.current||!o)){if(o.destroyed){u!=="swiper-slide"&&p("swiper-slide");return}return o.on("_slideClass",w),()=>{o&&o.off("_slideClass",w)}}}),ka(()=>{o&&f.current&&!o.destroyed&&p(o.getSlideClasses(f.current))},[o]);const y={isActive:u.indexOf("swiper-slide-active")>=0,isVisible:u.indexOf("swiper-slide-visible")>=0,isPrev:u.indexOf("swiper-slide-prev")>=0,isNext:u.indexOf("swiper-slide-next")>=0},x=()=>typeof r=="function"?r(y):r,v=()=>{m(!0)};return At.createElement(t,$l({ref:f,className:t3("".concat(u).concat(i?" ".concat(i):"")),"data-swiper-slide-index":l,onLoad:v},d),a&&At.createElement(y1.Provider,{value:y},At.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof a=="number"?a:void 0},x(),s&&!g&&At.createElement("div",{className:"swiper-lazy-preloader"}))),!a&&At.createElement(y1.Provider,{value:y},x(),s&&!g&&At.createElement("div",{className:"swiper-lazy-preloader"})))});bi.displayName="SwiperSlide";function gk(n,e,t,r){return n.params.createElements&&Object.keys(r).forEach(i=>{if(!t[i]&&t.auto===!0){let o=er(n.el,".".concat(r[i]))[0];o||(o=Vl("div",r[i]),o.className=r[i],n.el.append(o)),t[i]=o,e[i]=o}}),t}function ju(n){let{swiper:e,extendParams:t,on:r,emit:i}=n;t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function o(g){let m;return g&&typeof g=="string"&&e.isElement&&(m=e.el.querySelector(g)||e.hostEl.querySelector(g),m)?m:(g&&(typeof g=="string"&&(m=[...document.querySelectorAll(g)]),e.params.uniqueNavElements&&typeof g=="string"&&m&&m.length>1&&e.el.querySelectorAll(g).length===1?m=e.el.querySelector(g):m&&m.length===1&&(m=m[0])),g&&!m?g:m)}function a(g,m){const w=e.params.navigation;g=cr(g),g.forEach(y=>{y&&(y.classList[m?"add":"remove"](...w.disabledClass.split(" ")),y.tagName==="BUTTON"&&(y.disabled=m),e.params.watchOverflow&&e.enabled&&y.classList[e.isLocked?"add":"remove"](w.lockClass))})}function s(){const{nextEl:g,prevEl:m}=e.navigation;if(e.params.loop){a(m,!1),a(g,!1);return}a(m,e.isBeginning&&!e.params.rewind),a(g,e.isEnd&&!e.params.rewind)}function l(g){g.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),i("navigationPrev"))}function c(g){g.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),i("navigationNext"))}function d(){const g=e.params.navigation;if(e.params.navigation=gk(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(g.nextEl||g.prevEl))return;let m=o(g.nextEl),w=o(g.prevEl);Object.assign(e.navigation,{nextEl:m,prevEl:w}),m=cr(m),w=cr(w);const y=(x,v)=>{x&&x.addEventListener("click",v==="next"?c:l),!e.enabled&&x&&x.classList.add(...g.lockClass.split(" "))};m.forEach(x=>y(x,"next")),w.forEach(x=>y(x,"prev"))}function f(){let{nextEl:g,prevEl:m}=e.navigation;g=cr(g),m=cr(m);const w=(y,x)=>{y.removeEventListener("click",x==="next"?c:l),y.classList.remove(...e.params.navigation.disabledClass.split(" "))};g.forEach(y=>w(y,"next")),m.forEach(y=>w(y,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?p():(d(),s())}),r("toEdge fromEdge lock unlock",()=>{s()}),r("destroy",()=>{f()}),r("enable disable",()=>{let{nextEl:g,prevEl:m}=e.navigation;if(g=cr(g),m=cr(m),e.enabled){s();return}[...g,...m].filter(w=>!!w).forEach(w=>w.classList.add(e.params.navigation.lockClass))}),r("click",(g,m)=>{let{nextEl:w,prevEl:y}=e.navigation;w=cr(w),y=cr(y);const x=m.target;let v=y.includes(x)||w.includes(x);if(e.isElement&&!v){const S=m.path||m.composedPath&&m.composedPath();S&&(v=S.find(_=>w.includes(_)||y.includes(_)))}if(e.params.navigation.hideOnClick&&!v){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===x||e.pagination.el.contains(x)))return;let S;w.length?S=w[0].classList.contains(e.params.navigation.hiddenClass):y.length&&(S=y[0].classList.contains(e.params.navigation.hiddenClass)),i(S===!0?"navigationShow":"navigationHide"),[...w,...y].filter(_=>!!_).forEach(_=>_.classList.toggle(e.params.navigation.hiddenClass))}});const u=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),d(),s()},p=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),f()};Object.assign(e.navigation,{enable:u,disable:p,update:s,init:d,destroy:f})}const vk=({id:n})=>{const e=["Информация","Даты","Биография","Галерея","Воспоминания"],t=[{date:"22.06.1945",title:"Родился в селе Новоивановка",description:"Андраш Арато родился в 1945 году в венгерском городе Кёсег. В 1969 году Арато закончил электротехнический факультет Будапештского университета технологии и экономики.",imageUrl:"https://cdn.builder.io/api/v1/image/assets/TEMP/2e55a792f6f5d6259c37f843c5ee424aabaa9f785a7a92104f37ec0a677f2031"},{date:"22.06.2002",title:"Женился, устроился работать на завод",description:"В 2002 году Андраш Арато выиграл премию Яноша Урбанека. Венгерская электротехническая ассоциация ежегодно присуждает эту премию за выдающуюся деятельность в области технологий освещения.",imageUrl:"https://cdn.builder.io/api/v1/image/assets/TEMP/a6b2da64eb220fba6e1f02509dc742717808944869511e10addefce0333d96b4"},{date:"22.06.2019",title:"Переехал в Москву",description:"В 2019 году стал рекламным лицом Coca-Cola в Венгрии. Также снялся в рекламе российского пива «Zatecky Gus».",imageUrl:"https://cdn.builder.io/api/v1/image/assets/TEMP/37e771870667926d493439932a58a4d6ff7795a02414d69113d5c662b94389b5"}],r=[{author:"Пётр Алексеевич",date:"22.06.2019",content:"Я — представитель десятков, сотен, а может и тысяч людей, которые свой телевизионный путь начали с лёгкого весёлого пинка Гарольда Иванова. Он обладал удивительной способностью убедить человека в том, что он способен даже на то, что он не способен!"},{author:"Пётр Алексеевич",date:"22.06.2019",content:"Я — представитель десятков, сотен, а может и тысяч людей, которые свой телевизионный путь начали с лёгкого весёлого пинка Гарольда Иванова. Он обладал удивительной способностью убедить человека в том, что он способен даже на то, что он не способен!"},{author:"Пётр Алексеевич",date:"22.06.2019",content:"Я — представитель десятков, сотен, а может и тысяч людей, которые свой телевизионный путь начали с лёгкого весёлого пинка Гарольда Иванова. Он обладал удивительной способностью убедить человека в том, что он способен даже на то, что он не способен!"},{author:"Пётр Алексеевич",date:"22.06.2019",content:"Я — представитель десятков, сотен, а может и тысяч людей, которые свой телевизионный путь начали с лёгкого весёлого пинка Гарольда Иванова. Он обладал удивительной способностью убедить человека в том, что он способен даже на то, что он не способен!"}];return h.jsx(Qf,{id:n,children:h.jsxs(G,{children:[h.jsxs(G,{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"16px",flexWrap:"wrap"},children:[h.jsx("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap",alignItems:"center"},children:e.map((i,o)=>h.jsx("div",{style:{padding:"9px 12px",background:"rgba(0, 114, 245, 0.1)",borderRadius:"24px",color:"#5991D2",fontSize:"14px",fontWeight:"500",textAlign:"center"},children:i},o))}),h.jsxs("button",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 24px",background:"#68AFFF",borderRadius:"80px",color:"#FFFFFF",fontSize:"16px",fontWeight:"600",border:"none",cursor:"pointer"},tabIndex:0,children:[h.jsx(Mv,{fill:"#FFFFFF"}),h.jsx("span",{children:"Зарегистрироваться"})]})]}),h.jsx(G,{style:{padding:"130px",background:"rgba(0, 114, 245, 0.07)",borderRadius:"24px"},children:h.jsxs("div",{style:{display:"flex",gap:"16px",alignItems:"center"},children:[h.jsxs("div",{style:{flex:"1 1 50%",textAlign:"left"},children:[h.jsx("div",{style:{fontSize:"64px",fontWeight:"300",lineHeight:"1.2",marginBottom:"16px"},children:"Гарольд Иванов"}),h.jsxs("div",{style:{marginBottom:"16px"},children:[h.jsx("div",{style:{fontSize:"16px",color:"#666"},children:"Дата и место рождения"}),h.jsx("div",{style:{fontSize:"36px",fontWeight:"300"},children:"22.06.1944"})]}),h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px"},children:[h.jsx(a0,{fill:"#0072F5"}),h.jsx("div",{style:{fontSize:"16px"},children:"Россия, город Тартара, село Новоивановка"})]}),h.jsx("button",{style:{padding:"23px 35px",background:"#68AFFF",color:"#FFFFFF",borderRadius:"80px",fontSize:"16px",fontWeight:"600",border:"none",cursor:"pointer"},children:"Воспоминания о Гарольде"})]}),h.jsx("div",{style:{flex:"1 1 50%",textAlign:"center"},children:h.jsx("div",{style:{width:"300px",height:"300px",borderRadius:"50%",overflow:"hidden",margin:"0 auto"},children:h.jsx("img",{src:"src\\assets\\img\\garold.png",alt:"Гарольд Иванов",style:{width:"100%",height:"100%",objectFit:"cover"}})})})]})}),h.jsxs("div",{style:{padding:"0px 102px"},children:[h.jsx("h2",{style:{fontSize:"52px",textAlign:"center",fontWeight:"300"},children:"События из жизни"}),t.map((i,o)=>h.jsxs("div",{children:[h.jsx("div",{style:{textAlign:"center"},children:o===0?h.jsxs(h.Fragment,{children:[h.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:"#fff",border:"2px solid #C1DEFF",textAlign:"center",lineHeight:"32px",fontSize:"14px",fontWeight:"600",color:"#68AFFF",margin:"0 auto"},children:o+1}),h.jsx("div",{style:{height:"50px",width:"2px",background:"#D0E4FF",margin:"0 auto"}})]}):h.jsxs(h.Fragment,{children:[h.jsx("div",{style:{height:"50px",width:"2px",background:"#D0E4FF",margin:"0 auto"}}),h.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:"#fff",border:"2px solid #C1DEFF",textAlign:"center",lineHeight:"32px",fontSize:"14px",fontWeight:"600",color:"#68AFFF",margin:"0 auto"},children:o+1}),h.jsx("div",{style:{height:"50px",width:"2px",background:"#D0E4FF",margin:"0 auto"}})]})}),h.jsxs("div",{style:{padding:"47px",background:"rgba(0, 114, 245, 0.07)",border:"2px solid #C1DEFF",borderRadius:"16px",display:"flex",flexDirection:o%2===0?"row":"row-reverse",alignItems:"flex-start",gap:"16px"},children:[h.jsx("div",{style:{flex:"1 1 50%",display:"flex",justifyContent:"center"},children:h.jsxs("div",{style:{position:"relative",width:"400px",height:"400px",borderRadius:"16px",overflow:"hidden"},children:[h.jsx("div",{style:{position:"relative",width:"100%",height:"100%"},children:h.jsx("img",{src:"src\\assets\\img\\garold.png",alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}})}),h.jsxs("div",{style:{position:"absolute",bottom:"8px",left:"50%",transform:"translateX(-50%)",display:"flex",alignItems:"center",gap:"8px",background:"#FFFFFF",borderRadius:"16px",padding:"4px 8px",boxShadow:"0px 4px 6px rgba(0, 0, 0, 0.1)"},children:[h.jsx("button",{style:{background:"#FFFFFF",border:"1px solid #E0E6ED",borderRadius:"50%",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:"←"}),h.jsx("span",{style:{fontSize:"14px",color:"#0072F5",fontWeight:"500"},children:"1/3"}),h.jsx("button",{style:{background:"#0072F5",border:"none",borderRadius:"50%",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",color:"#FFFFFF",cursor:"pointer"},children:"→"})]})]})}),h.jsxs("div",{style:{marginLeft:"100px"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",color:"#68AFFF",fontWeight:"500",marginBottom:"36px",fontSize:"14px"},children:[h.jsx(o0,{style:{marginRight:"8px"}}),h.jsx("span",{children:i.date})]}),h.jsx("div",{style:{fontSize:"36px",fontWeight:"300",marginBottom:"32px"},children:i.title}),h.jsx("div",{style:{fontSize:"16px",color:"#26272D",lineHeight:"1.5",paddingRight:"82px"},children:i.description})]})]})]},o))]}),h.jsxs(G,{style:{padding:"0px 102px",borderRadius:"24px",marginTop:"24px"},children:[h.jsxs("div",{style:{textAlign:"center",marginBottom:"24px"},children:[h.jsx("h3",{style:{fontSize:"18px",color:"#68AFFF",fontWeight:"500",marginBottom:"8px"},children:"Дата смерти и место захоронения:"}),h.jsx("div",{style:{fontSize:"52px",fontWeight:"300",color:"#26272D",marginBottom:"16px"},children:"22.06.2024"}),h.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",fontSize:"16px",color:"#26272D"},children:[h.jsx(a0,{fill:"#0072F5"}),h.jsx("span",{children:"Россия, респ. Татарстан, село Нижневерхневка, Старонововское кладбище"})]})]}),h.jsxs("div",{style:{marginTop:"24px",padding:"16px",background:"#FFFFFF",border:"1px solid #E0E6ED",borderRadius:"16px",display:"flex",flexDirection:"column"},children:[h.jsxs("form",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px"},children:[h.jsx("input",{type:"text",placeholder:"Адрес или объект",style:{flex:1,padding:"12px",border:"1px solid #E0E6ED",borderRadius:"8px",outline:"none",fontSize:"14px"}}),h.jsx("button",{type:"submit",style:{padding:"12px 24px",background:"#68AFFF",color:"#FFFFFF",borderRadius:"8px",border:"none",cursor:"pointer",fontWeight:"500",fontSize:"14px"},children:"Найти"})]}),h.jsx("div",{style:{width:"100%",height:"300px",background:"#F9FAFB",borderRadius:"8px",position:"relative"},children:h.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"#68AFFF",fontSize:"32px"},children:"📍"})})]})]}),h.jsxs("div",{style:{marginTop:"48px",textAlign:"center"},children:[h.jsx("h3",{style:{fontSize:"18px",color:"#68AFFF",fontWeight:"500",marginBottom:"16px"},children:"Биография"}),h.jsx("p",{style:{fontSize:"42px",fontWeight:"300",lineHeight:"1.5",color:"#26272D",maxWidth:"1000px",margin:"0 auto"},children:"Гарольд Иванов мог стать железнодорожником, как его отец, а стал не много ни мало «мэтром телевидения». Работая в молодёжной редакции центрального телевидения, Гарольд Иванов стоял у истоков таких передач как КВН, «А ну-ка, парни!», «А ну-ка, девушки!», «От всей души», «Аукцион», «Что? Где? Когда?», «Поле чудес» и многих других."}),h.jsx("div",{style:{marginTop:"24px",height:"2px",width:"120px",background:"#68AFFF",marginLeft:"auto",marginRight:"auto"}})]}),h.jsxs("div",{style:{marginTop:"48px",textAlign:"center"},children:[h.jsx("h3",{style:{fontSize:"52px",fontWeight:"300",marginBottom:"24px",color:"#26272D"},children:"Фотогалерея"}),h.jsxs(Wl,{modules:[ju],navigation:{prevEl:".custom-prev",nextEl:".custom-next"},spaceBetween:20,slidesPerView:3,centeredSlides:!0,loop:!0,style:{padding:"0 16px"},children:[h.jsx(bi,{children:h.jsx("img",{src:"src/assets/img/image2.png",alt:"Фото 1",style:{width:"100%",height:"auto",borderRadius:"16px",objectFit:"cover",transition:"transform 0.3s ease-in-out"},className:"swiper-slide-center"})}),h.jsx(bi,{children:h.jsx("img",{src:"src/assets/img/image2.png",alt:"Фото 2",style:{width:"100%",height:"auto",borderRadius:"16px",objectFit:"cover",transition:"transform 0.3s ease-in-out"},className:"swiper-slide-center"})}),h.jsx(bi,{children:h.jsx("img",{src:"src/assets/img/image3.png",alt:"Фото 3",style:{width:"100%",height:"auto",borderRadius:"16px",objectFit:"cover",transition:"transform 0.3s ease-in-out"},className:"swiper-slide-center"})}),h.jsx(bi,{children:h.jsx("img",{src:"src/assets/img/image3.png",alt:"Фото 3",style:{width:"100%",height:"auto",borderRadius:"16px",objectFit:"cover",transition:"transform 0.3s ease-in-out"},className:"swiper-slide-center"})})]}),h.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"16px",marginTop:"24px"},children:[h.jsx("button",{className:"custom-prev",style:{width:"48px",height:"48px",borderRadius:"50%",border:"2px solid #68AFFF",background:"transparent",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"background 0.3s ease"},onMouseEnter:i=>i.currentTarget.style.background="rgba(104, 175, 255, 0.1)",onMouseLeave:i=>i.currentTarget.style.background="transparent",children:h.jsx("img",{src:"src\\assets\\img\\left.svg",alt:"left"})}),h.jsx("button",{className:"custom-next",style:{width:"48px",height:"48px",borderRadius:"50%",border:"2px solid #68AFFF",background:"transparent",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"background 0.3s ease"},onMouseEnter:i=>i.currentTarget.style.background="rgba(104, 175, 255, 0.1)",onMouseLeave:i=>i.currentTarget.style.background="transparent",children:h.jsx("img",{src:"src\\assets\\img\\right.svg",alt:"right"})})]})]}),h.jsx(G,{style:{textAlign:"center",marginTop:"45px"},children:h.jsx("h3",{style:{fontSize:"42px",fontWeight:"300"},children:"Воспоминания"})}),h.jsxs(G,{children:["\\",h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"16px",marginRight:"100px",marginLeft:"100px"},children:[h.jsx("div",{style:{width:"48px",display:"flex",alignItems:"center"},children:h.jsx("button",{className:"custom-prev-1",style:{width:"48px",height:"48px",borderRadius:"50%",border:"2px solid #68AFFF",background:"transparent",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"background 0.3s ease"},onMouseEnter:i=>i.currentTarget.style.background="rgba(104, 175, 255, 0.1)",onMouseLeave:i=>i.currentTarget.style.background="transparent",children:h.jsx("img",{src:"src\\assets\\img\\left.svg",alt:"left"})})}),h.jsx(Wl,{modules:[ju],navigation:{prevEl:".custom-prev-1",nextEl:".custom-next-1"},spaceBetween:18,slidesPerView:2,loop:!0,style:{padding:"0 17px"},children:r.map((i,o)=>h.jsx(bi,{children:h.jsxs("div",{style:{background:"rgba(0, 114, 245, 0.07)",borderRadius:"16px",padding:"32px",textAlign:"left",maxWidth:"520px"},children:[h.jsx("img",{src:"src\\assets\\img\\quotes.svg",alt:"Quote",style:{width:"24px",marginBottom:"16px"}}),h.jsx("h4",{style:{fontSize:"18px",marginBottom:"8px"},children:i.author}),h.jsxs("p",{style:{fontSize:"14px",color:"#99A2AD",marginBottom:"16px",display:"flex",alignItems:"center"},children:[h.jsx(o0,{style:{marginRight:"8px"}}),i.date]}),h.jsx("p",{style:{fontSize:"16px",lineHeight:"1.5"},children:i.content})]})},o))}),h.jsx("div",{style:{width:"48px",display:"flex",alignItems:"center"},children:h.jsx("button",{className:"custom-next-1",style:{width:"48px",height:"48px",borderRadius:"50%",border:"2px solid #68AFFF",background:"transparent",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"background 0.3s ease"},onMouseEnter:i=>i.currentTarget.style.background="rgba(104, 175, 255, 0.1)",onMouseLeave:i=>i.currentTarget.style.background="transparent",children:h.jsx("img",{src:"src\\assets\\img\\right.svg",alt:"right"})})})]})]}),h.jsxs(G,{style:{background:"rgba(0, 114, 245, 0.07)",borderRadius:"24px",textAlign:"center",position:"relative",overflow:"hidden",marginTop:"45px",padding:"130px"},children:[h.jsx("div",{style:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",backgroundImage:"url('srcassetsimg\bg-footer.png')",backgroundSize:"cover",backgroundPosition:"center",zIndex:0,opacity:.15}}),h.jsxs("div",{style:{position:"relative",zIndex:1},children:[h.jsx("div",{style:{fontSize:"16px",color:"#0072F5",fontWeight:"500",marginBottom:"16px"},children:"Создать фамильное древо"}),h.jsx("h2",{style:{fontSize:"32px",fontWeight:"600",color:"#26272D",lineHeight:"1.4",marginBottom:"32px"},children:"Хотите сохранить воспоминания о близких — создайте своё фамильное древо"}),h.jsx("button",{style:{padding:"24px 40px",background:"#68AFFF",borderRadius:"80px",color:"#FFFFFF",fontSize:"16px",fontWeight:"600",border:"none",cursor:"pointer"},children:"Зарегистрироваться"})]})]}),h.jsxs("footer",{style:{marginTop:"40px",fontSize:"14px",color:"#A3A3A3",lineHeight:"1.5",display:"flex",alignItems:"center",justifyContent:"center"},children:[h.jsx("div",{children:"© 2024 «Drevo»"}),h.jsx("a",{href:"/privacy",style:{color:"#0072F5",textDecoration:"none",fontWeight:"500",marginLeft:"40px",display:"block"},children:"Политика конфиденциальности"})]})]})})},yk=({openShareLinkModal:n})=>{const e=as(),{panel:t}=V2();return h.jsx(Xb,{children:h.jsxs("div",{className:"tabbar-div",children:[h.jsx(Ls,{onClick:()=>e.push("/"),selected:t==="home",text:"Главная",children:h.jsx(Mv,{})}),h.jsx(Ls,{onClick:()=>e.push("/my_tree"),selected:t==="my_tree",text:"Древо",children:h.jsx(V6,{})}),h.jsx(Ls,{text:"Поделиться",onClick:n,children:h.jsx(H6,{})}),h.jsx(Ls,{selected:t==="persik",text:"Русский",children:h.jsx(D6,{})})]})})},xk=({id:n,onClose:e,openShareQR:t,openAddMedia:r,openEditFather:i})=>{const[o,a]=k.useState(!0),[s,l]=k.useState(!1),c=as(),d=()=>{a(m=>!m)},f=()=>{l(m=>!m)},u=[{imageUrl:"https://cdn.builder.io/api/v1/image/assets/TEMP/7f3c76a85323cfd27ac0b610f498c3dac5fd69fde5c8d5bf43de02eb597ea3ef",name:"Григорий Иванов",relation:"Его отец"},{imageUrl:"https://cdn.builder.io/api/v1/image/assets/TEMP/2db112472063a6d5707febfc3f627b69eaef59b7424143fb8b625341116a1884",name:"Юлия Иванова",relation:"Его мать"},{imageUrl:"https://cdn.builder.io/api/v1/image/assets/TEMP/28474551813dd43a6f708885e0157d4cfbeb919a37e185d1730cfe2c5c2baa91",name:"Анжелика Иванова",relation:"Его жена"},{imageUrl:"https://cdn.builder.io/api/v1/image/assets/TEMP/9b42c2fad078bfd267f101823d3e53a550d0ad604388a119cefd22a7bf800822",name:"Себастьян Иванов",relation:"Его сын"}],p=[{imageUrl:"https://cdn.builder.io/api/v1/image/assets/TEMP/c9a3deef9f13306db63b9ce0c197b94a9f975c7bf854fcdc90c140d4ef7e4413",alt:"Family photo 1"},{imageUrl:"https://cdn.builder.io/api/v1/image/assets/TEMP/245c147ee6184e0b096ce8dcb6a792a03b09fdb9c31a9bb05603a8c6cf541915",alt:"Family photo 2"},{imageUrl:"https://cdn.builder.io/api/v1/image/assets/TEMP/4fa956739ca77beecbdc7f2d8c5bea43abff9510d38bb93eec1f1f6a4b099508",alt:"Family photo 3"}],g=[{date:"22.06.1941",iconSrc:"https://cdn.builder.io/api/v1/image/assets/TEMP/ce94d9cbacf5482930af95518062e216a20738f67b4398258fc7ea2d1946af91",description:"Стал известным после того, как многочисленные фотографии с его участием стали интернет-мемом...",imageUrl:"https://cdn.builder.io/api/v1/image/assets/TEMP/f0dd387173beb17344cfb63ee1d80c008960c5a1043ff15e445a862630aacd86",videoUrl:"https://cdn.builder.io/api/v1/image/assets/TEMP/dd9b5b9823d3b94c49fec925e386af8889941c398f95ce1c24c433e26f562f78",images:["src/assets/img/image1.png","src/assets/img/image1.png","src/assets/img/image1.png"]}];return h.jsx(Uo,{id:n,onClose:e,settlingHeight:80,className:"relative-profile",children:h.jsxs(ot,{children:[h.jsxs(G,{className:"header-icons",children:[h.jsx(G6,{onClick:()=>c.push("/timeline")}),h.jsx(X6,{onClick:t})]}),h.jsxs(G,{className:"profile-info",children:[h.jsx(qt,{size:72,src:"https://cdn.builder.io/api/v1/image/assets/TEMP/c203ea62718e48a2f1409873489f045f8cff85e00095bac254ba36cb7fb16298"}),h.jsxs("div",{children:[h.jsx("h2",{className:"profile-name",children:"Гарольд Иванов"}),h.jsx("span",{className:"profile-status",children:"Ваш прадед"})]})]}),h.jsxs(G,{className:"profile-details",children:[h.jsxs("p",{className:"profile-details-date",children:["Дата и место рождения: ",h.jsx("br",{}),h.jsx("span",{children:"30 дек. 1910 - Москва"})]}),h.jsxs("p",{className:"profile-details-date",children:["Дата смерти и место захоронения: ",h.jsx("br",{}),h.jsx("span",{children:"15 сен. 1995 - Москва"})]})]}),h.jsxs(G,{className:"buttons",children:[h.jsx("button",{className:"edit-button",onClick:i,children:"Редактировать"}),h.jsx("button",{className:"delete-button",onClick:()=>console.log("Удалить"),children:"Удалить"})]}),h.jsxs(G,{className:"section",children:[h.jsxs("div",{className:"section-group",children:[h.jsx("h2",{className:"section-title",children:"Фото и видео"}),h.jsx("div",{className:"add-btn",onClick:r,children:h.jsx(i0,{fill:"#5181B8"})})]}),h.jsx("div",{className:"photo-grid",children:p.map((m,w)=>h.jsx("img",{src:m.imageUrl,alt:m.alt},w))})]}),h.jsxs(G,{className:"section",children:[h.jsxs("div",{className:"section-group",children:[h.jsx("h2",{className:"section-title",children:"Близкие родственники"}),h.jsx("div",{className:"dropdown-btn",onClick:d,children:h.jsx(x6,{fill:"#5181B8",style:{transform:o?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s ease"}})})]}),h.jsx("div",{className:"relative-cards-container ".concat(o?"open":"closed"),children:u.map((m,w)=>h.jsxs("div",{className:"relative-card",children:[h.jsx(qt,{size:48,src:m.imageUrl,noBorder:!0}),h.jsxs("div",{children:[h.jsx("h4",{className:"relative-card-name",children:m.name}),h.jsx("span",{className:"relative-card-status",children:m.relation})]})]},w))})]}),h.jsxs(G,{className:"section",children:[h.jsxs("div",{className:"section-group",children:[h.jsx("h2",{className:"section-title",children:"Биография"}),h.jsx("div",{className:"add-btn",children:h.jsx(i0,{fill:"#5181B8"})})]}),h.jsx("p",{className:"section-text ".concat(s?"expanded":""),children:"Стал известным после того, как многочисленные фотографии с его участием стали интернет-мемом. Стал известным после того, как многочисленные фотографии с его участием стали интернет-мемом. Стал известным после того, как многочисленные фотографии с его участием стали интернет-мемом. Стал известным после того, как многочисленные фотографии с его участием стали интернет-мемом."}),h.jsxs("a",{className:"section-link",onClick:f,children:[s?"Скрыть":"Читать полностью"," ",h.jsx(v6,{fill:"#9EB4C8"})]})]}),h.jsxs(G,{className:"section",children:[h.jsx("div",{className:"section-group",children:h.jsx("h2",{className:"section-title",children:"События из жизни"})}),h.jsx("button",{className:"life-event-add",children:"Добавить событие"}),g.map((m,w)=>h.jsxs("div",{className:"life-event",children:[h.jsxs("div",{className:"life-exent-header",children:[h.jsxs("span",{children:[h.jsx(m6,{width:16,height:16}),m.date]}),h.jsx(b6,{width:12,height:24,fill:"#99A2AD"})]}),h.jsxs("div",{children:[h.jsx("p",{children:m.description}),h.jsx(Wl,{modules:[ju],navigation:{nextEl:".custom-next-button",prevEl:".custom-prev-button"},spaceBetween:11,slidesPerView:"auto",loop:!0,style:{marginTop:"16px",padding:"10px 0",width:"110%"},children:m.images.map((y,x)=>h.jsxs(bi,{children:[h.jsx("img",{src:y,alt:"Slide ".concat(x+1),style:{width:"140px",height:"140px",objectFit:"cover",borderRadius:"12px"}}),h.jsx("div",{className:"life-event-close",style:{position:"absolute",top:"0",right:"0",background:"rgba(0, 0, 0, 0.5)",width:"18px",height:"18px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},onClick:()=>console.log("Удалить фото ".concat(x+1)),children:h.jsx(Wf,{fill:"#fff",width:10,height:10})})]},x))}),h.jsxs("div",{className:"slider-buttons",children:[h.jsx("span",{className:"custom-prev-button"}),h.jsx("span",{className:"custom-next-button"})]})]})]},w))]})]})})},bk=({id:n,onClose:e})=>h.jsxs(rp,{id:n,onClose:e,header:"Добавить событие",subheader:"Расскажите нам что-нибудь о своём родственнике?",actions:[h.jsx(yt,{size:"l",mode:"primary",onClick:e,children:"Добавить"},"submit")],children:[h.jsx(en,{children:h.jsx(Ke,{placeholder:"Расскажите о событии...",type:"text"})}),h.jsx(en,{top:"Видно всем",children:h.jsx(Ke,{placeholder:"Сейчас",disabled:!0})}),h.jsx(en,{top:"Добавить фото или видео",children:h.jsx(_w,{mode:"secondary"})})]}),wk=({id:n,onClose:e,qrCodeUrl:t})=>h.jsxs(rp,{id:n,onClose:e,header:"Поделиться QR-кодом",className:"modal-popup",children:[h.jsx(en,{children:h.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:28,marginTop:28},children:h.jsx("img",{src:t,alt:"QR Code",style:{width:110,height:110}})})}),h.jsxs(en,{className:"modal-input-two",children:[h.jsx(Ke,{className:"modal-input-two-input",value:"https://www.myheritage.com/research"}),h.jsx(yt,{className:"button-modal",size:"m",children:"Скопировать"})]}),h.jsx(Dl,{}),h.jsxs(en,{style:{display:"flex",justifyContent:"space-between",marginTop:"24px"},children:[h.jsx(yt,{size:"l",mode:"secondary",className:"button-modal-two",children:"Заказать изготовление"}),h.jsx(yt,{size:"l",mode:"secondary",className:"button-modal-three",children:"Скачать QR код"})]})]}),_k=({id:n,onClose:e})=>{const t=r=>{window.open(r,"_blank")};return h.jsxs(rp,{id:n,onClose:e,header:"Пригласить",className:"modal-popup-s",children:[h.jsxs(rs,{className:"radiodiv-modal",children:[h.jsx(Yn,{value:"alive",children:"С правами администратора"}),h.jsx(Yn,{value:"deceased",children:"Только просмотр"})]}),h.jsxs(en,{className:"modal-input-two",children:[h.jsx(Ke,{className:"modal-input-two-input",value:"https://www.myheritage.com/research"}),h.jsx(yt,{className:"button-modal",size:"m",children:"Скопировать"})]}),h.jsxs(en,{style:{display:"flex",justifyContent:"left",gap:"8px",padding:"0"},children:[h.jsx("img",{src:"/src/assets/img/VK.svg",alt:"Share on VK",style:{width:"40px",height:"40px",cursor:"pointer"},onClick:()=>t("https://vk.com")}),h.jsx("img",{src:"/src/assets/img/FB.svg",alt:"Share on Facebook",style:{width:"40px",height:"40px",cursor:"pointer"},onClick:()=>t("https://facebook.com")})]})]})},Sk=({id:n,onClose:e})=>{const[t,r]=k.useState(!0),[i,o]=k.useState(null),[a,s]=k.useState(void 0),[l,c]=k.useState("Александра"),[d,f]=k.useState("Петровна"),[u,p]=k.useState("Журавлёва"),[g,m]=k.useState(""),[w,y]=k.useState(""),[x,v]=k.useState(""),[S,_]=k.useState("Кузьменко"),[b,C]=k.useState("Архангельск"),[N,I]=k.useState(""),[E,A]=k.useState(""),[T,P]=k.useState(""),[O,D]=k.useState(""),[W,H]=k.useState("");k.useEffect(()=>{if(i){const X=URL.createObjectURL(i);return s(X),()=>{URL.revokeObjectURL(X)}}else s(void 0)},[i]);const M=X=>{if(X.target.files&&X.target.files[0]){const Z=X.target.files[0],ae=["image/jpeg","image/png"],Ee=10*1024*1024;if(!ae.includes(Z.type)){alert("Недопустимый формат файла. Пожалуйста, выберите JPG или PNG.");return}if(Z.size>Ee){alert("Размер файла превышает 10MB.");return}o(Z)}},L=X=>{H(X.target.value)},j=X=>{X.preventDefault();const Z="".concat(x.padStart(4,"0"),"-").concat(w.padStart(2,"0"),"-").concat(g.padStart(2,"0")),ae="".concat(T.padStart(4,"0"),"-").concat(E.padStart(2,"0"),"-").concat(N.padStart(2,"0"));console.log({photo:i,isAlive:t,firstName:l,patronymic:d,maidenName:u,dateOfBirth:Z,marriedName:S,placeOfBirth:b,dateOfDeath:t?null:ae,placeOfBurial:t?null:O,biography:W}),e()},F=X=>{r(X.target.value==="alive")},q=Array.from({length:31},(X,Z)=>Z+1),Y=[{label:"Январь",value:"01"},{label:"Февраль",value:"02"},{label:"Март",value:"03"},{label:"Апрель",value:"04"},{label:"Май",value:"05"},{label:"Июнь",value:"06"},{label:"Июль",value:"07"},{label:"Август",value:"08"},{label:"Сентябрь",value:"09"},{label:"Октябрь",value:"10"},{label:"Ноябрь",value:"11"},{label:"Декабрь",value:"12"}],K=new Date().getFullYear(),U=Array.from({length:100},(X,Z)=>(K-Z).toString());return h.jsx(Uo,{id:n,settlingHeight:80,header:h.jsx(Qv,{children:"Добавить мать для Алексея Иванова"}),className:"add-mother-modal",children:h.jsxs("form",{onSubmit:j,children:[h.jsx(ot,{children:h.jsxs(G,{className:"photo-group",children:[h.jsx(qt,{size:113,src:a,children:!i&&h.jsx(jl,{className:"camera-icon",width:48,height:48})}),h.jsxs(G,{className:"upload-input-wrapper",children:[h.jsx(G,{className:"input-label",children:"Загрузить фото"}),h.jsxs(G,{className:"upload-input",role:"button",tabIndex:0,onClick:()=>{const X=document.getElementById("photo-upload-input");X&&X.click()},onKeyDown:X=>{if(X.key==="Enter"||X.key===" "){const Z=document.getElementById("photo-upload-input");Z&&Z.click()}},children:[h.jsx(G,{className:"upload-status",children:i?i.name:"Фото не выбрано"}),i?h.jsx(Iv,{className:"add-icon"}):h.jsx(jl,{className:"camera-icon",width:24,height:24})]}),h.jsx("input",{id:"photo-upload-input",type:"file",accept:".jpg,.jpeg,.png",style:{display:"none"},onChange:M}),h.jsx(G,{className:"input-label",children:"Поддерживаемые форматы JPG, PNG до 10МБ"})]})]})}),h.jsx(ot,{children:h.jsxs(G,{className:"two-columns",children:[h.jsxs(G,{className:"column",children:[h.jsx(G,{className:"input-label",children:"Имя"}),h.jsx(Ke,{placeholder:"Введите имя",value:l,onChange:X=>c(X.target.value)}),h.jsx(G,{className:"input-label",children:"Отчество"}),h.jsx(Ke,{placeholder:"Введите отчество",value:d,onChange:X=>f(X.target.value)}),h.jsx(G,{className:"input-label",children:"Дата рождения"}),h.jsxs(G,{className:"date-wrapper",children:[h.jsx(G,{className:"date-select",children:h.jsx(lt,{placeholder:"День",value:g,onChange:X=>m(X.target.value),options:[{label:"День",value:""},...q.map(X=>({label:X.toString(),value:X.toString().padStart(2,"0")}))]})}),h.jsx(G,{className:"date-select",children:h.jsx(lt,{placeholder:"Месяц",value:w,onChange:X=>y(X.target.value),options:[{label:"Месяц",value:""},...Y.map(X=>({label:X.label,value:X.value}))]})}),h.jsx(G,{className:"date-select",children:h.jsx(lt,{placeholder:"Год",value:x,onChange:X=>v(X.target.value),options:[{label:"Год",value:""},...U.map(X=>({label:X,value:X}))]})})]})]}),h.jsxs(G,{className:"column",children:[h.jsx(G,{className:"input-label",children:"Девичья фамилия"}),h.jsx(Ke,{placeholder:"Введите девичью фамилию",value:u,onChange:X=>p(X.target.value)}),h.jsx(G,{className:"input-label",children:"Фамилия после замужества"}),h.jsx(Ke,{placeholder:"Введите фамилию после замужества",value:S,onChange:X=>_(X.target.value)}),h.jsx(G,{className:"input-label",children:"Место рождения"}),h.jsx(Ke,{placeholder:"Введите место рождения",value:b,onChange:X=>C(X.target.value)})]})]})}),h.jsx(G,{children:h.jsxs(rs,{onChange:F,className:"radiodiv",children:[h.jsx(Yn,{value:"alive",checked:t,children:"Жива"}),h.jsx(Yn,{value:"deceased",checked:!t,children:"Умерла"})]})}),!t&&h.jsxs(G,{className:"two-columns",children:[h.jsxs(G,{className:"column",children:[h.jsx(G,{className:"input-label",children:"Дата смерти"}),h.jsxs(G,{className:"date-wrapper",children:[h.jsx(G,{className:"date-select",children:h.jsx(lt,{placeholder:"День",value:N,onChange:X=>I(X.target.value),options:[{label:"День",value:""},...q.map(X=>({label:X.toString(),value:X.toString().padStart(2,"0")}))]})}),h.jsx(G,{className:"date-select",children:h.jsx(lt,{placeholder:"Месяц",value:E,onChange:X=>A(X.target.value),options:[{label:"Месяц",value:""},...Y.map(X=>({label:X.label,value:X.value}))]})}),h.jsx(G,{className:"date-select",children:h.jsx(lt,{placeholder:"Год",value:T,onChange:X=>P(X.target.value),options:[{label:"Год",value:""},...U.map(X=>({label:X,value:X}))]})})]})]}),h.jsxs(G,{className:"column",children:[h.jsx(G,{className:"input-label",children:"Место захоронения"}),h.jsx(Ke,{placeholder:"Введите место захоронения",value:O,onChange:X=>D(X.target.value)})]})]}),h.jsx(ot,{children:h.jsxs(G,{children:[h.jsx(G,{className:"input-label",children:"Биография"}),h.jsx(xc,{placeholder:"Напишите биографию",value:W,onChange:L}),h.jsx(yt,{type:"submit",stretched:!0,mode:"primary",className:"submot-popup",children:"Добавить"})]})})]})})},kk=({id:n,onClose:e})=>{const[t,r]=k.useState(!0),[i,o]=k.useState(null),[a,s]=k.useState(void 0),[l,c]=k.useState("Гарольд"),[d,f]=k.useState("Иванов"),[u,p]=k.useState(""),[g,m]=k.useState(""),[w,y]=k.useState(""),[x,v]=k.useState("Иванович"),[S,_]=k.useState("Архангельск"),[b,C]=k.useState(""),[N,I]=k.useState(""),[E,A]=k.useState(""),[T,P]=k.useState(""),[O,D]=k.useState("");k.useEffect(()=>{if(i){const K=URL.createObjectURL(i);return s(K),()=>{URL.revokeObjectURL(K)}}else s(void 0)},[i]);const W=K=>{if(K.target.files&&K.target.files[0]){const U=K.target.files[0],X=["image/jpeg","image/png"],Z=10*1024*1024;if(!X.includes(U.type)){alert("Недопустимый формат файла. Пожалуйста, выберите JPG или PNG.");return}if(U.size>Z){alert("Размер файла превышает 10MB.");return}o(U)}},H=K=>{D(K.target.value)},M=K=>{K.preventDefault();const U="".concat(w.padStart(4,"0"),"-").concat(g.padStart(2,"0"),"-").concat(u.padStart(2,"0")),X="".concat(E.padStart(4,"0"),"-").concat(N.padStart(2,"0"),"-").concat(b.padStart(2,"0"));console.log({photo:i,isAlive:t,firstName:l,patronymic:d,dateOfBirth:U,marriedName:x,placeOfBirth:S,dateOfDeath:t?null:X,placeOfBurial:t?null:T,biography:O}),e()},L=K=>{r(K.target.value==="alive")},j=Array.from({length:31},(K,U)=>U+1),F=[{label:"Январь",value:"01"},{label:"Февраль",value:"02"},{label:"Март",value:"03"},{label:"Апрель",value:"04"},{label:"Май",value:"05"},{label:"Июнь",value:"06"},{label:"Июль",value:"07"},{label:"Август",value:"08"},{label:"Сентябрь",value:"09"},{label:"Октябрь",value:"10"},{label:"Ноябрь",value:"11"},{label:"Декабрь",value:"12"}],q=new Date().getFullYear(),Y=Array.from({length:100},(K,U)=>(q-U).toString());return h.jsx(Uo,{id:n,settlingHeight:80,header:h.jsx(Qv,{children:"Добавить отца для Алексея Иванова"}),className:"add-mother-modal",children:h.jsxs("form",{onSubmit:M,children:[h.jsx(ot,{children:h.jsxs(G,{className:"photo-group",children:[h.jsx(qt,{size:113,src:a,children:!i&&h.jsx(jl,{className:"camera-icon",width:48,height:48})}),h.jsxs(G,{className:"upload-input-wrapper",children:[h.jsx(G,{className:"input-label",children:"Загрузить фото"}),h.jsxs(G,{className:"upload-input",role:"button",tabIndex:0,onClick:()=>{const K=document.getElementById("photo-upload-input");K&&K.click()},onKeyDown:K=>{if(K.key==="Enter"||K.key===" "){const U=document.getElementById("photo-upload-input");U&&U.click()}},children:[h.jsx(G,{className:"upload-status",children:i?i.name:"Фото не выбрано"}),i?h.jsx(Iv,{className:"add-icon"}):h.jsx(jl,{className:"camera-icon",width:24,height:24})]}),h.jsx("input",{id:"photo-upload-input",type:"file",accept:".jpg,.jpeg,.png",style:{display:"none"},onChange:W}),h.jsx(G,{className:"input-label",children:"Поддерживаемые форматы JPG, PNG до 10МБ"})]})]})}),h.jsx(ot,{children:h.jsxs(G,{className:"two-columns",children:[h.jsxs(G,{className:"column",children:[h.jsx(G,{className:"input-label",children:"Имя"}),h.jsx(Ke,{placeholder:"Введите имя",value:l,onChange:K=>c(K.target.value)}),h.jsx(G,{className:"input-label",children:"Отчество"}),h.jsx(Ke,{placeholder:"Введите отчество",value:d,onChange:K=>f(K.target.value)}),h.jsx(G,{className:"input-label",children:"Дата рождения"}),h.jsxs(G,{className:"date-wrapper",children:[h.jsx(G,{className:"date-select",children:h.jsx(lt,{placeholder:"День",value:u,onChange:K=>p(K.target.value),options:[{label:"День",value:""},...j.map(K=>({label:K.toString(),value:K.toString().padStart(2,"0")}))]})}),h.jsx(G,{className:"date-select",children:h.jsx(lt,{placeholder:"Месяц",value:g,onChange:K=>m(K.target.value),options:[{label:"Месяц",value:""},...F.map(K=>({label:K.label,value:K.value}))]})}),h.jsx(G,{className:"date-select",children:h.jsx(lt,{placeholder:"Год",value:w,onChange:K=>y(K.target.value),options:[{label:"Год",value:""},...Y.map(K=>({label:K,value:K}))]})})]})]}),h.jsxs(G,{className:"column",children:[h.jsx(G,{className:"input-label",children:"Фамилия"}),h.jsx(Ke,{placeholder:"Введите фамилию после замужества",value:x,onChange:K=>v(K.target.value)}),h.jsx(G,{className:"input-label",children:"Место рождения"}),h.jsx(Ke,{placeholder:"Введите место рождения",value:S,onChange:K=>_(K.target.value)})]})]})}),h.jsx(G,{children:h.jsxs(rs,{onChange:L,className:"radiodiv",children:[h.jsx(Yn,{value:"alive",checked:t,children:"Жив"}),h.jsx(Yn,{value:"deceased",checked:!t,children:"Умер"})]})}),!t&&h.jsxs(G,{className:"two-columns",children:[h.jsxs(G,{className:"column",children:[h.jsx(G,{className:"input-label",children:"Дата смерти"}),h.jsxs(G,{className:"date-wrapper",children:[h.jsx(G,{className:"date-select",children:h.jsx(lt,{placeholder:"День",value:b,onChange:K=>C(K.target.value),options:[{label:"День",value:""},...j.map(K=>({label:K.toString(),value:K.toString().padStart(2,"0")}))]})}),h.jsx(G,{className:"date-select",children:h.jsx(lt,{placeholder:"Месяц",value:N,onChange:K=>I(K.target.value),options:[{label:"Месяц",value:""},...F.map(K=>({label:K.label,value:K.value}))]})}),h.jsx(G,{className:"date-select",children:h.jsx(lt,{placeholder:"Год",value:E,onChange:K=>A(K.target.value),options:[{label:"Год",value:""},...Y.map(K=>({label:K,value:K}))]})})]})]}),h.jsxs(G,{className:"column",children:[h.jsx(G,{className:"input-label",children:"Место захоронения"}),h.jsx(Ke,{placeholder:"Введите место захоронения",value:T,onChange:K=>P(K.target.value)})]})]}),h.jsx(ot,{children:h.jsxs(G,{children:[h.jsx(G,{className:"input-label",children:"Биография"}),h.jsx(xc,{placeholder:"Напишите биографию",value:O,onChange:H}),h.jsx(yt,{type:"submit",stretched:!0,mode:"primary",className:"submot-popup",children:"Добавить"})]})})]})})},Ck=({id:n,onClose:e})=>{const[t,r]=k.useState(!0),[i]=k.useState(null),[,o]=k.useState(void 0),[a,s]=k.useState("Александра"),[l,c]=k.useState("Петровна"),[d,f]=k.useState("Журавлёва"),[u,p]=k.useState(""),[g,m]=k.useState(""),[w,y]=k.useState(""),[x,v]=k.useState("Кузьменко"),[S,_]=k.useState("Архангельск"),[b,C]=k.useState(""),[N,I]=k.useState(""),[E,A]=k.useState(""),[T,P]=k.useState(""),[O,D]=k.useState("");k.useEffect(()=>{if(i){const Y=URL.createObjectURL(i);return o(Y),()=>{URL.revokeObjectURL(Y)}}else o(void 0)},[i]);const W=Y=>{D(Y.target.value)},H=Y=>{Y.preventDefault();const K="".concat(w.padStart(4,"0"),"-").concat(g.padStart(2,"0"),"-").concat(u.padStart(2,"0")),U="".concat(E.padStart(4,"0"),"-").concat(N.padStart(2,"0"),"-").concat(b.padStart(2,"0"));console.log({photo:i,isAlive:t,firstName:a,patronymic:l,maidenName:d,dateOfBirth:K,marriedName:x,placeOfBirth:S,dateOfDeath:t?null:U,placeOfBurial:t?null:T,biography:O}),e()},M=Y=>{r(Y.target.value==="alive")},L=Array.from({length:31},(Y,K)=>K+1),j=[{label:"Январь",value:"01"},{label:"Февраль",value:"02"},{label:"Март",value:"03"},{label:"Апрель",value:"04"},{label:"Май",value:"05"},{label:"Июнь",value:"06"},{label:"Июль",value:"07"},{label:"Август",value:"08"},{label:"Сентябрь",value:"09"},{label:"Октябрь",value:"10"},{label:"Ноябрь",value:"11"},{label:"Декабрь",value:"12"}],F=new Date().getFullYear(),q=Array.from({length:100},(Y,K)=>(F-K).toString());return h.jsx(Uo,{id:n,settlingHeight:80,className:"add-mother-modal",children:h.jsxs("form",{onSubmit:H,children:[h.jsx(ot,{children:h.jsxs(G,{className:"photo-group",children:[h.jsx(qt,{size:113,src:"../src/assets/img/image1.png",alt:"Фото"}),h.jsxs(G,{className:"upload-input-wrapper",children:[h.jsx(G,{className:"user-name-modal",children:"Галина Иванова"}),h.jsx(G,{className:"user-relation-modal",children:"Ваша прабабушка"})]})]})}),h.jsx(ot,{children:h.jsxs(G,{className:"two-columns",children:[h.jsxs(G,{className:"column",children:[h.jsx(G,{className:"input-label",children:"Имя"}),h.jsx(Ke,{placeholder:"Введите имя",value:a,onChange:Y=>s(Y.target.value)}),h.jsx(G,{className:"input-label",children:"Отчество"}),h.jsx(Ke,{placeholder:"Введите отчество",value:l,onChange:Y=>c(Y.target.value)}),h.jsx(G,{className:"input-label",children:"Дата рождения"}),h.jsxs(G,{className:"date-wrapper",children:[h.jsx(G,{className:"date-select",children:h.jsx(lt,{placeholder:"День",value:u,onChange:Y=>p(Y.target.value),options:[{label:"День",value:""},...L.map(Y=>({label:Y.toString(),value:Y.toString().padStart(2,"0")}))]})}),h.jsx(G,{className:"date-select",children:h.jsx(lt,{placeholder:"Месяц",value:g,onChange:Y=>m(Y.target.value),options:[{label:"Месяц",value:""},...j.map(Y=>({label:Y.label,value:Y.value}))]})}),h.jsx(G,{className:"date-select",children:h.jsx(lt,{placeholder:"Год",value:w,onChange:Y=>y(Y.target.value),options:[{label:"Год",value:""},...q.map(Y=>({label:Y,value:Y}))]})})]})]}),h.jsxs(G,{className:"column",children:[h.jsx(G,{className:"input-label",children:"Девичья фамилия"}),h.jsx(Ke,{placeholder:"Введите девичью фамилию",value:d,onChange:Y=>f(Y.target.value)}),h.jsx(G,{className:"input-label",children:"Фамилия после замужества"}),h.jsx(Ke,{placeholder:"Введите фамилию после замужества",value:x,onChange:Y=>v(Y.target.value)}),h.jsx(G,{className:"input-label",children:"Место рождения"}),h.jsx(Ke,{placeholder:"Введите место рождения",value:S,onChange:Y=>_(Y.target.value)})]})]})}),h.jsx(G,{children:h.jsxs(rs,{onChange:M,className:"radiodiv",children:[h.jsx(Yn,{value:"alive",checked:t,children:"Жива"}),h.jsx(Yn,{value:"deceased",checked:!t,children:"Умерла"})]})}),!t&&h.jsxs(G,{className:"two-columns",children:[h.jsxs(G,{className:"column",children:[h.jsx(G,{className:"input-label",children:"Дата смерти"}),h.jsxs(G,{className:"date-wrapper",children:[h.jsx(G,{className:"date-select",children:h.jsx(lt,{placeholder:"День",value:b,onChange:Y=>C(Y.target.value),options:[{label:"День",value:""},...L.map(Y=>({label:Y.toString(),value:Y.toString().padStart(2,"0")}))]})}),h.jsx(G,{className:"date-select",children:h.jsx(lt,{placeholder:"Месяц",value:N,onChange:Y=>I(Y.target.value),options:[{label:"Месяц",value:""},...j.map(Y=>({label:Y.label,value:Y.value}))]})}),h.jsx(G,{className:"date-select",children:h.jsx(lt,{placeholder:"Год",value:E,onChange:Y=>A(Y.target.value),options:[{label:"Год",value:""},...q.map(Y=>({label:Y,value:Y}))]})})]})]}),h.jsxs(G,{className:"column",children:[h.jsx(G,{className:"input-label",children:"Место захоронения"}),h.jsx(Ke,{placeholder:"Введите место захоронения",value:T,onChange:Y=>P(Y.target.value)})]})]}),h.jsx(ot,{children:h.jsxs(G,{children:[h.jsx(G,{className:"input-label",children:"Биография"}),h.jsx(xc,{placeholder:"Напишите биографию",value:O,onChange:W}),h.jsx(yt,{type:"submit",stretched:!0,mode:"primary",className:"submot-popup",children:"Сохранить"})]})})]})})},Ek=({id:n,onClose:e})=>{const[t,r]=k.useState(!0),[i]=k.useState(null),[,o]=k.useState(void 0),[a,s]=k.useState("Гарольд"),[l,c]=k.useState("Иванов"),[d,f]=k.useState(""),[u,p]=k.useState(""),[g,m]=k.useState(""),[w,y]=k.useState("Иванович"),[x,v]=k.useState("Архангельск"),[S,_]=k.useState(""),[b,C]=k.useState(""),[N,I]=k.useState(""),[E,A]=k.useState(""),[T,P]=k.useState("");k.useEffect(()=>{if(i){const F=URL.createObjectURL(i);return o(F),()=>{URL.revokeObjectURL(F)}}else o(void 0)},[i]);const O=F=>{P(F.target.value)},D=F=>{F.preventDefault();const q="".concat(g.padStart(4,"0"),"-").concat(u.padStart(2,"0"),"-").concat(d.padStart(2,"0")),Y="".concat(N.padStart(4,"0"),"-").concat(b.padStart(2,"0"),"-").concat(S.padStart(2,"0"));console.log({photo:i,isAlive:t,firstName:a,patronymic:l,dateOfBirth:q,marriedName:w,placeOfBirth:x,dateOfDeath:t?null:Y,placeOfBurial:t?null:E,biography:T}),e()},W=F=>{r(F.target.value==="alive")},H=Array.from({length:31},(F,q)=>q+1),M=[{label:"Январь",value:"01"},{label:"Февраль",value:"02"},{label:"Март",value:"03"},{label:"Апрель",value:"04"},{label:"Май",value:"05"},{label:"Июнь",value:"06"},{label:"Июль",value:"07"},{label:"Август",value:"08"},{label:"Сентябрь",value:"09"},{label:"Октябрь",value:"10"},{label:"Ноябрь",value:"11"},{label:"Декабрь",value:"12"}],L=new Date().getFullYear(),j=Array.from({length:100},(F,q)=>(L-q).toString());return h.jsx(Uo,{id:n,settlingHeight:80,className:"add-mother-modal",children:h.jsxs("form",{onSubmit:D,children:[h.jsx(ot,{children:h.jsxs(G,{className:"photo-group",children:[h.jsx(qt,{size:113,src:"../src/assets/img/image1.png",alt:"Фото"}),h.jsxs(G,{className:"upload-input-wrapper",children:[h.jsx(G,{className:"user-name-modal",children:"Гароль Иванович"}),h.jsx(G,{className:"user-relation-modal",children:"Ваш прадед"})]})]})}),h.jsx(ot,{children:h.jsxs(G,{className:"two-columns",children:[h.jsxs(G,{className:"column",children:[h.jsx(G,{className:"input-label",children:"Имя"}),h.jsx(Ke,{placeholder:"Введите имя",value:a,onChange:F=>s(F.target.value)}),h.jsx(G,{className:"input-label",children:"Отчество"}),h.jsx(Ke,{placeholder:"Введите отчество",value:l,onChange:F=>c(F.target.value)}),h.jsx(G,{className:"input-label",children:"Дата рождения"}),h.jsxs(G,{className:"date-wrapper",children:[h.jsx(G,{className:"date-select",children:h.jsx(lt,{placeholder:"День",value:d,onChange:F=>f(F.target.value),options:[{label:"День",value:""},...H.map(F=>({label:F.toString(),value:F.toString().padStart(2,"0")}))]})}),h.jsx(G,{className:"date-select",children:h.jsx(lt,{placeholder:"Месяц",value:u,onChange:F=>p(F.target.value),options:[{label:"Месяц",value:""},...M.map(F=>({label:F.label,value:F.value}))]})}),h.jsx(G,{className:"date-select",children:h.jsx(lt,{placeholder:"Год",value:g,onChange:F=>m(F.target.value),options:[{label:"Год",value:""},...j.map(F=>({label:F,value:F}))]})})]})]}),h.jsxs(G,{className:"column",children:[h.jsx(G,{className:"input-label",children:"Фамилия "}),h.jsx(Ke,{placeholder:"Введите фамилию",value:w,onChange:F=>y(F.target.value)}),h.jsx(G,{className:"input-label",children:"Место рождения"}),h.jsx(Ke,{placeholder:"Введите место рождения",value:x,onChange:F=>v(F.target.value)})]})]})}),h.jsx(G,{children:h.jsxs(rs,{onChange:W,className:"radiodiv",children:[h.jsx(Yn,{value:"alive",checked:t,children:"Жива"}),h.jsx(Yn,{value:"deceased",checked:!t,children:"Умерла"})]})}),!t&&h.jsxs(G,{className:"two-columns",children:[h.jsxs(G,{className:"column",children:[h.jsx(G,{className:"input-label",children:"Дата смерти"}),h.jsxs(G,{className:"date-wrapper",children:[h.jsx(G,{className:"date-select",children:h.jsx(lt,{placeholder:"День",value:S,onChange:F=>_(F.target.value),options:[{label:"День",value:""},...H.map(F=>({label:F.toString(),value:F.toString().padStart(2,"0")}))]})}),h.jsx(G,{className:"date-select",children:h.jsx(lt,{placeholder:"Месяц",value:b,onChange:F=>C(F.target.value),options:[{label:"Месяц",value:""},...M.map(F=>({label:F.label,value:F.value}))]})}),h.jsx(G,{className:"date-select",children:h.jsx(lt,{placeholder:"Год",value:N,onChange:F=>I(F.target.value),options:[{label:"Год",value:""},...j.map(F=>({label:F,value:F}))]})})]})]}),h.jsxs(G,{className:"column",children:[h.jsx(G,{className:"input-label",children:"Место захоронения"}),h.jsx(Ke,{placeholder:"Введите место захоронения",value:E,onChange:F=>A(F.target.value)})]})]}),h.jsx(ot,{children:h.jsxs(G,{children:[h.jsx(G,{className:"input-label",children:"Биография"}),h.jsx(xc,{placeholder:"Напишите биографию",value:T,onChange:O}),h.jsx(yt,{type:"submit",stretched:!0,mode:"primary",className:"submot-popup",children:"Сохранить"})]})})]})})},Ik=({id:n,onClose:e})=>{const[t,r]=k.useState([]),[i,o]=k.useState([]),a=k.useRef(null);k.useEffect(()=>{const u=t.map(p=>URL.createObjectURL(p));return o(u),()=>{u.forEach(p=>URL.revokeObjectURL(p))}},[t]);const s=u=>{if(u.target.files){const p=Array.from(u.target.files);r(g=>[...g,...p])}},l=()=>{a.current&&a.current.click()},c=u=>{if(u.preventDefault(),u.dataTransfer.files){const p=Array.from(u.dataTransfer.files);r(g=>[...g,...p])}},d=u=>{u.preventDefault()},f=u=>{r(p=>p.filter((g,m)=>m!==u))};return h.jsxs(Uo,{id:n,onClose:e,className:"add-media",children:[h.jsxs(ot,{children:[h.jsxs(G,{style:{padding:"0"},children:[h.jsx("div",{className:"modal-subtitle",children:"Гароль Иванов - Ваш прадед"}),h.jsx("div",{className:"modal-title",children:"Добавить медиа"})]}),h.jsxs(G,{onDrop:c,onDragOver:d,style:{display:"flex",flexWrap:"wrap",gap:"15px",justifyContent:t.length===0?"center":" flex-start",alignItems:t.length===0?"center":"flex-start",alignContent:t.length===0?"none":"flex-start",minHeight:"320px",border:t.length===0?"2px dashed rgb(211, 211, 211)":"none",borderRadius:"10px",position:"relative",padding:"0",marginTop:"22px"},children:[t.length===0?h.jsx(h.Fragment,{children:h.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[h.jsx(s0,{width:44,height:44,fill:"#99A2AD"}),h.jsx("div",{style:{marginTop:"15px",fontWeight:"bold",fontSize:"20px"},children:"Перетащите фото и видео сюда"})]})}):h.jsxs(h.Fragment,{children:[i.map((u,p)=>h.jsxs("div",{style:{position:"relative",width:"160px",height:"160px"},children:[h.jsx(qt,{size:160,src:u,style:{objectFit:"cover",borderRadius:"10px"}}),h.jsx("div",{className:"life-event-close",style:{position:"absolute",top:"0",right:"0",background:"rgba(0, 0, 0, 0.5)",width:"22px",height:"22px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},onClick:()=>f(p),children:h.jsx(Wf,{fill:"#fff",width:14,height:14})})]},p)),h.jsxs("div",{style:{width:"160px",height:"160px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",border:"2px dashed rgb(211, 211, 211)",borderRadius:"10px",cursor:"pointer"},onClick:l,children:[h.jsx(s0,{fill:"#99A2AD",width:44,height:44}),h.jsx("div",{style:{marginTop:"10px",fontSize:"14px",color:"#000",fontWeight:"bold"},children:"Добавить ещё"})]})]}),h.jsx("input",{ref:a,type:"file",accept:"image/*,video/*",multiple:!0,style:{display:"none"},onChange:s})]})]}),h.jsx(G,{style:{display:"flex",justifyContent:"center",marginTop:"20px",padding:"0"},children:t.length===0?h.jsx(h.Fragment,{children:h.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"40px",width:"100%"},children:[h.jsx("div",{style:{marginTop:"10px",fontSize:"14px",color:"#999"},children:"или"}),h.jsx(yt,{size:"l",onClick:l,className:"button-add-media",children:"Выберите файлы"})]})}):h.jsxs(h.Fragment,{children:[h.jsx(yt,{size:"l",mode:"primary",onClick:e,className:"button-modal-two",children:"Завершить"}),h.jsx(yt,{size:"l",mode:"secondary",style:{marginLeft:"10px"},onClick:()=>r([]),className:"button-modal-three",children:"Отменить загрузку"})]})})]})},Nk=""+new URL("QRcode-D3e1xIwL.svg",import.meta.url).href,_d=[{id:1,name:"Иван Иванов",year:"1921",avatarUrl:"https://cdn.balkan.app/shared/2.jpg"},{id:2,name:"Мария Иванова",year:"1955",avatarUrl:"https://cdn.balkan.app/shared/2.jpg"},{id:3,name:"Анна Смирнова",year:"1980",avatarUrl:"https://cdn.balkan.app/shared/3.jpg"}],Mk=()=>{var f,u,p;const{panel:n=Ur.HOME}=V2(),[e,t]=k.useState(),[r,i]=k.useState(h.jsx(di,{size:"large"})),[o,a]=k.useState(null),[s,l]=k.useState(null),c=()=>{a(null)},d=h.jsxs(E8,{activeModal:o,onClose:c,children:[h.jsx(xk,{id:"relative-profile",onClose:c,selectedRelative:s?{id:String(s),name:(f=_d.find(g=>g.id===s))==null?void 0:f.name,year:(u=_d.find(g=>g.id===s))==null?void 0:u.year,avatarUrl:(p=_d.find(g=>g.id===s))==null?void 0:p.avatarUrl,onClose:c,openShareQR:()=>a("share-qr"),openAddMedia:()=>a("add-media"),openEditFather:()=>a("edit-father")}:null,openShareQR:function(){throw new Error("Function not implemented.")},openAddMedia:function(){throw new Error("Function not implemented.")},openEditFather:function(){throw new Error("Function not implemented.")}}),h.jsx(bk,{id:"add-event",onClose:c}),h.jsx(wk,{id:"share-qr",onClose:c,qrCodeUrl:Nk}),h.jsx(_k,{id:"share-link",onClose:c}),h.jsx(Sk,{id:"add-mother",onClose:c}),h.jsx(kk,{id:"add-father",onClose:c}),h.jsx(Ck,{id:"edit-mother",onClose:c}),h.jsx(Ek,{id:"edit-father",onClose:c}),h.jsx(Ik,{id:"add-media",onClose:c})]});return k.useEffect(()=>{async function g(){try{{const m=await jt.send("VKWebAppGetUserInfo",{});t(m)}}catch(m){console.error("Ошибка при получении информации о пользователе:",m)}finally{i(null)}}g()},[]),h.jsx(_2,{children:h.jsx(w2,{children:h.jsx(iv,{children:h.jsx(Vb,{popout:r,modal:d,children:h.jsxs(Yb,{children:[h.jsxs(Cb,{activePanel:n,children:[h.jsx(T_,{id:Ur.HOME,fetchedUser:e,openPopup:()=>a("add-event"),openQR:()=>a("share-qr"),openLink:()=>a("share-link"),openAddMother:()=>a("add-mother"),openAddFather:()=>a("add-father"),openEditMother:()=>a("edit-mother"),openEditFather:()=>a("edit-father"),openAddMedia:()=>a("add-media")}),h.jsx(O_,{id:Ur.PERSIK}),h.jsx(F_,{id:"my_tree",className:"relative-profile",onSelectRelative:g=>{console.log("Выбран узел с ID:",g),l(g),a("relative-profile")},openAddMother:()=>a("add-mother"),openAddFather:()=>a("add-father"),openEditMother:()=>a("edit-mother"),openEditFather:()=>a("edit-father")}),h.jsx(vk,{id:Ur.TIMELINE})]}),h.jsx(yk,{openShareLinkModal:()=>a("share-link")})]})})})})})},Ak=()=>{const n=Wy()||void 0,e=Ky()||void 0,t=N_(Vy()),{vk_platform:r}=Hy(window.location.search);return h.jsx(_2,{appearance:n,platform:r==="desktop_web"?"vkcom":void 0,isWebView:jt.isWebView(),hasCustomPanelHeaderAfter:!0,children:h.jsx(w2,{...t,children:h.jsx(iv,{mode:"full",safeAreaInsets:e,children:h.jsx(u_,{router:L_,children:h.jsx(Mk,{})})})})})};jt.send("VKWebAppInit");Lg(document.getElementById("root")).render(h.jsx(Ak,{}));export{Pk as __vite_legacy_guard};
